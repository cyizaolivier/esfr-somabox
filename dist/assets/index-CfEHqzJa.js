function M0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var eh={exports:{}},ki={},th={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),L0=Symbol.for("react.portal"),A0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),$0=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),H0=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),Uu=Symbol.iterator;function q0(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var rh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nh=Object.assign,sh={};function ms(e,t,r){this.props=e,this.context=t,this.refs=sh,this.updater=r||rh}ms.prototype.isReactComponent={};ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oh(){}oh.prototype=ms.prototype;function ud(e,t,r){this.props=e,this.context=t,this.refs=sh,this.updater=r||rh}var fd=ud.prototype=new oh;fd.constructor=ud;nh(fd,ms.prototype);fd.isPureReactComponent=!0;var $u=Array.isArray,ah=Object.prototype.hasOwnProperty,pd={current:null},ih={key:!0,ref:!0,__self:!0,__source:!0};function lh(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)ah.call(t,n)&&!ih.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Ro,type:e,key:a,ref:i,props:o,_owner:pd.current}}function G0(e,t){return{$$typeof:Ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ro}function Y0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bu=/\/+/g;function pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y0(""+e.key):t.toString(36)}function ja(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ro:case L0:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+pl(i,0):n,$u(o)?(r="",e!=null&&(r=e.replace(Bu,"$&/")+"/"),ja(o,t,r,"",function(d){return d})):o!=null&&(hd(o)&&(o=G0(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Bu,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",$u(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+pl(a,l);i+=ja(a,t,r,c,o)}else if(c=q0(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+pl(a,l++),i+=ja(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Go(e,t,r){if(e==null)return e;var n=[],o=0;return ja(e,n,"","",function(a){return t.call(r,a,o++)}),n}function J0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Na={transition:null},Q0={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Na,ReactCurrentOwner:pd};function ch(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Go,forEach:function(e,t,r){Go(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Go(e,function(){t++}),t},toArray:function(e){return Go(e,function(t){return t})||[]},only:function(e){if(!hd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ms;te.Fragment=A0;te.Profiler=F0;te.PureComponent=ud;te.StrictMode=I0;te.Suspense=W0;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0;te.act=ch;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nh({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=pd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ah.call(t,c)&&!ih.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ro,type:e.type,key:o,ref:a,props:n,_owner:i}};te.createContext=function(e){return e={$$typeof:$0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U0,_context:e},e.Consumer=e};te.createElement=lh;te.createFactory=function(e){var t=lh.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:B0,render:e}};te.isValidElement=hd;te.lazy=function(e){return{$$typeof:V0,_payload:{_status:-1,_result:e},_init:J0}};te.memo=function(e,t){return{$$typeof:H0,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Na.transition;Na.transition={};try{e()}finally{Na.transition=t}};te.unstable_act=ch;te.useCallback=function(e,t){return et.current.useCallback(e,t)};te.useContext=function(e){return et.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return et.current.useDeferredValue(e)};te.useEffect=function(e,t){return et.current.useEffect(e,t)};te.useId=function(){return et.current.useId()};te.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return et.current.useMemo(e,t)};te.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};te.useRef=function(e){return et.current.useRef(e)};te.useState=function(e){return et.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return et.current.useTransition()};te.version="18.3.1";th.exports=te;var w=th.exports;const V=Zp(w),X0=M0({__proto__:null,default:V},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=w,Z0=Symbol.for("react.element"),ey=Symbol.for("react.fragment"),ty=Object.prototype.hasOwnProperty,ry=K0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ny={key:!0,ref:!0,__self:!0,__source:!0};function dh(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ty.call(t,n)&&!ny.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Z0,type:e,key:a,ref:i,props:o,_owner:ry.current}}ki.Fragment=ey;ki.jsx=dh;ki.jsxs=dh;eh.exports=ki;var s=eh.exports,uh={exports:{}},wt={},fh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,D){var R=E.length;E.push(D);e:for(;0<R;){var J=R-1>>>1,P=E[J];if(0<o(P,D))E[J]=D,E[R]=P,R=J;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var D=E[0],R=E.pop();if(R!==D){E[0]=R;e:for(var J=0,P=E.length,$=P>>>1;J<$;){var Q=2*(J+1)-1,A=E[Q],F=Q+1,re=E[F];if(0>o(A,R))F<P&&0>o(re,A)?(E[J]=re,E[F]=R,J=F):(E[J]=A,E[Q]=R,J=Q);else if(F<P&&0>o(re,R))E[J]=re,E[F]=R,J=F;else break e}}return D}function o(E,D){var R=E.sortIndex-D.sortIndex;return R!==0?R:E.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,f=null,g=3,x=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=E)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function j(E){if(b=!1,m(E),!y)if(r(c)!==null)y=!0,T(N);else{var D=r(d);D!==null&&O(j,D.startTime-E)}}function N(E,D){y=!1,b&&(b=!1,p(C),C=-1),x=!0;var R=g;try{for(m(D),f=r(c);f!==null&&(!(f.expirationTime>D)||E&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,g=f.priorityLevel;var P=J(f.expirationTime<=D);D=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(c)&&n(c),m(D)}else n(c);f=r(c)}if(f!==null)var $=!0;else{var Q=r(d);Q!==null&&O(j,Q.startTime-D),$=!1}return $}finally{f=null,g=R,x=!1}}var S=!1,k=null,C=-1,_=5,M=-1;function I(){return!(e.unstable_now()-M<_)}function B(){if(k!==null){var E=e.unstable_now();M=E;var D=!0;try{D=k(!0,E)}finally{D?G():(S=!1,k=null)}}else S=!1}var G;if(typeof h=="function")G=function(){h(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=B,G=function(){oe.postMessage(null)}}else G=function(){v(B,0)};function T(E){k=E,S||(S=!0,G())}function O(E,D){C=v(function(){E(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,T(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var R=g;g=D;try{return E()}finally{g=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,D){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=g;g=E;try{return D()}finally{g=R}},e.unstable_scheduleCallback=function(E,D,R){var J=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?J+R:J):R=J,E){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=R+P,E={id:u++,callback:D,priorityLevel:E,startTime:R,expirationTime:P,sortIndex:-1},R>J?(E.sortIndex=R,t(d,E),r(c)===null&&E===r(d)&&(b?(p(C),C=-1):b=!0,O(j,R-J))):(E.sortIndex=P,t(c,E),y||x||(y=!0,T(N))),E},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(E){var D=g;return function(){var R=g;g=D;try{return E.apply(this,arguments)}finally{g=R}}}})(ph);fh.exports=ph;var sy=fh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=w,bt=sy;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hh=new Set,no={};function Rn(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(no[e]=t,e=0;e<t.length;e++)hh.add(t[e])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,ay=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wu={},Hu={};function iy(e){return nc.call(Hu,e)?!0:nc.call(Wu,e)?!1:ay.test(e)?Hu[e]=!0:(Wu[e]=!0,!1)}function ly(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cy(e,t,r,n){if(t===null||typeof t>"u"||ly(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var md=/[\-:]([a-z])/g;function gd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(md,gd);$e[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(md,gd);$e[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(md,gd);$e[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function xd(e,t,r,n){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cy(t,r,o,n)&&(r=null),n||o===null?iy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gr=oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),Un=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),yd=Symbol.for("react.strict_mode"),sc=Symbol.for("react.profiler"),mh=Symbol.for("react.provider"),gh=Symbol.for("react.context"),vd=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),xh=Symbol.for("react.offscreen"),Vu=Symbol.iterator;function zs(e){return e===null||typeof e!="object"?null:(e=Vu&&e[Vu]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,hl;function $s(e){if(hl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var ml=!1;function gl(e,t){if(!e||ml)return"";ml=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{ml=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$s(e):""}function dy(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=gl(e.type,!1),e;case 11:return e=gl(e.type.render,!1),e;case 1:return e=gl(e.type,!0),e;default:return""}}function ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Un:return"Portal";case sc:return"Profiler";case yd:return"StrictMode";case oc:return"Suspense";case ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gh:return(e.displayName||"Context")+".Consumer";case mh:return(e._context.displayName||"Context")+".Provider";case vd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bd:return t=e.displayName||null,t!==null?t:ic(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return ic(e(t))}catch{}}return null}function uy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ic(t);case 8:return t===yd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fy(e){var t=yh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){e._valueTracker||(e._valueTracker=fy(e))}function vh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lc(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bh(e,t){t=t.checked,t!=null&&xd(e,"checked",t,!1)}function cc(e,t){bh(e,t);var r=Gr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dc(e,t.type,r):t.hasOwnProperty("defaultValue")&&dc(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dc(e,t,r){(t!=="number"||Ia(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bs=Array.isArray;function Zn(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gr(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function uc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Bs(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gr(r)}}function wh(e,t){var r=Gr(t.value),n=Gr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qo,Nh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function so(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},py=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(e){py.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vs[t]=Vs[e]})});function Sh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vs.hasOwnProperty(e)&&Vs[e]?(""+t).trim():t+"px"}function kh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Sh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var hy=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pc(e,t){if(t){if(hy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gc=null,es=null,ts=null;function Qu(e){if(e=_o(e)){if(typeof gc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=zi(t),gc(e.stateNode,e.type,t))}}function Ch(e){es?ts?ts.push(e):ts=[e]:es=e}function Eh(){if(es){var e=es,t=ts;if(ts=es=null,Qu(e),t)for(e=0;e<t.length;e++)Qu(t[e])}}function Rh(e,t){return e(t)}function Ph(){}var xl=!1;function zh(e,t,r){if(xl)return e(t,r);xl=!0;try{return Rh(e,t,r)}finally{xl=!1,(es!==null||ts!==null)&&(Ph(),Eh())}}function oo(e,t){var r=e.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var xc=!1;if(fr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){xc=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{xc=!1}function my(e,t,r,n,o,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var qs=!1,Fa=null,Ua=!1,yc=null,gy={onError:function(e){qs=!0,Fa=e}};function xy(e,t,r,n,o,a,i,l,c){qs=!1,Fa=null,my.apply(gy,arguments)}function yy(e,t,r,n,o,a,i,l,c){if(xy.apply(this,arguments),qs){if(qs){var d=Fa;qs=!1,Fa=null}else throw Error(L(198));Ua||(Ua=!0,yc=d)}}function Pn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xu(e){if(Pn(e)!==e)throw Error(L(188))}function vy(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Xu(o),e;if(a===n)return Xu(o),t;a=a.sibling}throw Error(L(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Th(e){return e=vy(e),e!==null?Dh(e):null}function Dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dh(e);if(t!==null)return t;e=e.sibling}return null}var Mh=bt.unstable_scheduleCallback,Ku=bt.unstable_cancelCallback,by=bt.unstable_shouldYield,wy=bt.unstable_requestPaint,je=bt.unstable_now,jy=bt.unstable_getCurrentPriorityLevel,jd=bt.unstable_ImmediatePriority,Oh=bt.unstable_UserBlockingPriority,$a=bt.unstable_NormalPriority,Ny=bt.unstable_LowPriority,Lh=bt.unstable_IdlePriority,Ci=null,Zt=null;function Sy(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ci,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Ey,ky=Math.log,Cy=Math.LN2;function Ey(e){return e>>>=0,e===0?32:31-(ky(e)/Cy|0)|0}var Xo=64,Ko=4194304;function Ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ba(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~o;l!==0?n=Ws(l):(a&=i,a!==0&&(n=Ws(a)))}else i=r&~o,i!==0?n=Ws(i):a!==0&&(n=Ws(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-It(t),o=1<<r,n|=e[r],t&=~o;return n}function Ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Py(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-It(a),l=1<<i,c=o[i];c===-1?(!(l&r)||l&n)&&(o[i]=Ry(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ah(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function yl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Po(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=r}function zy(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-It(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function Nd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-It(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var ie=0;function Ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fh,Sd,Uh,$h,Bh,bc=!1,Zo=[],Ir=null,Fr=null,Ur=null,ao=new Map,io=new Map,Dr=[],_y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(e,t){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function Ts(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=_o(t),t!==null&&Sd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ty(e,t,r,n,o){switch(t){case"focusin":return Ir=Ts(Ir,e,t,r,n,o),!0;case"dragenter":return Fr=Ts(Fr,e,t,r,n,o),!0;case"mouseover":return Ur=Ts(Ur,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return ao.set(a,Ts(ao.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,io.set(a,Ts(io.get(a)||null,e,t,r,n,o)),!0}return!1}function Wh(e){var t=an(e.target);if(t!==null){var r=Pn(t);if(r!==null){if(t=r.tag,t===13){if(t=_h(r),t!==null){e.blockedOn=t,Bh(e.priority,function(){Uh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mc=n,r.target.dispatchEvent(n),mc=null}else return t=_o(r),t!==null&&Sd(t),e.blockedOn=r,!1;t.shift()}return!0}function ef(e,t,r){Sa(e)&&r.delete(t)}function Dy(){bc=!1,Ir!==null&&Sa(Ir)&&(Ir=null),Fr!==null&&Sa(Fr)&&(Fr=null),Ur!==null&&Sa(Ur)&&(Ur=null),ao.forEach(ef),io.forEach(ef)}function Ds(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Dy)))}function lo(e){function t(o){return Ds(o,e)}if(0<Zo.length){Ds(Zo[0],e);for(var r=1;r<Zo.length;r++){var n=Zo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ir!==null&&Ds(Ir,e),Fr!==null&&Ds(Fr,e),Ur!==null&&Ds(Ur,e),ao.forEach(t),io.forEach(t),r=0;r<Dr.length;r++)n=Dr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)Wh(r),r.blockedOn===null&&Dr.shift()}var rs=gr.ReactCurrentBatchConfig,Wa=!0;function My(e,t,r,n){var o=ie,a=rs.transition;rs.transition=null;try{ie=1,kd(e,t,r,n)}finally{ie=o,rs.transition=a}}function Oy(e,t,r,n){var o=ie,a=rs.transition;rs.transition=null;try{ie=4,kd(e,t,r,n)}finally{ie=o,rs.transition=a}}function kd(e,t,r,n){if(Wa){var o=wc(e,t,r,n);if(o===null)Rl(e,t,n,Ha,r),Zu(e,n);else if(Ty(o,e,t,r,n))n.stopPropagation();else if(Zu(e,n),t&4&&-1<_y.indexOf(e)){for(;o!==null;){var a=_o(o);if(a!==null&&Fh(a),a=wc(e,t,r,n),a===null&&Rl(e,t,n,Ha,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else Rl(e,t,n,null,r)}}var Ha=null;function wc(e,t,r,n){if(Ha=null,e=wd(n),e=an(e),e!==null)if(t=Pn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ha=e,null}function Hh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jy()){case jd:return 1;case Oh:return 4;case $a:case Ny:return 16;case Lh:return 536870912;default:return 16}default:return 16}}var Or=null,Cd=null,ka=null;function Vh(){if(ka)return ka;var e,t=Cd,r=t.length,n,o="value"in Or?Or.value:Or.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return ka=o.slice(e,1<n?1-n:void 0)}function Ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ea(){return!0}function tf(){return!1}function jt(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ea:tf,this.isPropagationStopped=tf,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ed=jt(gs),zo=xe({},gs,{view:0,detail:0}),Ly=jt(zo),vl,bl,Ms,Ei=xe({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(vl=e.screenX-Ms.screenX,bl=e.screenY-Ms.screenY):bl=vl=0,Ms=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),rf=jt(Ei),Ay=xe({},Ei,{dataTransfer:0}),Iy=jt(Ay),Fy=xe({},zo,{relatedTarget:0}),wl=jt(Fy),Uy=xe({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=jt(Uy),By=xe({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wy=jt(By),Hy=xe({},gs,{data:0}),nf=jt(Hy),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gy[e])?!!t[e]:!1}function Rd(){return Yy}var Jy=xe({},zo,{key:function(e){if(e.key){var t=Vy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qy=jt(Jy),Xy=xe({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=jt(Xy),Ky=xe({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),Zy=jt(Ky),ev=xe({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=jt(ev),rv=xe({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nv=jt(rv),sv=[9,13,27,32],Pd=fr&&"CompositionEvent"in window,Gs=null;fr&&"documentMode"in document&&(Gs=document.documentMode);var ov=fr&&"TextEvent"in window&&!Gs,qh=fr&&(!Pd||Gs&&8<Gs&&11>=Gs),of=" ",af=!1;function Gh(e,t){switch(e){case"keyup":return sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function av(e,t){switch(e){case"compositionend":return Yh(t);case"keypress":return t.which!==32?null:(af=!0,of);case"textInput":return e=t.data,e===of&&af?null:e;default:return null}}function iv(e,t){if(Bn)return e==="compositionend"||!Pd&&Gh(e,t)?(e=Vh(),ka=Cd=Or=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qh&&t.locale!=="ko"?null:t.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lv[e.type]:t==="textarea"}function Jh(e,t,r,n){Ch(n),t=Va(t,"onChange"),0<t.length&&(r=new Ed("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ys=null,co=null;function cv(e){am(e,0)}function Ri(e){var t=Vn(e);if(vh(t))return e}function dv(e,t){if(e==="change")return t}var Qh=!1;if(fr){var jl;if(fr){var Nl="oninput"in document;if(!Nl){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),Nl=typeof cf.oninput=="function"}jl=Nl}else jl=!1;Qh=jl&&(!document.documentMode||9<document.documentMode)}function df(){Ys&&(Ys.detachEvent("onpropertychange",Xh),co=Ys=null)}function Xh(e){if(e.propertyName==="value"&&Ri(co)){var t=[];Jh(t,co,e,wd(e)),zh(cv,t)}}function uv(e,t,r){e==="focusin"?(df(),Ys=t,co=r,Ys.attachEvent("onpropertychange",Xh)):e==="focusout"&&df()}function fv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(co)}function pv(e,t){if(e==="click")return Ri(t)}function hv(e,t){if(e==="input"||e==="change")return Ri(t)}function mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:mv;function uo(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!nc.call(t,o)||!$t(e[o],t[o]))return!1}return!0}function uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var r=uf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uf(r)}}function Kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zh(){for(var e=window,t=Ia();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ia(e.document)}return t}function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gv(e){var t=Zh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kh(r.ownerDocument.documentElement,r)){if(n!==null&&zd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=ff(r,a);var i=ff(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xv=fr&&"documentMode"in document&&11>=document.documentMode,Wn=null,jc=null,Js=null,Nc=!1;function pf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nc||Wn==null||Wn!==Ia(n)||(n=Wn,"selectionStart"in n&&zd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Js&&uo(Js,n)||(Js=n,n=Va(jc,"onSelect"),0<n.length&&(t=new Ed("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wn)))}function ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hn={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Sl={},em={};fr&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Pi(e){if(Sl[e])return Sl[e];if(!Hn[e])return e;var t=Hn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in em)return Sl[e]=t[r];return e}var tm=Pi("animationend"),rm=Pi("animationiteration"),nm=Pi("animationstart"),sm=Pi("transitionend"),om=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){om.set(e,t),Rn(t,[e])}for(var kl=0;kl<hf.length;kl++){var Cl=hf[kl],yv=Cl.toLowerCase(),vv=Cl[0].toUpperCase()+Cl.slice(1);Zr(yv,"on"+vv)}Zr(tm,"onAnimationEnd");Zr(rm,"onAnimationIteration");Zr(nm,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(sm,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function mf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yy(n,t,void 0,e),e.currentTarget=null}function am(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;mf(o,l,d),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;mf(o,l,d),a=c}}}if(Ua)throw e=yc,Ua=!1,yc=null,e}function de(e,t){var r=t[Rc];r===void 0&&(r=t[Rc]=new Set);var n=e+"__bubble";r.has(n)||(im(t,e,2,!1),r.add(n))}function El(e,t,r){var n=0;t&&(n|=4),im(r,e,n,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[ra]){e[ra]=!0,hh.forEach(function(r){r!=="selectionchange"&&(bv.has(r)||El(r,!1,e),El(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,El("selectionchange",!1,t))}}function im(e,t,r,n){switch(Hh(t)){case 1:var o=My;break;case 4:o=Oy;break;default:o=kd}r=o.bind(null,t,r,e),o=void 0,!xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Rl(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=an(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}zh(function(){var d=a,u=wd(r),f=[];e:{var g=om.get(e);if(g!==void 0){var x=Ed,y=e;switch(e){case"keypress":if(Ca(r)===0)break e;case"keydown":case"keyup":x=Qy;break;case"focusin":y="focus",x=wl;break;case"focusout":y="blur",x=wl;break;case"beforeblur":case"afterblur":x=wl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Zy;break;case tm:case rm:case nm:x=$y;break;case sm:x=tv;break;case"scroll":x=Ly;break;case"wheel":x=nv;break;case"copy":case"cut":case"paste":x=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=sf}var b=(t&4)!==0,v=!b&&e==="scroll",p=b?g!==null?g+"Capture":null:g;b=[];for(var h=d,m;h!==null;){m=h;var j=m.stateNode;if(m.tag===5&&j!==null&&(m=j,p!==null&&(j=oo(h,p),j!=null&&b.push(po(h,j,m)))),v)break;h=h.return}0<b.length&&(g=new x(g,y,null,r,u),f.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&r!==mc&&(y=r.relatedTarget||r.fromElement)&&(an(y)||y[pr]))break e;if((x||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,x?(y=r.relatedTarget||r.toElement,x=d,y=y?an(y):null,y!==null&&(v=Pn(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=d),x!==y)){if(b=rf,j="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(b=sf,j="onPointerLeave",p="onPointerEnter",h="pointer"),v=x==null?g:Vn(x),m=y==null?g:Vn(y),g=new b(j,h+"leave",x,r,u),g.target=v,g.relatedTarget=m,j=null,an(u)===d&&(b=new b(p,h+"enter",y,r,u),b.target=m,b.relatedTarget=v,j=b),v=j,x&&y)t:{for(b=x,p=y,h=0,m=b;m;m=In(m))h++;for(m=0,j=p;j;j=In(j))m++;for(;0<h-m;)b=In(b),h--;for(;0<m-h;)p=In(p),m--;for(;h--;){if(b===p||p!==null&&b===p.alternate)break t;b=In(b),p=In(p)}b=null}else b=null;x!==null&&gf(f,g,x,b,!1),y!==null&&v!==null&&gf(f,v,y,b,!0)}}e:{if(g=d?Vn(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var N=dv;else if(lf(g))if(Qh)N=hv;else{N=fv;var S=uv}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=pv);if(N&&(N=N(e,d))){Jh(f,N,r,u);break e}S&&S(e,g,d),e==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&dc(g,"number",g.value)}switch(S=d?Vn(d):window,e){case"focusin":(lf(S)||S.contentEditable==="true")&&(Wn=S,jc=d,Js=null);break;case"focusout":Js=jc=Wn=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,pf(f,r,u);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":pf(f,r,u)}var k;if(Pd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Bn?Gh(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(qh&&r.locale!=="ko"&&(Bn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Bn&&(k=Vh()):(Or=u,Cd="value"in Or?Or.value:Or.textContent,Bn=!0)),S=Va(d,C),0<S.length&&(C=new nf(C,e,null,r,u),f.push({event:C,listeners:S}),k?C.data=k:(k=Yh(r),k!==null&&(C.data=k)))),(k=ov?av(e,r):iv(e,r))&&(d=Va(d,"onBeforeInput"),0<d.length&&(u=new nf("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=k))}am(f,t)})}function po(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Va(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=oo(e,r),a!=null&&n.unshift(po(e,a,o)),a=oo(e,t),a!=null&&n.push(po(e,a,o))),e=e.return}return n}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gf(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,o?(c=oo(r,a),c!=null&&i.unshift(po(r,c,l))):o||(c=oo(r,a),c!=null&&i.push(po(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var wv=/\r\n?/g,jv=/\u0000|\uFFFD/g;function xf(e){return(typeof e=="string"?e:""+e).replace(wv,`
`).replace(jv,"")}function na(e,t,r){if(t=xf(t),xf(e)!==t&&r)throw Error(L(425))}function qa(){}var Sc=null,kc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(e){return yf.resolve(null).then(e).catch(kv)}:Ec;function kv(e){setTimeout(function(){throw e})}function Pl(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),lo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);lo(t)}function $r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Xt="__reactFiber$"+xs,ho="__reactProps$"+xs,pr="__reactContainer$"+xs,Rc="__reactEvents$"+xs,Cv="__reactListeners$"+xs,Ev="__reactHandles$"+xs;function an(e){var t=e[Xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[Xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vf(e);e!==null;){if(r=e[Xt])return r;e=vf(e)}return t}e=r,r=e.parentNode}return null}function _o(e){return e=e[Xt]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function zi(e){return e[ho]||null}var Pc=[],qn=-1;function en(e){return{current:e}}function ue(e){0>qn||(e.current=Pc[qn],Pc[qn]=null,qn--)}function ce(e,t){qn++,Pc[qn]=e.current,e.current=t}var Yr={},Je=en(Yr),it=en(!1),vn=Yr;function is(e,t){var r=e.type.contextTypes;if(!r)return Yr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function lt(e){return e=e.childContextTypes,e!=null}function Ga(){ue(it),ue(Je)}function bf(e,t,r){if(Je.current!==Yr)throw Error(L(168));ce(Je,t),ce(it,r)}function lm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(L(108,uy(e)||"Unknown",o));return xe({},r,n)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,vn=Je.current,ce(Je,e),ce(it,it.current),!0}function wf(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=lm(e,t,vn),n.__reactInternalMemoizedMergedChildContext=e,ue(it),ue(Je),ce(Je,e)):ue(it),ce(it,r)}var ar=null,_i=!1,zl=!1;function cm(e){ar===null?ar=[e]:ar.push(e)}function Rv(e){_i=!0,cm(e)}function tn(){if(!zl&&ar!==null){zl=!0;var e=0,t=ie;try{var r=ar;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ar=null,_i=!1}catch(o){throw ar!==null&&(ar=ar.slice(e+1)),Mh(jd,tn),o}finally{ie=t,zl=!1}}return null}var Gn=[],Yn=0,Ja=null,Qa=0,Ct=[],Et=0,bn=null,ir=1,lr="";function sn(e,t){Gn[Yn++]=Qa,Gn[Yn++]=Ja,Ja=e,Qa=t}function dm(e,t,r){Ct[Et++]=ir,Ct[Et++]=lr,Ct[Et++]=bn,bn=e;var n=ir;e=lr;var o=32-It(n)-1;n&=~(1<<o),r+=1;var a=32-It(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,ir=1<<32-It(t)+o|r<<o|n,lr=a+e}else ir=1<<a|r<<o|n,lr=e}function _d(e){e.return!==null&&(sn(e,1),dm(e,1,0))}function Td(e){for(;e===Ja;)Ja=Gn[--Yn],Gn[Yn]=null,Qa=Gn[--Yn],Gn[Yn]=null;for(;e===bn;)bn=Ct[--Et],Ct[Et]=null,lr=Ct[--Et],Ct[Et]=null,ir=Ct[--Et],Ct[Et]=null}var yt=null,xt=null,fe=!1,At=null;function um(e,t){var r=Rt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,xt=$r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bn!==null?{id:ir,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yt=e,xt=null,!0):!1;default:return!1}}function zc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _c(e){if(fe){var t=xt;if(t){var r=t;if(!jf(e,t)){if(zc(e))throw Error(L(418));t=$r(r.nextSibling);var n=yt;t&&jf(e,t)?um(n,r):(e.flags=e.flags&-4097|2,fe=!1,yt=e)}}else{if(zc(e))throw Error(L(418));e.flags=e.flags&-4097|2,fe=!1,yt=e}}}function Nf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function sa(e){if(e!==yt)return!1;if(!fe)return Nf(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=xt)){if(zc(e))throw fm(),Error(L(418));for(;t;)um(e,t),t=$r(t.nextSibling)}if(Nf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xt=$r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=yt?$r(e.stateNode.nextSibling):null;return!0}function fm(){for(var e=xt;e;)e=$r(e.nextSibling)}function ls(){xt=yt=null,fe=!1}function Dd(e){At===null?At=[e]:At.push(e)}var Pv=gr.ReactCurrentBatchConfig;function Os(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function oa(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sf(e){var t=e._init;return t(e._payload)}function pm(e){function t(p,h){if(e){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function r(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function n(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function o(p,h){return p=Vr(p,h),p.index=0,p.sibling=null,p}function a(p,h,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,j){return h===null||h.tag!==6?(h=Al(m,p.mode,j),h.return=p,h):(h=o(h,m),h.return=p,h)}function c(p,h,m,j){var N=m.type;return N===$n?u(p,h,m.props.children,j,m.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&Sf(N)===h.type)?(j=o(h,m.props),j.ref=Os(p,h,m),j.return=p,j):(j=Da(m.type,m.key,m.props,null,p.mode,j),j.ref=Os(p,h,m),j.return=p,j)}function d(p,h,m,j){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Il(m,p.mode,j),h.return=p,h):(h=o(h,m.children||[]),h.return=p,h)}function u(p,h,m,j,N){return h===null||h.tag!==7?(h=mn(m,p.mode,j,N),h.return=p,h):(h=o(h,m),h.return=p,h)}function f(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Al(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Yo:return m=Da(h.type,h.key,h.props,null,p.mode,m),m.ref=Os(p,null,h),m.return=p,m;case Un:return h=Il(h,p.mode,m),h.return=p,h;case zr:var j=h._init;return f(p,j(h._payload),m)}if(Bs(h)||zs(h))return h=mn(h,p.mode,m,null),h.return=p,h;oa(p,h)}return null}function g(p,h,m,j){var N=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:l(p,h,""+m,j);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yo:return m.key===N?c(p,h,m,j):null;case Un:return m.key===N?d(p,h,m,j):null;case zr:return N=m._init,g(p,h,N(m._payload),j)}if(Bs(m)||zs(m))return N!==null?null:u(p,h,m,j,null);oa(p,m)}return null}function x(p,h,m,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(m)||null,l(h,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yo:return p=p.get(j.key===null?m:j.key)||null,c(h,p,j,N);case Un:return p=p.get(j.key===null?m:j.key)||null,d(h,p,j,N);case zr:var S=j._init;return x(p,h,m,S(j._payload),N)}if(Bs(j)||zs(j))return p=p.get(m)||null,u(h,p,j,N,null);oa(h,j)}return null}function y(p,h,m,j){for(var N=null,S=null,k=h,C=h=0,_=null;k!==null&&C<m.length;C++){k.index>C?(_=k,k=null):_=k.sibling;var M=g(p,k,m[C],j);if(M===null){k===null&&(k=_);break}e&&k&&M.alternate===null&&t(p,k),h=a(M,h,C),S===null?N=M:S.sibling=M,S=M,k=_}if(C===m.length)return r(p,k),fe&&sn(p,C),N;if(k===null){for(;C<m.length;C++)k=f(p,m[C],j),k!==null&&(h=a(k,h,C),S===null?N=k:S.sibling=k,S=k);return fe&&sn(p,C),N}for(k=n(p,k);C<m.length;C++)_=x(k,p,C,m[C],j),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?C:_.key),h=a(_,h,C),S===null?N=_:S.sibling=_,S=_);return e&&k.forEach(function(I){return t(p,I)}),fe&&sn(p,C),N}function b(p,h,m,j){var N=zs(m);if(typeof N!="function")throw Error(L(150));if(m=N.call(m),m==null)throw Error(L(151));for(var S=N=null,k=h,C=h=0,_=null,M=m.next();k!==null&&!M.done;C++,M=m.next()){k.index>C?(_=k,k=null):_=k.sibling;var I=g(p,k,M.value,j);if(I===null){k===null&&(k=_);break}e&&k&&I.alternate===null&&t(p,k),h=a(I,h,C),S===null?N=I:S.sibling=I,S=I,k=_}if(M.done)return r(p,k),fe&&sn(p,C),N;if(k===null){for(;!M.done;C++,M=m.next())M=f(p,M.value,j),M!==null&&(h=a(M,h,C),S===null?N=M:S.sibling=M,S=M);return fe&&sn(p,C),N}for(k=n(p,k);!M.done;C++,M=m.next())M=x(k,p,C,M.value,j),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?C:M.key),h=a(M,h,C),S===null?N=M:S.sibling=M,S=M);return e&&k.forEach(function(B){return t(p,B)}),fe&&sn(p,C),N}function v(p,h,m,j){if(typeof m=="object"&&m!==null&&m.type===$n&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Yo:e:{for(var N=m.key,S=h;S!==null;){if(S.key===N){if(N=m.type,N===$n){if(S.tag===7){r(p,S.sibling),h=o(S,m.props.children),h.return=p,p=h;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&Sf(N)===S.type){r(p,S.sibling),h=o(S,m.props),h.ref=Os(p,S,m),h.return=p,p=h;break e}r(p,S);break}else t(p,S);S=S.sibling}m.type===$n?(h=mn(m.props.children,p.mode,j,m.key),h.return=p,p=h):(j=Da(m.type,m.key,m.props,null,p.mode,j),j.ref=Os(p,h,m),j.return=p,p=j)}return i(p);case Un:e:{for(S=m.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){r(p,h.sibling),h=o(h,m.children||[]),h.return=p,p=h;break e}else{r(p,h);break}else t(p,h);h=h.sibling}h=Il(m,p.mode,j),h.return=p,p=h}return i(p);case zr:return S=m._init,v(p,h,S(m._payload),j)}if(Bs(m))return y(p,h,m,j);if(zs(m))return b(p,h,m,j);oa(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(r(p,h.sibling),h=o(h,m),h.return=p,p=h):(r(p,h),h=Al(m,p.mode,j),h.return=p,p=h),i(p)):r(p,h)}return v}var cs=pm(!0),hm=pm(!1),Xa=en(null),Ka=null,Jn=null,Md=null;function Od(){Md=Jn=Ka=null}function Ld(e){var t=Xa.current;ue(Xa),e._currentValue=t}function Tc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ns(e,t){Ka=e,Md=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Md!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(Ka===null)throw Error(L(308));Jn=e,Ka.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var ln=null;function Ad(e){ln===null?ln=[e]:ln.push(e)}function mm(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Ad(t)):(r.next=o.next,o.next=r),t.interleaved=r,hr(e,n)}function hr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _r=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,hr(e,r)}return o=n.interleaved,o===null?(t.next=t,Ad(n)):(t.next=o.next,o.next=t),n.interleaved=t,hr(e,r)}function Ea(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nd(e,r)}}function kf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Za(e,t,r,n){var o=e.updateQueue;_r=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=o.baseState;i=0,u=d=c=null,l=a;do{var g=l.lane,x=l.eventTime;if((n&g)===g){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(g=t,x=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(x,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,g=typeof y=="function"?y.call(x,f,g):y,g==null)break e;f=xe({},f,g);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[l]:g.push(l))}else x={eventTime:x,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=f):u=u.next=x,i|=g;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;g=l,l=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(u===null&&(c=f),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);jn|=i,e.lanes=i,e.memoizedState=f}}function Cf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(L(191,o));o.call(n)}}}var To={},er=en(To),mo=en(To),go=en(To);function cn(e){if(e===To)throw Error(L(174));return e}function Fd(e,t){switch(ce(go,t),ce(mo,e),ce(er,To),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fc(t,e)}ue(er),ce(er,t)}function ds(){ue(er),ue(mo),ue(go)}function xm(e){cn(go.current);var t=cn(er.current),r=fc(t,e.type);t!==r&&(ce(mo,e),ce(er,r))}function Ud(e){mo.current===e&&(ue(er),ue(mo))}var pe=en(0);function ei(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _l=[];function $d(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var Ra=gr.ReactCurrentDispatcher,Tl=gr.ReactCurrentBatchConfig,wn=0,me=null,Te=null,Oe=null,ti=!1,Qs=!1,xo=0,zv=0;function He(){throw Error(L(321))}function Bd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function Wd(e,t,r,n,o,a){if(wn=a,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ra.current=e===null||e.memoizedState===null?Mv:Ov,e=r(n,o),Qs){a=0;do{if(Qs=!1,xo=0,25<=a)throw Error(L(301));a+=1,Oe=Te=null,t.updateQueue=null,Ra.current=Lv,e=r(n,o)}while(Qs)}if(Ra.current=ri,t=Te!==null&&Te.next!==null,wn=0,Oe=Te=me=null,ti=!1,t)throw Error(L(300));return e}function Hd(){var e=xo!==0;return xo=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?me.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function _t(){if(Te===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Oe===null?me.memoizedState:Oe.next;if(t!==null)Oe=t,Te=e;else{if(e===null)throw Error(L(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Oe===null?me.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function yo(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Te,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var l=i=null,c=null,d=a;do{var u=d.lane;if((wn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,me.lanes|=u,jn|=u}d=d.next}while(d!==null&&d!==a);c===null?i=n:c.next=l,$t(n,t.memoizedState)||(at=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,me.lanes|=a,jn|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ml(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);$t(a,t.memoizedState)||(at=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function ym(){}function vm(e,t){var r=me,n=_t(),o=t(),a=!$t(n.memoizedState,o);if(a&&(n.memoizedState=o,at=!0),n=n.queue,Vd(jm.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Oe!==null&&Oe.memoizedState.tag&1){if(r.flags|=2048,vo(9,wm.bind(null,r,n,o,t),void 0,null),Ae===null)throw Error(L(349));wn&30||bm(r,t,o)}return o}function bm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wm(e,t,r,n){t.value=r,t.getSnapshot=n,Nm(t)&&Sm(e)}function jm(e,t,r){return r(function(){Nm(t)&&Sm(e)})}function Nm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch{return!0}}function Sm(e){var t=hr(e,1);t!==null&&Ft(t,e,1,-1)}function Ef(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Dv.bind(null,me,e),[t.memoizedState,e]}function vo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function km(){return _t().memoizedState}function Pa(e,t,r,n){var o=Jt();me.flags|=e,o.memoizedState=vo(1|t,r,void 0,n===void 0?null:n)}function Ti(e,t,r,n){var o=_t();n=n===void 0?null:n;var a=void 0;if(Te!==null){var i=Te.memoizedState;if(a=i.destroy,n!==null&&Bd(n,i.deps)){o.memoizedState=vo(t,r,a,n);return}}me.flags|=e,o.memoizedState=vo(1|t,r,a,n)}function Rf(e,t){return Pa(8390656,8,e,t)}function Vd(e,t){return Ti(2048,8,e,t)}function Cm(e,t){return Ti(4,2,e,t)}function Em(e,t){return Ti(4,4,e,t)}function Rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pm(e,t,r){return r=r!=null?r.concat([e]):null,Ti(4,4,Rm.bind(null,t,e),r)}function qd(){}function zm(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _m(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tm(e,t,r){return wn&21?($t(r,t)||(r=Ah(),me.lanes|=r,jn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=r)}function _v(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=Tl.transition;Tl.transition={};try{e(!1),t()}finally{ie=r,Tl.transition=n}}function Dm(){return _t().memoizedState}function Tv(e,t,r){var n=Hr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mm(e))Om(t,r);else if(r=mm(e,t,r,n),r!==null){var o=Ze();Ft(r,e,n,o),Lm(r,t,n)}}function Dv(e,t,r){var n=Hr(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mm(e))Om(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(o.hasEagerState=!0,o.eagerState=l,$t(l,i)){var c=t.interleaved;c===null?(o.next=o,Ad(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=mm(e,t,o,n),r!==null&&(o=Ze(),Ft(r,e,n,o),Lm(r,t,n))}}function Mm(e){var t=e.alternate;return e===me||t!==null&&t===me}function Om(e,t){Qs=ti=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Lm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nd(e,r)}}var ri={readContext:zt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Mv={readContext:zt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Rf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4194308,4,Rm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var r=Jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tv.bind(null,me,e),[n.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Ef,useDebugValue:qd,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Ef(!1),t=e[0];return e=_v.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=me,o=Jt();if(fe){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ae===null)throw Error(L(349));wn&30||bm(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Rf(jm.bind(null,n,a,e),[e]),n.flags|=2048,vo(9,wm.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Jt(),t=Ae.identifierPrefix;if(fe){var r=lr,n=ir;r=(n&~(1<<32-It(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ov={readContext:zt,useCallback:zm,useContext:zt,useEffect:Vd,useImperativeHandle:Pm,useInsertionEffect:Cm,useLayoutEffect:Em,useMemo:_m,useReducer:Dl,useRef:km,useState:function(){return Dl(yo)},useDebugValue:qd,useDeferredValue:function(e){var t=_t();return Tm(t,Te.memoizedState,e)},useTransition:function(){var e=Dl(yo)[0],t=_t().memoizedState;return[e,t]},useMutableSource:ym,useSyncExternalStore:vm,useId:Dm,unstable_isNewReconciler:!1},Lv={readContext:zt,useCallback:zm,useContext:zt,useEffect:Vd,useImperativeHandle:Pm,useInsertionEffect:Cm,useLayoutEffect:Em,useMemo:_m,useReducer:Ml,useRef:km,useState:function(){return Ml(yo)},useDebugValue:qd,useDeferredValue:function(e){var t=_t();return Te===null?t.memoizedState=e:Tm(t,Te.memoizedState,e)},useTransition:function(){var e=Ml(yo)[0],t=_t().memoizedState;return[e,t]},useMutableSource:ym,useSyncExternalStore:vm,useId:Dm,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Di={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ze(),o=Hr(e),a=cr(n,o);a.payload=t,r!=null&&(a.callback=r),t=Br(e,a,o),t!==null&&(Ft(t,e,o,n),Ea(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ze(),o=Hr(e),a=cr(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Br(e,a,o),t!==null&&(Ft(t,e,o,n),Ea(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),n=Hr(e),o=cr(r,n);o.tag=2,t!=null&&(o.callback=t),t=Br(e,o,n),t!==null&&(Ft(t,e,n,r),Ea(t,e,n))}};function Pf(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!uo(r,n)||!uo(o,a):!0}function Am(e,t,r){var n=!1,o=Yr,a=t.contextType;return typeof a=="object"&&a!==null?a=zt(a):(o=lt(t)?vn:Je.current,n=t.contextTypes,a=(n=n!=null)?is(e,o):Yr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function zf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Mc(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Id(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=zt(a):(a=lt(t)?vn:Je.current,o.context=is(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Dc(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Di.enqueueReplaceState(o,o.state,null),Za(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,t){try{var r="",n=t;do r+=dy(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Ol(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Oc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Av=typeof WeakMap=="function"?WeakMap:Map;function Im(e,t,r){r=cr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){si||(si=!0,Vc=n),Oc(e,t)},r}function Fm(e,t,r){r=cr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Oc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Oc(e,t),typeof n!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function _f(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Av;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Xv.bind(null,e,t,r),t.then(e,e))}function Tf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cr(-1,1),t.tag=2,Br(r,t,1))),r.lanes|=1),e)}var Iv=gr.ReactCurrentOwner,at=!1;function Ke(e,t,r,n){t.child=e===null?hm(t,null,r,n):cs(t,e.child,r,n)}function Mf(e,t,r,n,o){r=r.render;var a=t.ref;return ns(t,o),n=Wd(e,t,r,n,a,o),r=Hd(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mr(e,t,o)):(fe&&r&&_d(t),t.flags|=1,Ke(e,t,n,o),t.child)}function Of(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!eu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Um(e,t,a,n,o)):(e=Da(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:uo,r(i,n)&&e.ref===t.ref)return mr(e,t,o)}return t.flags|=1,e=Vr(a,n),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(uo(a,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,mr(e,t,o)}return Lc(e,t,r,n,o)}function $m(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Xn,gt),gt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Xn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ce(Xn,gt),gt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ce(Xn,gt),gt|=n;return Ke(e,t,o,r),t.child}function Bm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lc(e,t,r,n,o){var a=lt(r)?vn:Je.current;return a=is(t,a),ns(t,o),r=Wd(e,t,r,n,a,o),n=Hd(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,mr(e,t,o)):(fe&&n&&_d(t),t.flags|=1,Ke(e,t,r,o),t.child)}function Lf(e,t,r,n,o){if(lt(r)){var a=!0;Ya(t)}else a=!1;if(ns(t,o),t.stateNode===null)za(e,t),Am(t,r,n),Mc(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=zt(d):(d=lt(r)?vn:Je.current,d=is(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&zf(t,i,n,d),_r=!1;var g=t.memoizedState;i.state=g,Za(t,n,i,o),c=t.memoizedState,l!==n||g!==c||it.current||_r?(typeof u=="function"&&(Dc(t,r,u,n),c=t.memoizedState),(l=_r||Pf(t,r,l,n,g,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,gm(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ot(t.type,l),i.props=d,f=t.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=zt(c):(c=lt(r)?vn:Je.current,c=is(t,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||g!==c)&&zf(t,i,n,c),_r=!1,g=t.memoizedState,i.state=g,Za(t,n,i,o);var y=t.memoizedState;l!==f||g!==y||it.current||_r?(typeof x=="function"&&(Dc(t,r,x,n),y=t.memoizedState),(d=_r||Pf(t,r,d,n,g,y,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Ac(e,t,r,n,a,o)}function Ac(e,t,r,n,o,a){Bm(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&wf(t,r,!1),mr(e,t,a);n=t.stateNode,Iv.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=cs(t,e.child,null,a),t.child=cs(t,null,l,a)):Ke(e,t,l,a),t.memoizedState=n.state,o&&wf(t,r,!0),t.child}function Wm(e){var t=e.stateNode;t.pendingContext?bf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bf(e,t.context,!1),Fd(e,t.containerInfo)}function Af(e,t,r,n,o){return ls(),Dd(o),t.flags|=256,Ke(e,t,r,n),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hm(e,t,r){var n=t.pendingProps,o=pe.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(pe,o&1),e===null)return _c(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Li(i,n,0,null),e=mn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fc(r),t.memoizedState=Ic,e):Gd(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Fv(e,t,i,n,l,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vr(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=Vr(l,a):(a=mn(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Fc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Ic,n}return a=e.child,e=a.sibling,n=Vr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gd(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function aa(e,t,r,n){return n!==null&&Dd(n),cs(t,e.child,null,r),e=Gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fv(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Ol(Error(L(422))),aa(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=Li({mode:"visible",children:n.children},o,0,null),a=mn(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&cs(t,e.child,null,i),t.child.memoizedState=Fc(i),t.memoizedState=Ic,a);if(!(t.mode&1))return aa(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(L(419)),n=Ol(a,n,void 0),aa(e,t,i,n)}if(l=(i&e.childLanes)!==0,at||l){if(n=Ae,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,hr(e,o),Ft(n,e,o,-1))}return Zd(),n=Ol(Error(L(421))),aa(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Kv.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,xt=$r(o.nextSibling),yt=t,fe=!0,At=null,e!==null&&(Ct[Et++]=ir,Ct[Et++]=lr,Ct[Et++]=bn,ir=e.id,lr=e.overflow,bn=t),t=Gd(t,n.children),t.flags|=4096,t)}function If(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tc(e.return,t,r)}function Ll(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function Vm(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(Ke(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&If(e,r,t);else if(e.tag===19)If(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ce(pe,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&ei(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Ll(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ei(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Ll(t,!0,r,null,a);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Vr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Uv(e,t,r){switch(t.tag){case 3:Wm(t),ls();break;case 5:xm(t);break;case 1:lt(t.type)&&Ya(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;ce(Xa,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ce(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?Hm(e,t,r):(ce(pe,pe.current&1),e=mr(e,t,r),e!==null?e.sibling:null);ce(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vm(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,$m(e,t,r)}return mr(e,t,r)}var qm,Uc,Gm,Ym;qm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uc=function(){};Gm=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,cn(er.current);var a=null;switch(r){case"input":o=lc(e,o),n=lc(e,n),a=[];break;case"select":o=xe({},o,{value:void 0}),n=xe({},n,{value:void 0}),a=[];break;case"textarea":o=uc(e,o),n=uc(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qa)}pc(r,n);var i;r=null;for(d in o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(no.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=o!=null?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(no.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&de("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Ym=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ls(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $v(e,t,r){var n=t.pendingProps;switch(Td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return lt(t.type)&&Ga(),Ve(t),null;case 3:return n=t.stateNode,ds(),ue(it),ue(Je),$d(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Yc(At),At=null))),Uc(e,t),Ve(t),null;case 5:Ud(t);var o=cn(go.current);if(r=t.type,e!==null&&t.stateNode!=null)Gm(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Ve(t),null}if(e=cn(er.current),sa(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Xt]=t,n[ho]=a,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(o=0;o<Hs.length;o++)de(Hs[o],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":qu(n,a),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},de("invalid",n);break;case"textarea":Yu(n,a),de("invalid",n)}pc(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&na(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&na(n.textContent,l,e),o=["children",""+l]):no.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&de("scroll",n)}switch(r){case"input":Jo(n),Gu(n,a,!0);break;case"textarea":Jo(n),Ju(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=qa)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Xt]=t,e[ho]=n,qm(e,t,!1,!1),t.stateNode=e;e:{switch(i=hc(r,n),r){case"dialog":de("cancel",e),de("close",e),o=n;break;case"iframe":case"object":case"embed":de("load",e),o=n;break;case"video":case"audio":for(o=0;o<Hs.length;o++)de(Hs[o],e);o=n;break;case"source":de("error",e),o=n;break;case"img":case"image":case"link":de("error",e),de("load",e),o=n;break;case"details":de("toggle",e),o=n;break;case"input":qu(e,n),o=lc(e,n),de("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=xe({},n,{value:void 0}),de("invalid",e);break;case"textarea":Yu(e,n),o=uc(e,n),de("invalid",e);break;default:o=n}pc(r,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?kh(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nh(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&so(e,c):typeof c=="number"&&so(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(no.hasOwnProperty(a)?c!=null&&a==="onScroll"&&de("scroll",e):c!=null&&xd(e,a,c,i))}switch(r){case"input":Jo(e),Gu(e,n,!1);break;case"textarea":Jo(e),Ju(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Zn(e,!!n.multiple,a,!1):n.defaultValue!=null&&Zn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=qa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Ym(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=cn(go.current),cn(er.current),sa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xt]=t,(a=n.nodeValue!==r)&&(e=yt,e!==null))switch(e.tag){case 3:na(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xt]=t,t.stateNode=n}return Ve(t),null;case 13:if(ue(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&xt!==null&&t.mode&1&&!(t.flags&128))fm(),ls(),t.flags|=98560,a=!1;else if(a=sa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[Xt]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else At!==null&&(Yc(At),At=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Me===0&&(Me=3):Zd())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return ds(),Uc(e,t),e===null&&fo(t.stateNode.containerInfo),Ve(t),null;case 10:return Ld(t.type._context),Ve(t),null;case 17:return lt(t.type)&&Ga(),Ve(t),null;case 19:if(ue(pe),a=t.memoizedState,a===null)return Ve(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ls(a,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ei(e),i!==null){for(t.flags|=128,Ls(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&je()>fs&&(t.flags|=128,n=!0,Ls(a,!1),t.lanes=4194304)}else{if(!n)if(e=ei(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ls(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!fe)return Ve(t),null}else 2*je()-a.renderingStartTime>fs&&r!==1073741824&&(t.flags|=128,n=!0,Ls(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=je(),t.sibling=null,r=pe.current,ce(pe,n?r&1|2:r&1),t):(Ve(t),null);case 22:case 23:return Kd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Bv(e,t){switch(Td(t),t.tag){case 1:return lt(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),ue(it),ue(Je),$d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ud(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return ds(),null;case 10:return Ld(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var ia=!1,Ge=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,W=null;function Qn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(e,t,n)}else r.current=null}function $c(e,t,r){try{r()}catch(n){ve(e,t,n)}}var Ff=!1;function Hv(e,t){if(Sc=Wa,e=Zh(),zd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,f=e,g=null;t:for(;;){for(var x;f!==r||o!==0&&f.nodeType!==3||(l=i+o),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(x=f.firstChild)!==null;)g=f,f=x;for(;;){if(f===e)break t;if(g===r&&++d===o&&(l=i),g===a&&++u===n&&(c=i),(x=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(kc={focusedElem:e,selectionRange:r},Wa=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,v=y.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:Ot(t.type,b),v);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return y=Ff,Ff=!1,y}function Xs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&$c(t,r,a)}o=o.next}while(o!==n)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Bc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jm(e){var t=e.alternate;t!==null&&(e.alternate=null,Jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[ho],delete t[Rc],delete t[Cv],delete t[Ev])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qm(e){return e.tag===5||e.tag===3||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qa));else if(n!==4&&(e=e.child,e!==null))for(Wc(e,t,r),e=e.sibling;e!==null;)Wc(e,t,r),e=e.sibling}function Hc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hc(e,t,r),e=e.sibling;e!==null;)Hc(e,t,r),e=e.sibling}var Fe=null,Lt=!1;function kr(e,t,r){for(r=r.child;r!==null;)Xm(e,t,r),r=r.sibling}function Xm(e,t,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 5:Ge||Qn(r,t);case 6:var n=Fe,o=Lt;Fe=null,kr(e,t,r),Fe=n,Lt=o,Fe!==null&&(Lt?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(Lt?(e=Fe,r=r.stateNode,e.nodeType===8?Pl(e.parentNode,r):e.nodeType===1&&Pl(e,r),lo(e)):Pl(Fe,r.stateNode));break;case 4:n=Fe,o=Lt,Fe=r.stateNode.containerInfo,Lt=!0,kr(e,t,r),Fe=n,Lt=o;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&$c(r,t,i),o=o.next}while(o!==n)}kr(e,t,r);break;case 1:if(!Ge&&(Qn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ve(r,t,l)}kr(e,t,r);break;case 21:kr(e,t,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,kr(e,t,r),Ge=n):kr(e,t,r);break;default:kr(e,t,r)}}function $f(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Wv),t.forEach(function(n){var o=Zv.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Fe=l.stateNode,Lt=!1;break e;case 3:Fe=l.stateNode.containerInfo,Lt=!0;break e;case 4:Fe=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(Fe===null)throw Error(L(160));Xm(a,i,o),Fe=null,Lt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){ve(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Km(t,e),t=t.sibling}function Km(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Gt(e),n&4){try{Xs(3,e,e.return),Mi(3,e)}catch(b){ve(e,e.return,b)}try{Xs(5,e,e.return)}catch(b){ve(e,e.return,b)}}break;case 1:Tt(t,e),Gt(e),n&512&&r!==null&&Qn(r,r.return);break;case 5:if(Tt(t,e),Gt(e),n&512&&r!==null&&Qn(r,r.return),e.flags&32){var o=e.stateNode;try{so(o,"")}catch(b){ve(e,e.return,b)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&bh(o,a),hc(l,i);var d=hc(l,a);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?kh(o,f):u==="dangerouslySetInnerHTML"?Nh(o,f):u==="children"?so(o,f):xd(o,u,f,d)}switch(l){case"input":cc(o,a);break;case"textarea":wh(o,a);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Zn(o,!!a.multiple,x,!1):g!==!!a.multiple&&(a.defaultValue!=null?Zn(o,!!a.multiple,a.defaultValue,!0):Zn(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(b){ve(e,e.return,b)}}break;case 6:if(Tt(t,e),Gt(e),n&4){if(e.stateNode===null)throw Error(L(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(b){ve(e,e.return,b)}}break;case 3:if(Tt(t,e),Gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(b){ve(e,e.return,b)}break;case 4:Tt(t,e),Gt(e);break;case 13:Tt(t,e),Gt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Qd=je())),n&4&&$f(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ge=(d=Ge)||u,Tt(t,e),Ge=d):Tt(t,e),Gt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(f=W=u;W!==null;){switch(g=W,x=g.child,g.tag){case 0:case 11:case 14:case 15:Xs(4,g,g.return);break;case 1:Qn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){ve(n,r,b)}}break;case 5:Qn(g,g.return);break;case 22:if(g.memoizedState!==null){Wf(f);continue}}x!==null?(x.return=g,W=x):Wf(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,d?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sh("display",i))}catch(b){ve(e,e.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(b){ve(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Gt(e),n&4&&$f(e);break;case 21:break;default:Tt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Qm(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(so(o,""),n.flags&=-33);var a=Uf(e);Hc(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Uf(e);Wc(e,l,i);break;default:throw Error(L(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vv(e,t,r){W=e,Zm(e)}function Zm(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var o=W,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||ia;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=ia;var d=Ge;if(ia=i,(Ge=c)&&!d)for(W=o;W!==null;)i=W,c=i.child,i.tag===22&&i.memoizedState!==null?Hf(o):c!==null?(c.return=i,W=c):Hf(o);for(;a!==null;)W=a,Zm(a),a=a.sibling;W=o,ia=l,Ge=d}Bf(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,W=a):Bf(e)}}function Bf(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Mi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Ot(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Cf(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cf(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&lo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ge||t.flags&512&&Bc(t)}catch(g){ve(t,t.return,g)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Wf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Hf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mi(4,t)}catch(c){ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){ve(t,o,c)}}var a=t.return;try{Bc(t)}catch(c){ve(t,a,c)}break;case 5:var i=t.return;try{Bc(t)}catch(c){ve(t,i,c)}}}catch(c){ve(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var qv=Math.ceil,ni=gr.ReactCurrentDispatcher,Yd=gr.ReactCurrentOwner,Pt=gr.ReactCurrentBatchConfig,ae=0,Ae=null,Ce=null,Ue=0,gt=0,Xn=en(0),Me=0,bo=null,jn=0,Oi=0,Jd=0,Ks=null,ot=null,Qd=0,fs=1/0,or=null,si=!1,Vc=null,Wr=null,la=!1,Lr=null,oi=0,Zs=0,qc=null,_a=-1,Ta=0;function Ze(){return ae&6?je():_a!==-1?_a:_a=je()}function Hr(e){return e.mode&1?ae&2&&Ue!==0?Ue&-Ue:Pv.transition!==null?(Ta===0&&(Ta=Ah()),Ta):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Hh(e.type)),e):1}function Ft(e,t,r,n){if(50<Zs)throw Zs=0,qc=null,Error(L(185));Po(e,r,n),(!(ae&2)||e!==Ae)&&(e===Ae&&(!(ae&2)&&(Oi|=r),Me===4&&Mr(e,Ue)),ct(e,n),r===1&&ae===0&&!(t.mode&1)&&(fs=je()+500,_i&&tn()))}function ct(e,t){var r=e.callbackNode;Py(e,t);var n=Ba(e,e===Ae?Ue:0);if(n===0)r!==null&&Ku(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ku(r),t===1)e.tag===0?Rv(Vf.bind(null,e)):cm(Vf.bind(null,e)),Sv(function(){!(ae&6)&&tn()}),r=null;else{switch(Ih(n)){case 1:r=jd;break;case 4:r=Oh;break;case 16:r=$a;break;case 536870912:r=Lh;break;default:r=$a}r=ig(r,eg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eg(e,t){if(_a=-1,Ta=0,ae&6)throw Error(L(327));var r=e.callbackNode;if(ss()&&e.callbackNode!==r)return null;var n=Ba(e,e===Ae?Ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ai(e,n);else{t=n;var o=ae;ae|=2;var a=rg();(Ae!==e||Ue!==t)&&(or=null,fs=je()+500,hn(e,t));do try{Jv();break}catch(l){tg(e,l)}while(!0);Od(),ni.current=a,ae=o,Ce!==null?t=0:(Ae=null,Ue=0,t=Me)}if(t!==0){if(t===2&&(o=vc(e),o!==0&&(n=o,t=Gc(e,o))),t===1)throw r=bo,hn(e,0),Mr(e,n),ct(e,je()),r;if(t===6)Mr(e,n);else{if(o=e.current.alternate,!(n&30)&&!Gv(o)&&(t=ai(e,n),t===2&&(a=vc(e),a!==0&&(n=a,t=Gc(e,a))),t===1))throw r=bo,hn(e,0),Mr(e,n),ct(e,je()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:on(e,ot,or);break;case 3:if(Mr(e,n),(n&130023424)===n&&(t=Qd+500-je(),10<t)){if(Ba(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Ze(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ec(on.bind(null,e,ot,or),t);break}on(e,ot,or);break;case 4:if(Mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-It(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qv(n/1960))-n,10<n){e.timeoutHandle=Ec(on.bind(null,e,ot,or),n);break}on(e,ot,or);break;case 5:on(e,ot,or);break;default:throw Error(L(329))}}}return ct(e,je()),e.callbackNode===r?eg.bind(null,e):null}function Gc(e,t){var r=Ks;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=ai(e,t),e!==2&&(t=ot,ot=r,t!==null&&Yc(t)),e}function Yc(e){ot===null?ot=e:ot.push.apply(ot,e)}function Gv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!$t(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~Jd,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-It(t),n=1<<r;e[r]=-1,t&=~n}}function Vf(e){if(ae&6)throw Error(L(327));ss();var t=Ba(e,0);if(!(t&1))return ct(e,je()),null;var r=ai(e,t);if(e.tag!==0&&r===2){var n=vc(e);n!==0&&(t=n,r=Gc(e,n))}if(r===1)throw r=bo,hn(e,0),Mr(e,t),ct(e,je()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,ot,or),ct(e,je()),null}function Xd(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(fs=je()+500,_i&&tn())}}function Nn(e){Lr!==null&&Lr.tag===0&&!(ae&6)&&ss();var t=ae;ae|=1;var r=Pt.transition,n=ie;try{if(Pt.transition=null,ie=1,e)return e()}finally{ie=n,Pt.transition=r,ae=t,!(ae&6)&&tn()}}function Kd(){gt=Xn.current,ue(Xn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nv(r)),Ce!==null)for(r=Ce.return;r!==null;){var n=r;switch(Td(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ga();break;case 3:ds(),ue(it),ue(Je),$d();break;case 5:Ud(n);break;case 4:ds();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Ld(n.type._context);break;case 22:case 23:Kd()}r=r.return}if(Ae=e,Ce=e=Vr(e.current,null),Ue=gt=t,Me=0,bo=null,Jd=Oi=jn=0,ot=Ks=null,ln!==null){for(t=0;t<ln.length;t++)if(r=ln[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}ln=null}return e}function tg(e,t){do{var r=Ce;try{if(Od(),Ra.current=ri,ti){for(var n=me.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}ti=!1}if(wn=0,Oe=Te=me=null,Qs=!1,xo=0,Yd.current=null,r===null||r.return===null){Me=1,bo=t,Ce=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Ue,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Tf(i);if(x!==null){x.flags&=-257,Df(x,i,l,a,t),x.mode&1&&_f(a,d,t),t=x,c=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){_f(a,d,t),Zd();break e}c=Error(L(426))}}else if(fe&&l.mode&1){var v=Tf(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Df(v,i,l,a,t),Dd(us(c,l));break e}}a=c=us(c,l),Me!==4&&(Me=2),Ks===null?Ks=[a]:Ks.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Im(a,c,t);kf(a,p);break e;case 1:l=c;var h=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Wr===null||!Wr.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Fm(a,l,t);kf(a,j);break e}}a=a.return}while(a!==null)}sg(r)}catch(N){t=N,Ce===r&&r!==null&&(Ce=r=r.return);continue}break}while(!0)}function rg(){var e=ni.current;return ni.current=ri,e===null?ri:e}function Zd(){(Me===0||Me===3||Me===2)&&(Me=4),Ae===null||!(jn&268435455)&&!(Oi&268435455)||Mr(Ae,Ue)}function ai(e,t){var r=ae;ae|=2;var n=rg();(Ae!==e||Ue!==t)&&(or=null,hn(e,t));do try{Yv();break}catch(o){tg(e,o)}while(!0);if(Od(),ae=r,ni.current=n,Ce!==null)throw Error(L(261));return Ae=null,Ue=0,Me}function Yv(){for(;Ce!==null;)ng(Ce)}function Jv(){for(;Ce!==null&&!by();)ng(Ce)}function ng(e){var t=ag(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?sg(e):Ce=t,Yd.current=null}function sg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Bv(r,t),r!==null){r.flags&=32767,Ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ce=null;return}}else if(r=$v(r,t,gt),r!==null){Ce=r;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Me===0&&(Me=5)}function on(e,t,r){var n=ie,o=Pt.transition;try{Pt.transition=null,ie=1,Qv(e,t,r,n)}finally{Pt.transition=o,ie=n}return null}function Qv(e,t,r,n){do ss();while(Lr!==null);if(ae&6)throw Error(L(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(zy(e,a),e===Ae&&(Ce=Ae=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||la||(la=!0,ig($a,function(){return ss(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Pt.transition,Pt.transition=null;var i=ie;ie=1;var l=ae;ae|=4,Yd.current=null,Hv(e,r),Km(r,e),gv(kc),Wa=!!Sc,kc=Sc=null,e.current=r,Vv(r),wy(),ae=l,ie=i,Pt.transition=a}else e.current=r;if(la&&(la=!1,Lr=e,oi=o),a=e.pendingLanes,a===0&&(Wr=null),Sy(r.stateNode),ct(e,je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(si)throw si=!1,e=Vc,Vc=null,e;return oi&1&&e.tag!==0&&ss(),a=e.pendingLanes,a&1?e===qc?Zs++:(Zs=0,qc=e):Zs=0,tn(),null}function ss(){if(Lr!==null){var e=Ih(oi),t=Pt.transition,r=ie;try{if(Pt.transition=null,ie=16>e?16:e,Lr===null)var n=!1;else{if(e=Lr,Lr=null,oi=0,ae&6)throw Error(L(331));var o=ae;for(ae|=4,W=e.current;W!==null;){var a=W,i=a.child;if(W.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Xs(8,u,a)}var f=u.child;if(f!==null)f.return=u,W=f;else for(;W!==null;){u=W;var g=u.sibling,x=u.return;if(Jm(u),u===d){W=null;break}if(g!==null){g.return=x,W=g;break}W=x}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}W=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,W=i;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xs(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,W=p;break e}W=a.return}}var h=e.current;for(W=h;W!==null;){i=W;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,W=m;else e:for(i=h;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mi(9,l)}}catch(N){ve(l,l.return,N)}if(l===i){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(ae=o,tn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ci,e)}catch{}n=!0}return n}finally{ie=r,Pt.transition=t}}return!1}function qf(e,t,r){t=us(r,t),t=Im(e,t,1),e=Br(e,t,1),t=Ze(),e!==null&&(Po(e,1,t),ct(e,t))}function ve(e,t,r){if(e.tag===3)qf(e,e,r);else for(;t!==null;){if(t.tag===3){qf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wr===null||!Wr.has(n))){e=us(r,e),e=Fm(t,e,1),t=Br(t,e,1),e=Ze(),t!==null&&(Po(t,1,e),ct(t,e));break}}t=t.return}}function Xv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Ue&r)===r&&(Me===4||Me===3&&(Ue&130023424)===Ue&&500>je()-Qd?hn(e,0):Jd|=r),ct(e,t)}function og(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var r=Ze();e=hr(e,t),e!==null&&(Po(e,t,r),ct(e,r))}function Kv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),og(e,r)}function Zv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),og(e,r)}var ag;ag=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return at=!1,Uv(e,t,r);at=!!(e.flags&131072)}else at=!1,fe&&t.flags&1048576&&dm(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;za(e,t),e=t.pendingProps;var o=is(t,Je.current);ns(t,r),o=Wd(null,t,n,e,o,r);var a=Hd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(n)?(a=!0,Ya(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Id(t),o.updater=Di,t.stateNode=o,o._reactInternals=t,Mc(t,n,e,r),t=Ac(null,t,n,!0,a,r)):(t.tag=0,fe&&a&&_d(t),Ke(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(za(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=tb(n),e=Ot(n,e),o){case 0:t=Lc(null,t,n,e,r);break e;case 1:t=Lf(null,t,n,e,r);break e;case 11:t=Mf(null,t,n,e,r);break e;case 14:t=Of(null,t,n,Ot(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ot(n,o),Lc(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ot(n,o),Lf(e,t,n,o,r);case 3:e:{if(Wm(t),e===null)throw Error(L(387));n=t.pendingProps,a=t.memoizedState,o=a.element,gm(e,t),Za(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=us(Error(L(423)),t),t=Af(e,t,n,r,o);break e}else if(n!==o){o=us(Error(L(424)),t),t=Af(e,t,n,r,o);break e}else for(xt=$r(t.stateNode.containerInfo.firstChild),yt=t,fe=!0,At=null,r=hm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ls(),n===o){t=mr(e,t,r);break e}Ke(e,t,n,r)}t=t.child}return t;case 5:return xm(t),e===null&&_c(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Cc(n,o)?i=null:a!==null&&Cc(n,a)&&(t.flags|=32),Bm(e,t),Ke(e,t,i,r),t.child;case 6:return e===null&&_c(t),null;case 13:return Hm(e,t,r);case 4:return Fd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cs(t,null,n,r):Ke(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ot(n,o),Mf(e,t,n,o,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,ce(Xa,n._currentValue),n._currentValue=i,a!==null)if($t(a.value,i)){if(a.children===o.children&&!it.current){t=mr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=cr(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Tc(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(L(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Tc(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ke(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,ns(t,r),o=zt(o),n=n(o),t.flags|=1,Ke(e,t,n,r),t.child;case 14:return n=t.type,o=Ot(n,t.pendingProps),o=Ot(n.type,o),Of(e,t,n,o,r);case 15:return Um(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Ot(n,o),za(e,t),t.tag=1,lt(n)?(e=!0,Ya(t)):e=!1,ns(t,r),Am(t,n,o),Mc(t,n,o,r),Ac(null,t,n,!0,e,r);case 19:return Vm(e,t,r);case 22:return $m(e,t,r)}throw Error(L(156,t.tag))};function ig(e,t){return Mh(e,t)}function eb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,r,n){return new eb(e,t,r,n)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tb(e){if(typeof e=="function")return eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vd)return 11;if(e===bd)return 14}return 2}function Vr(e,t){var r=e.alternate;return r===null?(r=Rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Da(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")eu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $n:return mn(r.children,o,a,t);case yd:i=8,o|=8;break;case sc:return e=Rt(12,r,t,o|2),e.elementType=sc,e.lanes=a,e;case oc:return e=Rt(13,r,t,o),e.elementType=oc,e.lanes=a,e;case ac:return e=Rt(19,r,t,o),e.elementType=ac,e.lanes=a,e;case xh:return Li(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mh:i=10;break e;case gh:i=9;break e;case vd:i=11;break e;case bd:i=14;break e;case zr:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Rt(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function mn(e,t,r,n){return e=Rt(7,e,n,t),e.lanes=r,e}function Li(e,t,r,n){return e=Rt(22,e,n,t),e.elementType=xh,e.lanes=r,e.stateNode={isHidden:!1},e}function Al(e,t,r){return e=Rt(6,e,null,t),e.lanes=r,e}function Il(e,t,r){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rb(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function tu(e,t,r,n,o,a,i,l,c){return e=new rb(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(a),e}function nb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lg(e){if(!e)return Yr;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(lt(r))return lm(e,r,t)}return t}function cg(e,t,r,n,o,a,i,l,c){return e=tu(r,n,!0,e,o,a,i,l,c),e.context=lg(null),r=e.current,n=Ze(),o=Hr(r),a=cr(n,o),a.callback=t??null,Br(r,a,o),e.current.lanes=o,Po(e,o,n),ct(e,n),e}function Ai(e,t,r,n){var o=t.current,a=Ze(),i=Hr(o);return r=lg(r),t.context===null?t.context=r:t.pendingContext=r,t=cr(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Br(o,t,i),e!==null&&(Ft(e,o,i,a),Ea(e,o,i)),i}function ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ru(e,t){Gf(e,t),(e=e.alternate)&&Gf(e,t)}function sb(){return null}var dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}Ii.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ai(e,t,null,null)};Ii.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){Ai(null,e,null,null)}),t[pr]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=$h();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dr.length&&t!==0&&t<Dr[r].priority;r++);Dr.splice(r,0,e),r===0&&Wh(e)}};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function ob(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var d=ii(i);a.call(d)}}var i=cg(t,n,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=i,e[pr]=i.current,fo(e.nodeType===8?e.parentNode:e),Nn(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var d=ii(c);l.call(d)}}var c=tu(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=c,e[pr]=c.current,fo(e.nodeType===8?e.parentNode:e),Nn(function(){Ai(t,c,r,n)}),c}function Ui(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=ii(i);l.call(c)}}Ai(t,i,e,o)}else i=ob(r,t,e,o,n);return ii(i)}Fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ws(t.pendingLanes);r!==0&&(Nd(t,r|1),ct(t,je()),!(ae&6)&&(fs=je()+500,tn()))}break;case 13:Nn(function(){var n=hr(e,1);if(n!==null){var o=Ze();Ft(n,e,1,o)}}),ru(e,1)}};Sd=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var r=Ze();Ft(t,e,134217728,r)}ru(e,134217728)}};Uh=function(e){if(e.tag===13){var t=Hr(e),r=hr(e,t);if(r!==null){var n=Ze();Ft(r,e,t,n)}ru(e,t)}};$h=function(){return ie};Bh=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};gc=function(e,t,r){switch(t){case"input":if(cc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=zi(n);if(!o)throw Error(L(90));vh(n),cc(n,o)}}}break;case"textarea":wh(e,r);break;case"select":t=r.value,t!=null&&Zn(e,!!r.multiple,t,!1)}};Rh=Xd;Ph=Nn;var ab={usingClientEntryPoint:!1,Events:[_o,Vn,zi,Ch,Eh,Xd]},As={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ib={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Th(e),e===null?null:e.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||sb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Ci=ca.inject(ib),Zt=ca}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(L(200));return nb(e,t,null,r)};wt.createRoot=function(e,t){if(!su(e))throw Error(L(299));var r=!1,n="",o=dg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=tu(e,1,!1,null,null,r,!1,n,o),e[pr]=t.current,fo(e.nodeType===8?e.parentNode:e),new nu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Th(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Nn(e)};wt.hydrate=function(e,t,r){if(!Fi(t))throw Error(L(200));return Ui(null,e,t,!0,r)};wt.hydrateRoot=function(e,t,r){if(!su(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=dg;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=cg(t,null,e,1,r??null,o,!1,a,i),e[pr]=t.current,fo(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Ii(t)};wt.render=function(e,t,r){if(!Fi(t))throw Error(L(200));return Ui(null,e,t,!1,r)};wt.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(L(40));return e._reactRootContainer?(Nn(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};wt.unstable_batchedUpdates=Xd;wt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fi(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ui(e,t,r,!1,n)};wt.version="18.3.1-next-f1338f8080-20240426";function ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ug)}catch(e){console.error(e)}}ug(),uh.exports=wt;var Kt=uh.exports,fg,Jf=Kt;fg=Jf.createRoot,Jf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(this,arguments)}var Ar;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ar||(Ar={}));const Qf="popstate";function lb(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:i,hash:l}=n.location;return Jc("",{pathname:a,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:li(o)}return db(t,r,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ou(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cb(){return Math.random().toString(36).substr(2,8)}function Xf(e,t){return{usr:e.state,key:e.key,idx:t}}function Jc(e,t,r,n){return r===void 0&&(r=null),wo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ys(t):t,{state:r,key:t&&t.key||n||cb()})}function li(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ys(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function db(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,i=o.history,l=Ar.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(wo({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){l=Ar.Pop;let v=u(),p=v==null?null:v-d;d=v,c&&c({action:l,location:b.location,delta:p})}function g(v,p){l=Ar.Push;let h=Jc(b.location,v,p);d=u()+1;let m=Xf(h,d),j=b.createHref(h);try{i.pushState(m,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(j)}a&&c&&c({action:l,location:b.location,delta:1})}function x(v,p){l=Ar.Replace;let h=Jc(b.location,v,p);d=u();let m=Xf(h,d),j=b.createHref(h);i.replaceState(m,"",j),a&&c&&c({action:l,location:b.location,delta:0})}function y(v){let p=o.location.origin!=="null"?o.location.origin:o.location.href,h=typeof v=="string"?v:li(v);return h=h.replace(/ $/,"%20"),ge(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let b={get action(){return l},get location(){return e(o,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Qf,f),c=v,()=>{o.removeEventListener(Qf,f),c=null}},createHref(v){return t(o,v)},createURL:y,encodeLocation(v){let p=y(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:x,go(v){return i.go(v)}};return b}var Kf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kf||(Kf={}));function ub(e,t,r){return r===void 0&&(r="/"),fb(e,t,r)}function fb(e,t,r,n){let o=typeof t=="string"?ys(t):t,a=ps(o.pathname||"/",r);if(a==null)return null;let i=pg(e);pb(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=Sb(a);l=jb(i[c],d)}return l}function pg(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=qr([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),pg(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:bb(d,a.index),routesMeta:u})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of hg(a.path))o(a,i,c)}),t}function hg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let i=hg(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wb(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hb=/^:[\w-]+$/,mb=3,gb=2,xb=1,yb=10,vb=-2,Zf=e=>e==="*";function bb(e,t){let r=e.split("/"),n=r.length;return r.some(Zf)&&(n+=vb),t&&(n+=gb),r.filter(o=>!Zf(o)).reduce((o,a)=>o+(hb.test(a)?mb:a===""?xb:yb),n)}function wb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function jb(e,t,r){let{routesMeta:n}=e,o={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=Qc({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!f)return null;Object.assign(o,f.params),i.push({params:o,pathname:qr([a,f.pathname]),pathnameBase:Pb(qr([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=qr([a,f.pathnameBase]))}return i}function Qc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Nb(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:g,isOptional:x}=u;if(g==="*"){let b=l[f]||"";i=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[f];return x&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:e}}function Nb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ou(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function Sb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ou(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ps(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cb=e=>kb.test(e);function Eb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?ys(e):e,a;if(r)if(Cb(r))a=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),ou(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?a=ep(r.substring(1),"/"):a=ep(r,t)}else a=t;return{pathname:a,search:zb(n),hash:_b(o)}}function ep(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Fl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function au(e,t){let r=Rb(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iu(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=ys(e):(o=wo({},e),ge(!o.pathname||!o.pathname.includes("?"),Fl("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),Fl("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),Fl("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;o.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=Eb(o,l),d=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const qr=e=>e.join("/").replace(/\/\/+/g,"/"),Pb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_b=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mg=["post","put","patch","delete"];new Set(mg);const Db=["get",...mg];new Set(Db);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(this,arguments)}const $i=w.createContext(null),gg=w.createContext(null),xr=w.createContext(null),Bi=w.createContext(null),yr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),xg=w.createContext(null);function Mb(e,t){let{relative:r}=t===void 0?{}:t;vs()||ge(!1);let{basename:n,navigator:o}=w.useContext(xr),{hash:a,pathname:i,search:l}=Wi(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:qr([n,i])),o.createHref({pathname:c,search:l,hash:a})}function vs(){return w.useContext(Bi)!=null}function vr(){return vs()||ge(!1),w.useContext(Bi).location}function yg(e){w.useContext(xr).static||w.useLayoutEffect(e)}function Ee(){let{isDataRoute:e}=w.useContext(yr);return e?Gb():Ob()}function Ob(){vs()||ge(!1);let e=w.useContext($i),{basename:t,future:r,navigator:n}=w.useContext(xr),{matches:o}=w.useContext(yr),{pathname:a}=vr(),i=JSON.stringify(au(o,r.v7_relativeSplatPath)),l=w.useRef(!1);return yg(()=>{l.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=iu(d,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qr([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,a,e])}function bs(){let{matches:e}=w.useContext(yr),t=e[e.length-1];return t?t.params:{}}function Wi(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(xr),{matches:o}=w.useContext(yr),{pathname:a}=vr(),i=JSON.stringify(au(o,n.v7_relativeSplatPath));return w.useMemo(()=>iu(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Lb(e,t){return Ab(e,t)}function Ab(e,t,r,n){vs()||ge(!1);let{navigator:o}=w.useContext(xr),{matches:a}=w.useContext(yr),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=vr(),u;if(t){var f;let v=typeof t=="string"?ys(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ge(!1),u=v}else u=d;let g=u.pathname||"/",x=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=ub(e,{pathname:x}),b=Bb(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:qr([c,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:qr([c,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&b?w.createElement(Bi.Provider,{value:{location:jo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ar.Pop}},b):b}function Ib(){let e=qb(),t=Tb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:o},r):null,null)}const Fb=w.createElement(Ib,null);class Ub extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(yr.Provider,{value:this.props.routeContext},w.createElement(xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $b(e){let{routeContext:t,match:r,children:n}=e,o=w.useContext($i);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(yr.Provider,{value:t},n)}function Bb(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let u=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||ge(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:g,errors:x}=r,y=f.route.loader&&g[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,g)=>{let x,y=!1,b=null,v=null;r&&(x=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||Fb,c&&(d<0&&g===0?(Yb("route-fallback"),y=!0,v=null):d===g&&(y=!0,v=f.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,g+1)),h=()=>{let m;return x?m=b:y?m=v:f.route.Component?m=w.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=u,w.createElement($b,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?w.createElement(Ub,{location:r.location,revalidation:r.revalidation,component:b,error:x,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var vg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vg||{}),bg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bg||{});function Wb(e){let t=w.useContext($i);return t||ge(!1),t}function Hb(e){let t=w.useContext(gg);return t||ge(!1),t}function Vb(e){let t=w.useContext(yr);return t||ge(!1),t}function wg(e){let t=Vb(),r=t.matches[t.matches.length-1];return r.route.id||ge(!1),r.route.id}function qb(){var e;let t=w.useContext(xg),r=Hb(),n=wg();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Gb(){let{router:e}=Wb(vg.UseNavigateStable),t=wg(bg.UseNavigateStable),r=w.useRef(!1);return yg(()=>{r.current=!0}),w.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,jo({fromRouteId:t},a)))},[e,t])}const tp={};function Yb(e,t,r){tp[e]||(tp[e]=!0)}function Jb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dn(e){let{to:t,replace:r,state:n,relative:o}=e;vs()||ge(!1);let{future:a,static:i}=w.useContext(xr),{matches:l}=w.useContext(yr),{pathname:c}=vr(),d=Ee(),u=iu(t,au(l,a.v7_relativeSplatPath),c,o==="path"),f=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:o}),[d,f,o,r,n]),null}function le(e){ge(!1)}function Qb(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Ar.Pop,navigator:a,static:i=!1,future:l}=e;vs()&&ge(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:i,future:jo({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=ys(n));let{pathname:u="/",search:f="",hash:g="",state:x=null,key:y="default"}=n,b=w.useMemo(()=>{let v=ps(u,c);return v==null?null:{location:{pathname:v,search:f,hash:g,state:x,key:y},navigationType:o}},[c,u,f,g,x,y,o]);return b==null?null:w.createElement(xr.Provider,{value:d},w.createElement(Bi.Provider,{children:r,value:b}))}function Xb(e){let{children:t,location:r}=e;return Lb(Xc(t),r)}new Promise(()=>{});function Xc(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,o)=>{if(!w.isValidElement(n))return;let a=[...t,o];if(n.type===w.Fragment){r.push.apply(r,Xc(n.props.children,a));return}n.type!==le&&ge(!1),!n.props.index||!n.props.children||ge(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Xc(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function jg(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Kb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zb(e,t){return e.button===0&&(!t||t==="_self")&&!Kb(e)}const e1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],r1="6";try{window.__reactRouterVersion=r1}catch{}const n1=w.createContext({isTransitioning:!1}),s1="startTransition",rp=X0[s1];function o1(e){let{basename:t,children:r,future:n,window:o}=e,a=w.useRef();a.current==null&&(a.current=lb({window:o,v5Compat:!0}));let i=a.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=w.useCallback(f=>{d&&rp?rp(()=>c(f)):c(f)},[c,d]);return w.useLayoutEffect(()=>i.listen(u),[i,u]),w.useEffect(()=>Jb(n),[n]),w.createElement(Qb,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const a1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=w.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,g=jg(t,e1),{basename:x}=w.useContext(xr),y,b=!1;if(typeof d=="string"&&i1.test(d)&&(y=d,a1))try{let m=new URL(window.location.href),j=d.startsWith("//")?new URL(m.protocol+d):new URL(d),N=ps(j.pathname,x);j.origin===m.origin&&N!=null?d=N+j.search+j.hash:b=!0}catch{}let v=Mb(d,{relative:o}),p=d1(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:o,viewTransition:f});function h(m){n&&n(m),m.defaultPrevented||p(m)}return w.createElement("a",ci({},g,{href:y||v,onClick:b||a?n:h,ref:r,target:c}))}),l1=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:o=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:u}=t,f=jg(t,t1),g=Wi(c,{relative:f.relative}),x=vr(),y=w.useContext(gg),{navigator:b,basename:v}=w.useContext(xr),p=y!=null&&u1(g)&&d===!0,h=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,m=x.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(m=m.toLowerCase(),j=j?j.toLowerCase():null,h=h.toLowerCase()),j&&v&&(j=ps(j,v)||j);const N=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let S=m===h||!i&&m.startsWith(h)&&m.charAt(N)==="/",k=j!=null&&(j===h||!i&&j.startsWith(h)&&j.charAt(h.length)==="/"),C={isActive:S,isPending:k,isTransitioning:p},_=S?n:void 0,M;typeof a=="function"?M=a(C):M=[a,S?"active":null,k?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(C):l;return w.createElement(gn,ci({},f,{"aria-current":_,className:M,ref:r,style:I,to:c,viewTransition:d}),typeof u=="function"?u(C):u)});var Kc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kc||(Kc={}));var np;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(np||(np={}));function c1(e){let t=w.useContext($i);return t||ge(!1),t}function d1(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ee(),d=vr(),u=Wi(e,{relative:i});return w.useCallback(f=>{if(Zb(f,r)){f.preventDefault();let g=n!==void 0?n:li(d)===li(u);c(e,{replace:g,state:o,preventScrollReset:a,relative:i,viewTransition:l})}},[d,c,u,n,o,r,e,a,i,l])}function u1(e,t){t===void 0&&(t={});let r=w.useContext(n1);r==null&&ge(!1);let{basename:n}=c1(Kc.useViewTransitionState),o=Wi(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=ps(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=ps(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qc(o.pathname,i)!=null||Qc(o.pathname,a)!=null}function Ng(e,t){return function(){return e.apply(t,arguments)}}const{toString:f1}=Object.prototype,{getPrototypeOf:lu}=Object,{iterator:Hi,toStringTag:Sg}=Symbol,Vi=(e=>t=>{const r=f1.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=e=>(e=e.toLowerCase(),t=>Vi(t)===e),qi=e=>t=>typeof t===e,{isArray:ws}=Array,hs=qi("undefined");function Do(e){return e!==null&&!hs(e)&&e.constructor!==null&&!hs(e.constructor)&&dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kg=Ht("ArrayBuffer");function p1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kg(e.buffer),t}const h1=qi("string"),dt=qi("function"),Cg=qi("number"),Mo=e=>e!==null&&typeof e=="object",m1=e=>e===!0||e===!1,Ma=e=>{if(Vi(e)!=="object")return!1;const t=lu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Sg in e)&&!(Hi in e)},g1=e=>{if(!Mo(e)||Do(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},x1=Ht("Date"),y1=Ht("File"),v1=Ht("Blob"),b1=Ht("FileList"),w1=e=>Mo(e)&&dt(e.pipe),j1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dt(e.append)&&((t=Vi(e))==="formdata"||t==="object"&&dt(e.toString)&&e.toString()==="[object FormData]"))},N1=Ht("URLSearchParams"),[S1,k1,C1,E1]=["ReadableStream","Request","Response","Headers"].map(Ht),R1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oo(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),ws(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Do(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function Eg(e,t){if(Do(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const un=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rg=e=>!hs(e)&&e!==un;function Zc(){const{caseless:e,skipUndefined:t}=Rg(this)&&this||{},r={},n=(o,a)=>{if(a==="__proto__"||a==="constructor"||a==="prototype")return;const i=e&&Eg(r,a)||a;Ma(r[i])&&Ma(o)?r[i]=Zc(r[i],o):Ma(o)?r[i]=Zc({},o):ws(o)?r[i]=o.slice():(!t||!hs(o))&&(r[i]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Oo(arguments[o],n);return r}const P1=(e,t,r,{allOwnKeys:n}={})=>(Oo(t,(o,a)=>{r&&dt(o)?Object.defineProperty(e,a,{value:Ng(o,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),z1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_1=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},T1=(e,t,r,n)=>{let o,a,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&lu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},D1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},M1=e=>{if(!e)return null;if(ws(e))return e;let t=e.length;if(!Cg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},O1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&lu(Uint8Array)),L1=(e,t)=>{const n=(e&&e[Hi]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},A1=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},I1=Ht("HTMLFormElement"),F1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),sp=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),U1=Ht("RegExp"),Pg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Oo(r,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(n[a]=i||o)}),Object.defineProperties(e,n)},$1=e=>{Pg(e,(t,r)=>{if(dt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(dt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},B1=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return ws(e)?n(e):n(String(e).split(t)),r},W1=()=>{},H1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function V1(e){return!!(e&&dt(e.append)&&e[Sg]==="FormData"&&e[Hi])}const q1=e=>{const t=new Array(10),r=(n,o)=>{if(Mo(n)){if(t.indexOf(n)>=0)return;if(Do(n))return n;if(!("toJSON"in n)){t[o]=n;const a=ws(n)?[]:{};return Oo(n,(i,l)=>{const c=r(i,o+1);!hs(c)&&(a[l]=c)}),t[o]=void 0,a}}return n};return r(e,0)},G1=Ht("AsyncFunction"),Y1=e=>e&&(Mo(e)||dt(e))&&dt(e.then)&&dt(e.catch),zg=((e,t)=>e?setImmediate:t?((r,n)=>(un.addEventListener("message",({source:o,data:a})=>{o===un&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),un.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dt(un.postMessage)),J1=typeof queueMicrotask<"u"?queueMicrotask.bind(un):typeof process<"u"&&process.nextTick||zg,Q1=e=>e!=null&&dt(e[Hi]),z={isArray:ws,isArrayBuffer:kg,isBuffer:Do,isFormData:j1,isArrayBufferView:p1,isString:h1,isNumber:Cg,isBoolean:m1,isObject:Mo,isPlainObject:Ma,isEmptyObject:g1,isReadableStream:S1,isRequest:k1,isResponse:C1,isHeaders:E1,isUndefined:hs,isDate:x1,isFile:y1,isBlob:v1,isRegExp:U1,isFunction:dt,isStream:w1,isURLSearchParams:N1,isTypedArray:O1,isFileList:b1,forEach:Oo,merge:Zc,extend:P1,trim:R1,stripBOM:z1,inherits:_1,toFlatObject:T1,kindOf:Vi,kindOfTest:Ht,endsWith:D1,toArray:M1,forEachEntry:L1,matchAll:A1,isHTMLForm:I1,hasOwnProperty:sp,hasOwnProp:sp,reduceDescriptors:Pg,freezeMethods:$1,toObjectSet:B1,toCamelCase:F1,noop:W1,toFiniteNumber:H1,findKey:Eg,global:un,isContextDefined:Rg,isSpecCompliantForm:V1,toJSONObject:q1,isAsyncFn:G1,isThenable:Y1,setImmediate:zg,asap:J1,isIterable:Q1};let X=class _g extends Error{static from(t,r,n,o,a,i){const l=new _g(t.message,r||t.code,n,o,a);return l.cause=t,l.name=t.name,i&&Object.assign(l,i),l}constructor(t,r,n,o,a){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}};X.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";X.ERR_BAD_OPTION="ERR_BAD_OPTION";X.ECONNABORTED="ECONNABORTED";X.ETIMEDOUT="ETIMEDOUT";X.ERR_NETWORK="ERR_NETWORK";X.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";X.ERR_DEPRECATED="ERR_DEPRECATED";X.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";X.ERR_BAD_REQUEST="ERR_BAD_REQUEST";X.ERR_CANCELED="ERR_CANCELED";X.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";X.ERR_INVALID_URL="ERR_INVALID_URL";const X1=null;function ed(e){return z.isPlainObject(e)||z.isArray(e)}function Tg(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function op(e,t,r){return e?e.concat(t).map(function(o,a){return o=Tg(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function K1(e){return z.isArray(e)&&!e.some(ed)}const Z1=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function Gi(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!z.isUndefined(v[b])});const n=r.metaTokens,o=r.visitor||u,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(z.isDate(y))return y.toISOString();if(z.isBoolean(y))return y.toString();if(!c&&z.isBlob(y))throw new X("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(y)||z.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,b,v){let p=y;if(y&&!v&&typeof y=="object"){if(z.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(z.isArray(y)&&K1(y)||(z.isFileList(y)||z.endsWith(b,"[]"))&&(p=z.toArray(y)))return b=Tg(b),p.forEach(function(m,j){!(z.isUndefined(m)||m===null)&&t.append(i===!0?op([b],j,a):i===null?b:b+"[]",d(m))}),!1}return ed(y)?!0:(t.append(op(v,b,a),d(y)),!1)}const f=[],g=Object.assign(Z1,{defaultVisitor:u,convertValue:d,isVisitable:ed});function x(y,b){if(!z.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),z.forEach(y,function(p,h){(!(z.isUndefined(p)||p===null)&&o.call(t,p,z.isString(h)?h.trim():h,b,g))===!0&&x(p,b?b.concat(h):[h])}),f.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return x(e),t}function ap(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function cu(e,t){this._pairs=[],e&&Gi(e,this,t)}const Dg=cu.prototype;Dg.append=function(t,r){this._pairs.push([t,r])};Dg.toString=function(t){const r=t?function(n){return t.call(this,n,ap)}:ap;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function ew(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mg(e,t,r){if(!t)return e;const n=r&&r.encode||ew,o=z.isFunction(r)?{serialize:r}:r,a=o&&o.serialize;let i;if(a?i=a(t,o):i=z.isURLSearchParams(t)?t.toString():new cu(t,o).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ip{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(n){n!==null&&t(n)})}}const du={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},tw=typeof URLSearchParams<"u"?URLSearchParams:cu,rw=typeof FormData<"u"?FormData:null,nw=typeof Blob<"u"?Blob:null,sw={isBrowser:!0,classes:{URLSearchParams:tw,FormData:rw,Blob:nw},protocols:["http","https","file","blob","url","data"]},uu=typeof window<"u"&&typeof document<"u",td=typeof navigator=="object"&&navigator||void 0,ow=uu&&(!td||["ReactNative","NativeScript","NS"].indexOf(td.product)<0),aw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iw=uu&&window.location.href||"http://localhost",lw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uu,hasStandardBrowserEnv:ow,hasStandardBrowserWebWorkerEnv:aw,navigator:td,origin:iw},Symbol.toStringTag,{value:"Module"})),Ye={...lw,...sw};function cw(e,t){return Gi(e,new Ye.classes.URLSearchParams,{visitor:function(r,n,o,a){return Ye.isNode&&z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function dw(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function uw(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function Og(e){function t(r,n,o,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&z.isArray(o)?o.length:i,c?(z.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!l):((!o[i]||!z.isObject(o[i]))&&(o[i]=[]),t(r,n,o[i],a)&&z.isArray(o[i])&&(o[i]=uw(o[i])),!l)}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,(n,o)=>{t(dw(n),o,r,0)}),r}return null}function fw(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Lo={transitional:du,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=z.isObject(t);if(a&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return o?JSON.stringify(Og(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return cw(t,this.formSerializer).toString();if((l=z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gi(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),fw(t)):t}],transformResponse:[function(t){const r=this.transitional||Lo.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(n&&!this.responseType||o)){const i=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?X.from(l,X.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Lo.headers[e]={}});const pw=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hw=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),r=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!r||t[r]&&pw[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lp=Symbol("internals");function Is(e){return e&&String(e).trim().toLowerCase()}function Oa(e){return e===!1||e==null?e:z.isArray(e)?e.map(Oa):String(e)}function mw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const gw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ul(e,t,r,n,o){if(z.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!z.isString(t)){if(z.isString(n))return t.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(t)}}function xw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function yw(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,i){return this[n].call(this,t,o,a,i)},configurable:!0})})}let ut=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(l,c,d){const u=Is(c);if(!u)throw new Error("header name must be a non-empty string");const f=z.findKey(o,u);(!f||o[f]===void 0||d===!0||d===void 0&&o[f]!==!1)&&(o[f||c]=Oa(l))}const i=(l,c)=>z.forEach(l,(d,u)=>a(d,u,c));if(z.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(z.isString(t)&&(t=t.trim())&&!gw(t))i(hw(t),r);else if(z.isObject(t)&&z.isIterable(t)){let l={},c,d;for(const u of t){if(!z.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?z.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Is(t),t){const n=z.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return mw(o);if(z.isFunction(r))return r.call(this,o,n);if(z.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Is(t),t){const n=z.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ul(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(i){if(i=Is(i),i){const l=z.findKey(n,i);l&&(!r||Ul(n,n[l],l,r))&&(delete n[l],o=!0)}}return z.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||Ul(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return z.forEach(this,(o,a)=>{const i=z.findKey(n,a);if(i){r[i]=Oa(o),delete r[a];return}const l=t?xw(a):String(a).trim();l!==a&&delete r[a],r[l]=Oa(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return z.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[lp]=this[lp]={accessors:{}}).accessors,o=this.prototype;function a(i){const l=Is(i);n[l]||(yw(o,i),n[l]=!0)}return z.isArray(t)?t.forEach(a):a(t),this}};ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(ut.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});z.freezeMethods(ut);function $l(e,t){const r=this||Lo,n=t||r,o=ut.from(n.headers);let a=n.data;return z.forEach(e,function(l){a=l.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function Lg(e){return!!(e&&e.__CANCEL__)}let Ao=class extends X{constructor(t,r,n){super(t??"canceled",X.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function Ag(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new X("Request failed with status code "+r.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function vw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bw(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];i||(i=d),r[o]=c,n[o]=d;let f=a,g=0;for(;f!==o;)g+=r[f++],f=f%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),d-i<t)return;const x=u&&d-u;return x?Math.round(g*1e3/x):void 0}}function ww(e,t){let r=0,n=1e3/t,o,a;const i=(d,u=Date.now())=>{r=u,o=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?i(d,u):(o=d,a||(a=setTimeout(()=>{a=null,i(o)},n-f)))},()=>o&&i(o)]}const di=(e,t,r=3)=>{let n=0;const o=bw(50,250);return ww(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,d=o(c),u=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},cp=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},dp=e=>(...t)=>z.asap(()=>e(...t)),jw=Ye.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ye.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,Nw=Ye.hasStandardBrowserEnv?{write(e,t,r,n,o,a,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];z.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),z.isString(n)&&l.push(`path=${n}`),z.isString(o)&&l.push(`domain=${o}`),a===!0&&l.push("secure"),z.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Sw(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ig(e,t,r){let n=!Sw(t);return e&&(n||r==!1)?kw(e,t):t}const up=e=>e instanceof ut?{...e}:e;function Sn(e,t){t=t||{};const r={};function n(d,u,f,g){return z.isPlainObject(d)&&z.isPlainObject(u)?z.merge.call({caseless:g},d,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function o(d,u,f,g){if(z.isUndefined(u)){if(!z.isUndefined(d))return n(void 0,d,f,g)}else return n(d,u,f,g)}function a(d,u){if(!z.isUndefined(u))return n(void 0,u)}function i(d,u){if(z.isUndefined(u)){if(!z.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,f)=>o(up(d),up(u),f,!0)};return z.forEach(Object.keys({...e,...t}),function(u){if(u==="__proto__"||u==="constructor"||u==="prototype")return;const f=z.hasOwnProp(c,u)?c[u]:o,g=f(e[u],t[u],u);z.isUndefined(g)&&f!==l||(r[u]=g)}),r}const Fg=e=>{const t=Sn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=ut.from(i),t.url=Mg(Ig(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),z.isFormData(r)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(z.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&i.set(u,f)})}}if(Ye.hasStandardBrowserEnv&&(n&&z.isFunction(n)&&(n=n(t)),n||n!==!1&&jw(t.url))){const c=o&&a&&Nw.read(a);c&&i.set(o,c)}return t},Cw=typeof XMLHttpRequest<"u",Ew=Cw&&function(e){return new Promise(function(r,n){const o=Fg(e);let a=o.data;const i=ut.from(o.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=o,u,f,g,x,y;function b(){x&&x(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout;function p(){if(!v)return;const m=ut.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:m,config:e,request:v};Ag(function(k){r(k),b()},function(k){n(k),b()},N),v=null}"onloadend"in v?v.onloadend=p:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(p)},v.onabort=function(){v&&(n(new X("Request aborted",X.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const N=j&&j.message?j.message:"Network Error",S=new X(N,X.ERR_NETWORK,e,v);S.event=j||null,n(S),v=null},v.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const N=o.transitional||du;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),n(new X(j,N.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,v)),v=null},a===void 0&&i.setContentType(null),"setRequestHeader"in v&&z.forEach(i.toJSON(),function(j,N){v.setRequestHeader(N,j)}),z.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),l&&l!=="json"&&(v.responseType=o.responseType),d&&([g,y]=di(d,!0),v.addEventListener("progress",g)),c&&v.upload&&([f,x]=di(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(u=m=>{v&&(n(!m||m.type?new Ao(null,e,v):m),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const h=vw(o.url);if(h&&Ye.protocols.indexOf(h)===-1){n(new X("Unsupported protocol "+h+":",X.ERR_BAD_REQUEST,e));return}v.send(a||null)})},Rw=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(d){if(!o){o=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof X?u:new Ao(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new X(`timeout of ${t}ms exceeded`,X.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>z.asap(l),c}},Pw=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},zw=async function*(e,t){for await(const r of _w(e))yield*Pw(r,t)},_w=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fp=(e,t,r,n)=>{const o=zw(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await o.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let g=a+=f;r(g)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},pp=64*1024,{isFunction:da}=z,Tw=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:hp,TextEncoder:mp}=z.global,gp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Dw=e=>{e=z.merge.call({skipUndefined:!0},Tw,e);const{fetch:t,Request:r,Response:n}=e,o=t?da(t):typeof fetch=="function",a=da(r),i=da(n);if(!o)return!1;const l=o&&da(hp),c=o&&(typeof mp=="function"?(y=>b=>y.encode(b))(new mp):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=a&&l&&gp(()=>{let y=!1;const b=new r(Ye.origin,{body:new hp,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),u=i&&l&&gp(()=>z.isReadableStream(new n("").body)),f={stream:u&&(y=>y.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(b,v)=>{let p=b&&b[y];if(p)return p.call(b);throw new X(`Response type '${y}' is not supported`,X.ERR_NOT_SUPPORT,v)})});const g=async y=>{if(y==null)return 0;if(z.isBlob(y))return y.size;if(z.isSpecCompliantForm(y))return(await new r(Ye.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(z.isArrayBufferView(y)||z.isArrayBuffer(y))return y.byteLength;if(z.isURLSearchParams(y)&&(y=y+""),z.isString(y))return(await c(y)).byteLength},x=async(y,b)=>{const v=z.toFiniteNumber(y.getContentLength());return v??g(b)};return async y=>{let{url:b,method:v,data:p,signal:h,cancelToken:m,timeout:j,onDownloadProgress:N,onUploadProgress:S,responseType:k,headers:C,withCredentials:_="same-origin",fetchOptions:M}=Fg(y),I=t||fetch;k=k?(k+"").toLowerCase():"text";let B=Rw([h,m&&m.toAbortSignal()],j),G=null;const Y=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let oe;try{if(S&&d&&v!=="get"&&v!=="head"&&(oe=await x(C,p))!==0){let J=new r(b,{method:"POST",body:p,duplex:"half"}),P;if(z.isFormData(p)&&(P=J.headers.get("content-type"))&&C.setContentType(P),J.body){const[$,Q]=cp(oe,di(dp(S)));p=fp(J.body,pp,$,Q)}}z.isString(_)||(_=_?"include":"omit");const T=a&&"credentials"in r.prototype,O={...M,signal:B,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:p,duplex:"half",credentials:T?_:void 0};G=a&&new r(b,O);let E=await(a?I(G,M):I(b,O));const D=u&&(k==="stream"||k==="response");if(u&&(N||D&&Y)){const J={};["status","statusText","headers"].forEach(A=>{J[A]=E[A]});const P=z.toFiniteNumber(E.headers.get("content-length")),[$,Q]=N&&cp(P,di(dp(N),!0))||[];E=new n(fp(E.body,pp,$,()=>{Q&&Q(),Y&&Y()}),J)}k=k||"text";let R=await f[z.findKey(f,k)||"text"](E,y);return!D&&Y&&Y(),await new Promise((J,P)=>{Ag(J,P,{data:R,headers:ut.from(E.headers),status:E.status,statusText:E.statusText,config:y,request:G})})}catch(T){throw Y&&Y(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,y,G,T&&T.response),{cause:T.cause||T}):X.from(T,T&&T.code,y,G,T&&T.response)}}},Mw=new Map,Ug=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:o}=t,a=[n,o,r];let i=a.length,l=i,c,d,u=Mw;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:Dw(t)),u=d;return d};Ug();const fu={http:X1,xhr:Ew,fetch:{get:Ug}};z.forEach(fu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xp=e=>`- ${e}`,Ow=e=>z.isFunction(e)||e===null||e===!1;function Lw(e,t){e=z.isArray(e)?e:[e];const{length:r}=e;let n,o;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(o=n,!Ow(n)&&(o=fu[(l=String(n)).toLowerCase()],o===void 0))throw new X(`Unknown adapter '${l}'`);if(o&&(z.isFunction(o)||(o=o.get(t))))break;a[l||"#"+i]=o}if(!o){const i=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(xp).join(`
`):" "+xp(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o}const $g={getAdapter:Lw,adapters:fu};function Bl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ao(null,e)}function yp(e){return Bl(e),e.headers=ut.from(e.headers),e.data=$l.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$g.getAdapter(e.adapter||Lo.adapter,e)(e).then(function(n){return Bl(e),n.data=$l.call(e,e.transformResponse,n),n.headers=ut.from(n.headers),n},function(n){return Lg(n)||(Bl(e),n&&n.response&&(n.response.data=$l.call(e,e.transformResponse,n.response),n.response.headers=ut.from(n.response.headers))),Promise.reject(n)})}const Bg="1.13.5",Yi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const vp={};Yi.transitional=function(t,r,n){function o(a,i){return"[Axios v"+Bg+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new X(o(i," has been removed"+(r?" in "+r:"")),X.ERR_DEPRECATED);return r&&!vp[i]&&(vp[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};Yi.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Aw(e,t,r){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new X("option "+a+" must be "+c,X.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new X("Unknown option "+a,X.ERR_BAD_OPTION)}}const La={assertOptions:Aw,validators:Yi},St=La.validators;let xn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ip,response:new ip}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Sn(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&La.assertOptions(n,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean),legacyInterceptorReqResOrdering:St.transitional(St.boolean)},!1),o!=null&&(z.isFunction(o)?r.paramsSerializer={serialize:o}:La.assertOptions(o,{encode:St.function,serialize:St.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),La.assertOptions(r,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&z.merge(a.common,a[r.method]);a&&z.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=ut.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(b){if(typeof b.runWhen=="function"&&b.runWhen(r)===!1)return;c=c&&b.synchronous;const v=r.transitional||du;v&&v.legacyInterceptorReqResOrdering?l.unshift(b.fulfilled,b.rejected):l.push(b.fulfilled,b.rejected)});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,f=0,g;if(!c){const y=[yp.bind(this),void 0];for(y.unshift(...l),y.push(...d),g=y.length,u=Promise.resolve(r);f<g;)u=u.then(y[f++],y[f++]);return u}g=l.length;let x=r;for(;f<g;){const y=l[f++],b=l[f++];try{x=y(x)}catch(v){b.call(this,v);break}}try{u=yp.call(this,x)}catch(y){return Promise.reject(y)}for(f=0,g=d.length;f<g;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Sn(this.defaults,t);const r=Ig(t.baseURL,t.url,t.allowAbsoluteUrls);return Mg(r,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){xn.prototype[t]=function(r,n){return this.request(Sn(n||{},{method:t,url:r,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Sn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}xn.prototype[t]=r(),xn.prototype[t+"Form"]=r(!0)});let Iw=class Wg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(o);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Ao(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Wg(function(o){t=o}),cancel:t}}};function Fw(e){return function(r){return e.apply(null,r)}}function Uw(e){return z.isObject(e)&&e.isAxiosError===!0}const rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rd).forEach(([e,t])=>{rd[t]=e});function Hg(e){const t=new xn(e),r=Ng(xn.prototype.request,t);return z.extend(r,xn.prototype,t,{allOwnKeys:!0}),z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return Hg(Sn(e,o))},r}const Ne=Hg(Lo);Ne.Axios=xn;Ne.CanceledError=Ao;Ne.CancelToken=Iw;Ne.isCancel=Lg;Ne.VERSION=Bg;Ne.toFormData=Gi;Ne.AxiosError=X;Ne.Cancel=Ne.CanceledError;Ne.all=function(t){return Promise.all(t)};Ne.spread=Fw;Ne.isAxiosError=Uw;Ne.mergeConfig=Sn;Ne.AxiosHeaders=ut;Ne.formToJSON=e=>Og(z.isHTMLForm(e)?new FormData(e):e);Ne.getAdapter=$g.getAdapter;Ne.HttpStatusCode=rd;Ne.default=Ne;const{Axios:U4,AxiosError:$4,CanceledError:B4,isCancel:W4,CancelToken:H4,VERSION:V4,all:q4,Cancel:G4,isAxiosError:Y4,spread:J4,toFormData:Q4,AxiosHeaders:X4,HttpStatusCode:K4,formToJSON:Z4,getAdapter:eE,mergeConfig:tE}=Ne,Vg="192.168.1.86:3000";console.log("Using backend URL:",Vg);const be=Ne.create({baseURL:`http://${Vg}/api`});be.interceptors.request.use(e=>{const t=localStorage.getItem("soma_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const $w=async e=>await be.post("/auth/register",e),Bw=async e=>await be.post("/auth/register",e),Ww=async(e,t)=>await be.post("/auth/login",{email:e,password:t}),qg=w.createContext(void 0),ua=()=>{const e=localStorage.getItem("soma_users");return e?JSON.parse(e):[]},Wl=e=>{localStorage.setItem("soma_users",JSON.stringify(e))},Hw=({children:e})=>{const[t,r]=w.useState(()=>{try{const u=localStorage.getItem("soma_auth");return u?JSON.parse(u):null}catch{return localStorage.removeItem("soma_auth"),null}});V.useEffect(()=>{ua().length===0&&Wl([{email:"admin@somabox.com",password:"admin123",role:"Admin"}])},[]);const n=async(u,f)=>{var g;try{const x=await Ww(u,f);let y,b;x.data.user?(y=x.data.user,b=x.data.access_token):(y=x.data,b=x.data.access_token||x.data.token||""),console.log("Login response user:",y);const v=((g=y.role)==null?void 0:g.toUpperCase())||"STUDENT",h={STUDENT:"Student",FACILITATOR:"Facilitator",ADMIN:"Admin"}[v]||"Student";console.log("Mapped role:",h);const m={id:y.id||y.studentId||y._id||"unknown",email:y.email,role:h};return r(m),localStorage.setItem("soma_auth",JSON.stringify(m)),localStorage.setItem("soma_token",b),h}catch(x){console.log("API failed, checking localStorage...");const b=ua().find(v=>v.email.toLowerCase()===u.toLowerCase());if(b&&b.password===f){console.log("Found user in localStorage:",b);const v={id:b.id||b.studentId||"local_user",email:b.email,role:b.role};return r(v),localStorage.setItem("soma_auth",JSON.stringify(v)),localStorage.setItem("soma_token","local_token"),b.role}throw console.error("Sign in failed:",x),new Error("Invalid email or password")}},o=async(u,f,g,x)=>{var y,b,v;try{const p=await Bw({name:u,email:f,password:g,role:x});return(y=p.data)!=null&&y.message?p.data.message:"Registration successful"}catch(p){throw console.error("API signup failed:",p),(v=(b=p.response)==null?void 0:b.data)!=null&&v.message?new Error(p.response.data.message):new Error("Registration failed. Please try again.")}},a=async(u,f,g,x)=>{var y,b,v;try{const p=await $w({name:u,email:f,password:g,role:x}),h=ua(),m={email:f,password:g,role:x};return Wl([...h,m]),(y=p.data)!=null&&y.message?p.data.message:`${x} registered successfully`}catch(p){throw console.error("API register user failed:",p),(v=(b=p.response)==null?void 0:b.data)!=null&&v.message?new Error(p.response.data.message):new Error("User registration failed. Please try again.")}},i=async u=>{await new Promise(b=>setTimeout(b,600));const f=ua();if(!f.find(b=>b.email===u))return{success:!0,message:"If an account with that email exists, a new password has been sent."};const x=Math.random().toString(36).slice(-8)+Math.random().toString(36).slice(-8).toUpperCase(),y=f.map(b=>b.email===u?{...b,password:x}:b);return Wl(y),localStorage.setItem("soma_reset_"+u,JSON.stringify({newPassword:x,expires:Date.now()+36e5})),{success:!0,message:"New password generated! For demo purposes, the new password is: "+x+" (In production, this would be sent to your email)",newPassword:x}},l=()=>{r(null),localStorage.removeItem("soma_auth"),localStorage.removeItem("soma_token"),localStorage.removeItem("soma_profile")},c=u=>{if(t){const f={...t,email:u};r(f),localStorage.setItem("soma_auth",JSON.stringify(f))}},d=()=>{r(null),localStorage.removeItem("soma_auth"),localStorage.removeItem("soma_token"),localStorage.removeItem("soma_profile"),localStorage.removeItem("soma_notifications")};return s.jsx(qg.Provider,{value:{user:t,signIn:n,signUp:o,registerUser:a,signOut:l,updateUser:c,deleteAccount:d,forgotPassword:i},children:e})},Qe=()=>{const e=w.useContext(qg);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=e=>{const t=qw(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...Gw,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Gg("lucide",o),...!a&&!Yw(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,u])=>w.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(e,t)=>{const r=w.forwardRef(({className:n,...o},a)=>w.createElement(Jw,{ref:a,iconNode:t,className:Gg(`lucide-${Vw(bp(e))}`,`lucide-${e}`,n),...o}));return r.displayName=bp(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ui=U("activity",Qw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dr=U("arrow-left",Xw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kn=U("arrow-right",Kw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],e2=U("award",Zw);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pu=U("bell",t2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],n2=U("book-marked",r2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ut=U("book-open",s2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],nd=U("book",o2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],i2=U("brain",a2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c2=U("chevron-down",l2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],u2=U("chevron-left",d2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fn=U("chevron-right",f2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],h2=U("circle-alert",p2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hu=U("circle-check-big",m2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ji=U("circle-check",g2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mu=U("circle-play",x2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qi=U("circle-question-mark",y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],b2=U("circle",v2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],j2=U("clipboard-list",w2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fi=U("clock",N2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],k2=U("cloud",S2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Yg=U("download",C2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sd=U("eye-off",E2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pi=U("eye",R2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Jg=U("file-braces",P2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],_2=U("file-check",z2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Io=U("file-text",T2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],M2=U("folder",D2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L2=U("funnel",O2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],I2=U("graduation-cap",A2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Qg=U("grip-vertical",F2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$2=U("house",U2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gu=U("image",B2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Xi=U("layers",W2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Hl=U("layout-dashboard",H2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],Xg=U("layout-template",V2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],G2=U("library",q2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],J2=U("list-todo",Y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xu=U("list",Q2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yn=U("loader-circle",X2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kg=U("log-out",K2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yu=U("mail",Z2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zg=U("menu",ej);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rj=U("message-circle",tj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ur=U("message-square",nj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],oj=U("monitor",sj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ij=U("paperclip",aj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ex=U("panels-top-left",lj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dj=U("pen-line",cj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cn=U("plus",uj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],pj=U("redo-2",fj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mj=U("save",hj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],wp=U("school",gj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fo=U("search",xj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tx=U("send",yj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vl=U("settings",vj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]],rx=U("shield-plus",bj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hi=U("shield",wj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Nj=U("smartphone",jj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],No=U("sparkles",Sj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mi=U("square-check-big",kj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nx=U("star",Cj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],Rj=U("tablet",Ej);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zj=U("tag",Pj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jr=U("trash-2",_j);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],So=U("trending-up",Tj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],sx=U("type",Dj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Oj=U("undo-2",Mj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ox=U("upload",Lj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ij=U("user-plus",Aj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gi=U("user",Fj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qr=U("users",Uj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ki=U("video",$j);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],En=U("x",Bj);function Wj(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[o,a]=w.useState(!1),[i,l]=w.useState(null),[c,d]=w.useState(null),[u,f]=w.useState(!1),g=Qe(),x=Ee(),y=async b=>{b.preventDefault(),f(!0),l(null),d(null);try{const v=await g.signIn(e,r);d("Login successful! Redirecting..."),setTimeout(()=>{x(v==="Admin"?"/admin/dashboard":v==="Facilitator"?"/facilitator/dashboard":"/dashboard")},1e3)}catch(v){l(v.message||"Login failed")}finally{f(!1)}};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-primary",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1531545514256-b1400bc00f31?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHN0dWRlbnRzJTIwaW4lMjBjbGFzc3xlbnwwfHwwfHx8MA%3D%3D",alt:"Students studying",className:"absolute inset-0 w-full h-full object-cover opacity-100 mix-blend-overlay"}),s.jsxs("div",{className:"relative z-10 p-16 flex flex-col justify-between h-full text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-24",children:[s.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-8 h-8 fill-white",children:[s.jsx("path",{d:"M20 5 L35 12.5 L35 27.5 L20 35 L5 27.5 L5 12.5 Z",className:"opacity-20"}),s.jsx("path",{d:"M20 5 L35 12.5 L20 20 L5 12.5 Z"}),s.jsx("path",{d:"M5 15 L20 22.5 L35 15 L35 20 L20 27.5 L5 20 Z",className:"opacity-80"}),s.jsx("path",{d:"M5 22.5 L20 30 L35 22.5 L35 27.5 L20 35 L5 27.5 Z",className:"opacity-60"})]})}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-xl font-bold leading-none",children:"SomaBox"}),s.jsx("div",{className:"text-[10px] opacity-70 font-medium",children:"Learning Portal"})]})]}),s.jsxs("div",{className:"max-w-md",children:[s.jsxs("h1",{className:"text-5xl font-bold leading-tight mb-6",children:["Bridging the gap in ",s.jsx("span",{className:"text-primary-light",children:"global education"})]}),s.jsx("p",{className:"text-lg opacity-80 mb-12",children:"Access quality education anytime, anywhere. Join thousands of students transforming their future through technology."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 text-left",children:[s.jsx("div",{className:"text-2xl font-bold",children:"500+"}),s.jsx("div",{className:"text-sm opacity-70",children:"Courses"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 text-left",children:[s.jsx("div",{className:"text-2xl font-bold",children:"10,000+"}),s.jsx("div",{className:"text-sm opacity-70",children:"Students"})]})]})]}),s.jsx("div",{className:"italic text-sm opacity-60",children:'"Education is the most powerful weapon which you can use to change the world."  Nelson Mandela'})]})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-primary-surface overflow-y-auto",children:s.jsxs("div",{className:"max-w-md w-full py-12",children:[s.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Sign In"}),s.jsx("p",{className:"text-gray-500",children:"Sign in to continue your journey and discover what awaits you"})]}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm font-bold border border-red-100 flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),i]}),c&&s.jsxs("div",{className:"bg-green-50 text-green-600 p-4 rounded-xl text-sm font-bold border border-green-100 flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),c]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all font-medium",placeholder:"Enter your email",value:e,onChange:b=>t(b.target.value),type:"email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all font-medium",placeholder:"Enter your password",value:r,onChange:b=>n(b.target.value),type:o?"text":"password",required:!0}),s.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(sd,{size:20}):s.jsx(pi,{size:20})})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded text-primary focus:ring-primary"}),s.jsx("span",{className:"text-gray-600 font-medium",children:"Remember me"})]}),s.jsx(gn,{to:"/forgot-password",className:"text-primary font-semibold hover:underline",children:"Forgot Password?"})]}),s.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-3 rounded-xl font-bold hover:bg-primary-dark transition-all shadow-lg shadow-primary/20 disabled:opacity-70",disabled:u,children:u?"Signing in...":"Sign In"})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600 font-medium",children:["Don't have an account? ",s.jsx(gn,{className:"text-primary font-bold hover:underline",to:"/signup",children:"Sign up Here"})]})]})})]})}function Hj({onRedirect:e}){const[t,r]=w.useState(3);return w.useEffect(()=>{const n=setInterval(()=>{r(o=>o<=1?(clearInterval(n),e(),0):o-1)},1e3);return()=>clearInterval(n)},[e]),s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(10, 18, 40, 0.75)",backdropFilter:"blur(12px)",animation:"fadeIn 0.4s ease forwards"},children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap');

        @keyframes fadeIn { from { opacity:0 } to { opacity:1 } }
        @keyframes slideUp { from { transform:translateY(32px); opacity:0 } to { transform:translateY(0); opacity:1 } }
        @keyframes pop { 0%{transform:scale(0.6) rotate(-10deg);opacity:0} 70%{transform:scale(1.12) rotate(3deg)} 100%{transform:scale(1) rotate(0deg);opacity:1} }
        @keyframes pulse-ring { 0%{transform:scale(0.95);opacity:0.7} 100%{transform:scale(1.4);opacity:0} }
        @keyframes shimmer { 0%{background-position:200% center} 100%{background-position:-200% center} }
        @keyframes dash { to { stroke-dashoffset: 0; } }
        @keyframes floatDot { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
        @keyframes countShrink { from{transform:scale(1.3)} to{transform:scale(1)} }

        .success-card {
          font-family: 'Sora', sans-serif;
          animation: slideUp 0.5s cubic-bezier(0.16,1,0.3,1) 0.1s both;
          background: linear-gradient(145deg, #ffffff 0%, #f0f7ff 60%, #e8f4ff 100%);
          border-radius: 28px;
          padding: 48px 40px 40px;
          max-width: 420px;
          width: 100%;
          position: relative;
          overflow: hidden;
          box-shadow:
            0 0 0 1px rgba(59,130,246,0.15),
            0 32px 80px rgba(30,64,175,0.18),
            0 8px 24px rgba(30,64,175,0.1);
        }

        .success-card::before {
          content: '';
          position: absolute;
          top: -60px; right: -60px;
          width: 200px; height: 200px;
          background: radial-gradient(circle, rgba(99,179,237,0.18) 0%, transparent 70%);
          border-radius: 50%;
        }
        .success-card::after {
          content: '';
          position: absolute;
          bottom: -40px; left: -40px;
          width: 160px; height: 160px;
          background: radial-gradient(circle, rgba(167,213,255,0.2) 0%, transparent 70%);
          border-radius: 50%;
        }

        .check-wrapper {
          position: relative;
          width: 80px; height: 80px;
          margin: 0 auto 28px;
          animation: pop 0.6s cubic-bezier(0.16,1,0.3,1) 0.3s both;
        }
        .check-ring {
          position: absolute; inset: -10px;
          border-radius: 50%;
          background: rgba(59,130,246,0.12);
          animation: pulse-ring 1.4s ease-out 0.8s infinite;
        }
        .check-bg {
          width: 80px; height: 80px;
          border-radius: 50%;
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          display: flex; align-items: center; justify-content: center;
          box-shadow: 0 8px 24px rgba(59,130,246,0.45), 0 0 0 6px rgba(59,130,246,0.12);
          position: relative; z-index: 1;
        }
        .check-svg { stroke-dasharray: 40; stroke-dashoffset: 40; animation: dash 0.5s ease 0.9s forwards; }

        .heading {
          background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 50%, #3b82f6 100%);
          background-size: 200% auto;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          font-size: 26px; font-weight: 800;
          line-height: 1.2; margin-bottom: 10px;
          animation: shimmer 3s linear infinite;
        }

        .subtext {
          font-family: 'DM Sans', sans-serif;
          color: #64748b; font-size: 14.5px; line-height: 1.6;
          margin-bottom: 32px;
        }

        .divider {
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(59,130,246,0.2), transparent);
          margin-bottom: 24px;
        }

        .countdown-row {
          display: flex; align-items: center; justify-content: space-between;
          font-family: 'DM Sans', sans-serif;
        }
        .countdown-label {
          font-size: 13px; color: #94a3b8; display: flex; align-items: center; gap: 6px;
        }
        .dot { width: 6px; height: 6px; border-radius: 50%; background: #3b82f6; animation: floatDot 1.2s ease infinite; }
        .dot:nth-child(2){ animation-delay: 0.2s; }
        .dot:nth-child(3){ animation-delay: 0.4s; }

        .countdown-num {
          font-size: 13px; font-weight: 600; color: #3b82f6;
          font-variant-numeric: tabular-nums;
          animation: countShrink 1s ease infinite;
        }

        .go-btn {
          margin-top: 20px;
          width: 100%;
          padding: 14px;
          border-radius: 14px;
          background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
          color: white;
          font-family: 'Sora', sans-serif;
          font-size: 15px; font-weight: 600;
          display: flex; align-items: center; justify-content: center; gap-10: 8px;
          border: none; cursor: pointer;
          box-shadow: 0 6px 20px rgba(37,99,235,0.35);
          transition: all 0.2s;
          gap: 8px;
        }
        .go-btn:hover { transform: translateY(-1px); box-shadow: 0 10px 28px rgba(37,99,235,0.4); }

        .sparkle-badge {
          display: inline-flex; align-items: center; gap: 5px;
          background: rgba(59,130,246,0.08);
          border: 1px solid rgba(59,130,246,0.2);
          border-radius: 100px;
          padding: 4px 12px; font-size: 11.5px; font-weight: 600;
          color: #3b82f6; margin-bottom: 16px;
          font-family: 'DM Sans', sans-serif;
        }

        .info-row {
          display: flex; gap: 10px; align-items: flex-start;
          background: rgba(239,246,255,0.8);
          border: 1px solid rgba(59,130,246,0.12);
          border-radius: 12px; padding: 14px;
          margin-bottom: 20px; font-family: 'DM Sans', sans-serif;
        }
        .info-icon { flex-shrink:0; margin-top: 2px; }
        .info-text { font-size: 13px; color: #475569; line-height: 1.5; }
        .info-text strong { color: #1e40af; font-weight: 600; }
      `}),s.jsxs("div",{className:"success-card",children:[s.jsxs("div",{className:"check-wrapper",children:[s.jsx("div",{className:"check-ring"}),s.jsx("div",{className:"check-bg",children:s.jsx("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:s.jsx("polyline",{className:"check-svg",points:"8,18 15,25 28,11",stroke:"white",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsx("div",{style:{textAlign:"center"},children:s.jsxs("div",{className:"sparkle-badge",style:{display:"inline-flex"},children:[s.jsx(No,{size:12}),"Welcome to SomaBox"]})}),s.jsxs("h2",{className:"heading",style:{textAlign:"center"},children:["Account Created",s.jsx("br",{}),"Successfully!"]}),s.jsx("p",{className:"subtext",style:{textAlign:"center"},children:"Your learning journey begins now. We're thrilled to have you join thousands of students transforming their futures."}),s.jsxs("div",{className:"info-row",children:[s.jsx("div",{className:"info-icon",children:s.jsx(Ji,{size:16,color:"#3b82f6"})}),s.jsxs("div",{className:"info-text",children:["A ",s.jsx("strong",{children:"verification email"})," has been sent to your inbox. Please check your email to activate your account."]})]}),s.jsx("div",{className:"divider"}),s.jsxs("div",{className:"countdown-row",children:[s.jsxs("div",{className:"countdown-label",children:["Redirecting to Sign In",s.jsx("span",{className:"dot"}),s.jsx("span",{className:"dot"}),s.jsx("span",{className:"dot"})]}),s.jsxs("div",{className:"countdown-num",children:["in ",t,"s"]})]}),s.jsxs("button",{className:"go-btn",onClick:e,children:["Go to Sign In",s.jsx(kn,{size:16})]})]})]})}function Vj(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[o,a]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(!1),[g,x]=w.useState(!1),[y,b]=w.useState(null),[v,p]=w.useState(!1),h=Qe(),m=Ee(),j=()=>m("/signin"),N=async S=>{if(S.preventDefault(),b(null),o!==i){b("Passwords do not match");return}x(!0);try{await h.signUp(e,r,o),p(!0)}catch(k){b(k.message||"Registration failed")}finally{x(!1)}};return s.jsxs(s.Fragment,{children:[v&&s.jsx(Hj,{onRedirect:j}),s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-primary",children:[s.jsx("img",{src:"https://media.istockphoto.com/id/2226385991/photo/happy-group-of-students-studying-together-at-the-library.webp?a=1&b=1&s=612x612&w=0&k=20&c=b6rhWOe7dRwbk_Cvsedg4vem3I9MW6Ui2n26jgu5fXg=",alt:"Students learning",className:"absolute inset-0 w-full h-full object-cover opacity-30 mix-blend-overlay"}),s.jsxs("div",{className:"relative z-10 p-16 flex flex-col justify-between h-full text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-24",children:[s.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-8 h-8 fill-white",children:[s.jsx("path",{d:"M20 5 L35 12.5 L35 27.5 L20 35 L5 27.5 L5 12.5 Z",className:"opacity-20"}),s.jsx("path",{d:"M20 5 L35 12.5 L20 20 L5 12.5 Z"}),s.jsx("path",{d:"M5 15 L20 22.5 L35 15 L35 20 L20 27.5 L5 20 Z",className:"opacity-80"}),s.jsx("path",{d:"M5 22.5 L20 30 L35 22.5 L35 27.5 L20 35 L5 27.5 Z",className:"opacity-60"})]})}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-xl font-bold leading-none",children:"SomaBox"}),s.jsx("div",{className:"text-[10px] opacity-70 font-medium",children:"Learning Portal"})]})]}),s.jsxs("div",{className:"max-w-md",children:[s.jsxs("h1",{className:"text-5xl font-bold leading-tight mb-6",children:["Bridging the gap in ",s.jsx("span",{className:"text-primary-light",children:"global education"})]}),s.jsx("p",{className:"text-lg opacity-80 mb-12",children:"Access quality education anytime, anywhere. Join thousands of students transforming their future through technology."}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["500+","Courses"],["10,000+","Students"],["100+","Schools"],["95%","Success Rate"]].map(([S,k])=>s.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10",children:[s.jsx("div",{className:"text-2xl font-bold",children:S}),s.jsx("div",{className:"text-sm opacity-70",children:k})]},k))})]}),s.jsx("div",{className:"italic text-sm opacity-60",children:'"Education is the most powerful weapon which you can use to change the world."  Nelson Mandela'})]})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-primary-surface overflow-y-auto",children:s.jsxs("div",{className:"max-w-md w-full py-8",children:[s.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Sign Up"}),s.jsx("p",{className:"text-gray-500",children:"Sign Up to the learning platform"})]}),s.jsxs("form",{onSubmit:N,className:"space-y-5",children:[y&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm font-bold border border-red-100 flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),y]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fullname"}),s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"Input your fullname",value:e,onChange:S=>t(S.target.value),type:"text",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"Enter your email",value:r,onChange:S=>n(S.target.value),type:"email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"Enter your password",value:o,onChange:S=>a(S.target.value),type:c?"text":"password",required:!0}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?s.jsx(sd,{size:20}):s.jsx(pi,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"Confirm your password",value:i,onChange:S=>l(S.target.value),type:u?"text":"password",required:!0}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?s.jsx(sd,{size:20}):s.jsx(pi,{size:20})})]})]}),s.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-3 rounded-xl font-bold hover:bg-primary-dark transition-all shadow-lg shadow-primary/20 disabled:opacity-70 mt-4",disabled:g,children:g?"Creating account...":"Sign Up"})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Already have an account? ",s.jsx(gn,{className:"text-primary font-bold hover:underline",to:"/signin",children:"Sign in Here"})]})]})})]})]})}function qj(){const[e,t]=w.useState(""),[r,n]=w.useState(!1),[o,a]=w.useState(null),[i,l]=w.useState(null),c=Qe();Ee();const d=async u=>{u.preventDefault(),n(!0),l(null),a(null);try{const f=await c.forgotPassword(e);a(f)}catch(f){l(f.message||"Failed to process request")}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-primary",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80&w=1000",alt:"Students studying",className:"absolute inset-0 w-full h-full object-cover opacity-100 mix-blend-overlay"}),s.jsxs("div",{className:"relative z-10 p-16 flex flex-col justify-between h-full text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-24",children:[s.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-8 h-8 fill-white",children:[s.jsx("path",{d:"M20 5 L35 12.5 L35 27.5 L20 35 L5 27.5 L5 12.5 Z",className:"opacity-20"}),s.jsx("path",{d:"M20 5 L35 12.5 L20 20 L5 12.5 Z"}),s.jsx("path",{d:"M5 15 L20 22.5 L35 15 L35 20 L20 27.5 L5 20 Z",className:"opacity-80"}),s.jsx("path",{d:"M5 22.5 L20 30 L35 22.5 L35 27.5 L20 35 L5 27.5 Z",className:"opacity-60"})]})}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-xl font-bold leading-none",children:"SomaBox"}),s.jsx("div",{className:"text-[10px] opacity-70 font-medium",children:"Learning Portal"})]})]}),s.jsxs("div",{className:"max-w-md",children:[s.jsxs("h1",{className:"text-5xl font-bold leading-tight mb-6",children:["Reset your ",s.jsx("span",{className:"text-primary-light",children:"password"})," easily"]}),s.jsx("p",{className:"text-lg opacity-80 mb-12",children:"Enter your email address and we'll help you get back into your account in no time."}),s.jsx("div",{className:"bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/10",children:s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-light/20 rounded-full flex items-center justify-center",children:s.jsx(hi,{className:"w-6 h-6 text-primary-light"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg",children:"Secure & Private"}),s.jsx("div",{className:"text-sm opacity-70",children:"Your information is always protected"})]})]})})]}),s.jsx("div",{className:"italic text-sm opacity-60",children:'"Education is the most powerful weapon which you can use to change the world."  Nelson Mandela'})]})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-primary-surface overflow-y-auto",children:s.jsxs("div",{className:"max-w-md w-full py-12",children:[s.jsxs(gn,{to:"/signin",className:"inline-flex items-center gap-2 text-gray-500 hover:text-primary mb-8 font-medium transition-colors",children:[s.jsx(dr,{size:20}),"Back to Sign In"]}),s.jsxs("div",{className:"mb-10",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:s.jsx(yu,{className:"w-8 h-8 text-primary"})}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Forgot Password?"}),s.jsx("p",{className:"text-gray-500",children:"No worries, we'll send you reset instructions."})]}),o?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:`p-6 rounded-xl border-2 ${o.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[o.success?s.jsx(hu,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(h2,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:`font-bold ${o.success?"text-green-800":"text-red-800"}`,children:o.success?"Password Reset Successful!":"Error"}),s.jsx("div",{className:"text-sm mt-1 text-gray-700",children:o.message}),o.newPassword&&s.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-green-300",children:[s.jsx("div",{className:"text-xs text-green-600 font-semibold uppercase mb-1",children:"New Password"}),s.jsx("div",{className:"font-mono text-lg font-bold text-green-800",children:o.newPassword})]})]})]})}),s.jsx(gn,{to:"/signin",className:"block w-full bg-primary text-white py-3 rounded-xl font-bold text-center hover:bg-primary-dark transition-all shadow-lg shadow-primary/20",children:"Back to Sign In"})]}):s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm font-bold border border-red-100 flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),i]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{className:"w-full bg-white/60 border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all font-medium",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value),type:"email",required:!0})]}),s.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-3 rounded-xl font-bold hover:bg-primary-dark transition-all shadow-lg shadow-primary/20 disabled:opacity-70",disabled:r,children:r?"Sending...":"Reset Password"})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600 font-medium",children:["Don't have an account? ",s.jsx(gn,{className:"text-primary font-bold hover:underline",to:"/signup",children:"Sign up Here"})]})]})})]})}const ax=({isOpen:e,onClose:t})=>{const{user:r,signOut:n}=Qe(),o=Ee(),a=()=>{n(),o("/signin")},i=(r==null?void 0:r.role)||"Student",c=(()=>{switch(i){case"Admin":return[{icon:Hl,label:"Dashboard",path:"/admin/dashboard"},{icon:I2,label:"Enrollment Dashboard",path:"/admin/enrollment"},{icon:Ij,label:"Add Facilitator",path:"/admin/add-facilitator"},{icon:rx,label:"Add Admin",path:"/admin/add-admin"},{icon:Vl,label:"Settings",path:"/settings"}];case"Facilitator":return[{icon:Hl,label:"Dashboard",path:"/facilitator/dashboard"},{icon:n2,label:"My Courses",path:"/facilitator/courses"},{icon:Qr,label:"Students",path:"/facilitator/students"},{icon:So,label:"Progress Tracking",path:"/facilitator/progress"},{icon:J2,label:"Messages",path:"/facilitator/messages"},{icon:Vl,label:"Settings",path:"/settings"}];default:return[{icon:Hl,label:"Dashboard",path:"/dashboard"},{icon:G2,label:"Library",path:"/library"},{icon:Ut,label:"Programs",path:"/programs"},{icon:ur,label:"Messages",path:"/messages"},{icon:Vl,label:"Settings",path:"/settings"}]}})();return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onClick:t}),s.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-primary-surface transition-transform duration-300 transform
        lg:translate-x-0 lg:static lg:inset-0
        ${e?"translate-x-0":"-translate-x-full"}
        flex flex-col border-r border-primary/10 py-8 px-4 h-screen
      `,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 40 40",className:"w-8 h-8 fill-primary",children:[s.jsx("path",{d:"M20 5 L35 12.5 L35 27.5 L20 35 L5 27.5 L5 12.5 Z",className:"opacity-20"}),s.jsx("path",{d:"M20 5 L35 12.5 L20 20 L5 12.5 Z"}),s.jsx("path",{d:"M5 15 L20 22.5 L35 15 L35 20 L20 27.5 L5 20 Z",className:"opacity-80"}),s.jsx("path",{d:"M5 22.5 L20 30 L35 22.5 L35 27.5 L20 35 L5 27.5 Z",className:"opacity-60"})]})}),s.jsx("span",{className:"text-xl font-bold text-primary",children:"SomaBox"})]}),s.jsx("button",{onClick:t,className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-primary-surface/60",children:s.jsx(En,{size:20})})]}),s.jsx("nav",{className:"flex-1 space-y-2",children:c.map(d=>s.jsxs(l1,{to:d.path,onClick:()=>t==null?void 0:t(),className:({isActive:u})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${u?"bg-primary text-white font-semibold shadow-sm":"text-gray-500 hover:bg-primary-surface/60"}`,children:[s.jsx(d.icon,{size:20}),s.jsx("span",{className:"truncate",children:d.label})]},d.path))}),s.jsxs("button",{onClick:a,className:"flex items-center gap-3 px-4 py-3 rounded-xl text-[#BC3C3C] hover:bg-red-50 transition-all mt-auto font-semibold",children:[s.jsx(Kg,{size:20}),s.jsx("span",{children:"Log Out"})]})]})]})};function ke(e,t){if(!e)return t;try{return JSON.parse(e)}catch(r){return console.warn("Failed to parse JSON data from storage:",r),t}}const ix=async()=>{try{const e=await be.get("/progress/student");return e.data&&e.data.length>0&&localStorage.setItem("soma_student_progress",JSON.stringify(e.data)),e.data||[]}catch{console.warn("API fetch failed, using localStorage fallback");const t=localStorage.getItem("soma_student_progress");return ke(t,[])}},Gj=async e=>{try{return(await be.get(`/progress/student/${e}`)).data||null}catch{console.warn("API fetch failed, using localStorage fallback");const r=localStorage.getItem("soma_student_progress");return r?ke(r,[]).filter(o=>o.studentId===e):null}},Yj=async e=>{try{return(await be.get(`/progress/student?student_id=${e}`)).data}catch(t){return console.error("API fetch failed, using fallback:",t),Gj(e)}},xi=async e=>await be.get(`/progress/course/${e}/topic`),Jj=async e=>await be.patch(`/progress/course/${e}/complete`),jp=async e=>{var t;try{return await be.post("/progress",e)}catch{console.warn("API save failed, using localStorage fallback");const n=localStorage.getItem("soma_student_progress");let o=ke(n,[]);const a=o.findIndex(i=>i.email===e.studentId);if(a>=0){const i=(t=o[a].courses)==null?void 0:t.findIndex(l=>l.courseId===e.courseId);i>=0&&(o[a].courses[i]={...o[a].courses[i],progress:e.progress_percentage,status:e.status,lastUpdated:new Date().toISOString()})}return localStorage.setItem("soma_student_progress",JSON.stringify(o)),{data:e}}},lx=async e=>{const t={id:`course_${Date.now()}`,...e,facilitators:[]};try{const r=await be.post("/courses",e),n=localStorage.getItem("soma_courses"),o=ke(n,[]);return o.push(t),localStorage.setItem("soma_courses",JSON.stringify(o)),r.data||t}catch{console.warn("API create failed, using localStorage fallback");const n=localStorage.getItem("soma_courses"),o=ke(n,[]);return o.push(t),localStorage.setItem("soma_courses",JSON.stringify(o)),t}},Xr=async()=>{try{const e=await be.get("/courses");return e.data&&e.data.length>0&&localStorage.setItem("soma_courses",JSON.stringify(e.data)),e.data}catch{console.warn("API fetch failed, using localStorage fallback");const t=localStorage.getItem("soma_courses");return ke(t,[])}},Qj=async e=>{try{return(await be.get(`/courses/${e}`)).data}catch{console.warn("API fetch failed, using localStorage fallback");const r=localStorage.getItem("soma_courses");if(r){const o=ke(r,[]).find(a=>a.id===e);if(o)return o}throw new Error("Course not found")}},Xj=async e=>{var t;try{const r=await be.delete(`/courses/${e}`);console.log("Course deleted from API:",r.data)}catch(r){console.error("API delete error:",((t=r.response)==null?void 0:t.data)||r.message),console.warn("API delete failed, using localStorage fallback");const n=localStorage.getItem("soma_courses");if(n){const a=ke(n,[]).filter(i=>i.id!==e);localStorage.setItem("soma_courses",JSON.stringify(a)),console.log("Course deleted from localStorage")}}},Kj=async e=>{try{return(await be.get(`/courses/${e}/students`)).data}catch{console.warn("API fetch failed, using localStorage fallback");const r=localStorage.getItem("soma_enrollments");return r?ke(r,[]).filter(o=>o.courseId===e):[]}},cx=async()=>{try{return(await be.get("/students")).data}catch{console.warn("API fetch failed, using localStorage fallback");const t=localStorage.getItem("soma_users");return t?ke(t,[]).filter(n=>n.role==="Student"):[]}},vu=async()=>{try{const e=await be.get("/courses/my-courses");return!e.data||e.data.length===0?await Xr():e.data}catch(e){return console.error("Error fetching my courses, falling back to all courses:",e),await Xr()}},Zj=async e=>{try{return(await be.get(`/courses/level?level=${e}`)).data}catch(t){return console.error("Error fetching courses by level:",t),[]}},eN=async e=>{try{return(await be.get(`/courses/serch_course?query=${encodeURIComponent(e)}`)).data}catch(t){return console.error("Error searching courses:",t),[]}};function tN(){const{user:e}=Qe(),t=Ee(),[r,n]=w.useState(!1),[o,a]=w.useState(()=>{var v;try{const p=localStorage.getItem("soma_profile");if(p)return JSON.parse(p)}catch(p){console.error("Failed to parse profile:",p)}return{name:((v=e==null?void 0:e.email)==null?void 0:v.split("@")[0])||"User",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150",grade:"S2"}});w.useEffect(()=>{const v=()=>{try{const p=localStorage.getItem("soma_profile");p&&a(JSON.parse(p))}catch(p){console.error("Failed to parse profile update:",p)}};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)},[]);const[i,l]=w.useState({email:(e==null?void 0:e.email)||"",courses:[],loading:!0,error:null});w.useEffect(()=>{e&&(async()=>{try{const p=e==null?void 0:e.id;if(!p)throw new Error("No student ID found");const[h,m]=await Promise.all([Yj(p),Xr()]),j=h.map(N=>{const S=m.find(k=>k.id===N.courseId);return{courseId:N.courseId,courseName:(S==null?void 0:S.title)||`Course ${N.courseId.substring(0,4)}`,courseImage:(S==null?void 0:S.coverPage)||"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?auto=format&fit=crop&q=80&w=400",progress:N.progress_percentage,status:N.status,lastUpdated:new Date().toISOString()}});l(N=>({...N,courses:j,loading:!1,error:null}))}catch(p){console.error("Failed to fetch progress:",p),l(h=>({...h,loading:!1,error:"Failed to load progress data"}))}})()},[e]);const c=i.courses.filter(v=>v.status==="completed").length,d=i.courses.filter(v=>v.status==="pending").length,u=i.courses.filter(v=>v.status==="in-progress").length,f=i.courses.length,g=f>0?Math.round(i.courses.reduce((v,p)=>v+p.progress,0)/f):0,x=[{id:1,name:"Emma Kent",msg:"Hey...!",time:"12:00 AM",online:!0,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&q=80&w=100"},{id:2,name:"Gren Harry",msg:"Hey...!",time:"12:00 AM",online:!0,avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&q=80&w=100"},{id:3,name:"Sarah Lex",msg:"Hey...!",time:"12:00 AM",online:!1,avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100"},{id:4,name:"Hella Anna",msg:"Hey...!",time:"12:00 AM",online:!1,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&q=80&w=100"},{id:5,name:"Hart Kevin",msg:"Hey...!",time:"12:00 AM",online:!1,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=100"},{id:6,name:"Ava Gary",msg:"Hey...!",time:"12:00 AM",online:!1,avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&q=80&w=100"}],y=i.courses.filter(v=>v.status==="in-progress"||v.status==="completed"||v.status==="pending").slice(0,4).map(v=>({id:v.courseId,title:v.courseName,progress:v.progress,image:v.courseImage||"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?auto=format&fit=crop&q=80&w=400"})),b=i.courses.slice(0,3).map(v=>({subject:v.courseName,chapter:v.status==="completed"?"Completed":v.status==="in-progress"?"In Progress":"Not Started",progress:v.progress}));return s.jsxs("div",{className:"flex min-h-screen bg-primary-surface",children:[s.jsx(ax,{isOpen:r,onClose:()=>n(!1)}),s.jsxs("main",{className:"flex-1 overflow-y-auto max-h-screen w-full flex flex-col",children:[s.jsxs("header",{className:"flex items-center justify-between px-4 md:px-8 py-4 bg-primary text-white shadow-lg relative z-20",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(!0),className:"lg:hidden p-2 text-white/80 hover:bg-white/10 rounded-xl transition-colors",children:s.jsx(Zg,{size:24})}),s.jsx("h1",{className:"text-xl md:text-2xl font-black text-white truncate px-2",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[s.jsx("button",{className:"relative p-2 text-white/70 hover:text-white transition-colors",children:s.jsx(pu,{size:24})}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 pl-2 md:pl-6 border-l border-white/20 lg:border-none",children:[s.jsx("img",{src:o.avatar,alt:"Profile",className:"w-8 h-8 md:w-11 md:h-11 rounded-full object-cover border-2 border-white/30 shadow-sm cursor-pointer",onClick:()=>t("/settings")}),s.jsxs("div",{className:"hidden sm:block text-left",children:[s.jsx("div",{className:"text-xs md:text-sm font-bold text-white leading-none mb-1",children:o.name}),s.jsx("div",{className:"text-[10px] md:text-xs text-white/70 font-black text-left uppercase tracking-widest",children:(e==null?void 0:e.role)||"Student"})]})]})]})]}),s.jsx("div",{className:"flex-1 p-4 md:p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",children:[s.jsxs("div",{className:"bg-white/30 backdrop-blur-xl rounded-[2rem] md:rounded-[3rem] p-6 md:p-10 border border-primary/10 shadow-sm relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-3xl group-hover:bg-primary/10 transition-colors"}),s.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-6 md:mb-8 flex items-center gap-2",children:[s.jsx(ui,{size:20,className:"text-primary"})," Insights"]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12 relative z-10",children:[s.jsxs("div",{className:"relative w-32 h-32 md:w-48 md:h-48 flex-shrink-0",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[s.jsx("circle",{cx:"50%",cy:"50%",r:"42%",stroke:"rgba(var(--primary-rgb), 0.05)",strokeWidth:"12",fill:"transparent"}),s.jsx("circle",{cx:"50%",cy:"50%",r:"42%",stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-primary",strokeDasharray:"264%",strokeDashoffset:`${264*(1-g/100)}%`,strokeLinecap:"round"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-2xl md:text-4xl font-black text-primary",children:[g,"%"]}),s.jsx("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 gap-1 uppercase tracking-wider",children:"Complete"})]})]}),s.jsx("div",{className:"flex-1 w-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Completed",value:c,total:f,color:"bg-primary/10 text-primary",icon:mi},{label:"Pending",value:d,total:f,color:"bg-orange-500/10 text-orange-600",icon:j2},{label:"In Progress",value:u,total:f,color:"bg-blue-500/10 text-blue-600",icon:ui}].map((v,p)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/20 rounded-2xl border border-white/40",children:[s.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 ${v.color} rounded-xl flex items-center justify-center flex-shrink-0`,children:s.jsx(v.icon,{size:18,className:"md:w-5 md:h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase",children:v.label}),s.jsxs("div",{className:"text-base md:text-lg font-black text-gray-800",children:[v.value," ",v.total>0&&`/ ${v.total}`]})]})]},p))})]})]}),s.jsxs("div",{className:"bg-white/30 backdrop-blur-xl rounded-[2rem] md:rounded-[3rem] p-6 md:p-10 border border-primary/10 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"My Programs"}),s.jsx("button",{onClick:()=>{const v=o.grade||"S2";let p=["rwandan","secondary",v];v.startsWith("P")&&(p=["rwandan","primary",v]),v.startsWith("Year")&&(p=["rwandan","university",v]),t("/programs",{state:{initialPath:p}})},className:"text-primary text-xs font-bold hover:underline",children:"View Library"})]}),y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"No courses yet"}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Enroll in a grade to start learning"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 md:gap-8",children:y.map(v=>s.jsxs("div",{className:"space-y-4 group cursor-pointer",children:[s.jsxs("div",{className:"relative aspect-[16/9] rounded-2xl md:rounded-[2rem] overflow-hidden shadow-sm group-hover:shadow-xl transition-all duration-500",children:[s.jsx("img",{src:v.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:v.title}),s.jsx("div",{className:"absolute inset-0 bg-primary/20 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsxs("div",{className:"px-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-800 text-sm md:text-base truncate",children:v.title}),s.jsxs("span",{className:"text-[10px] font-black text-primary",children:[v.progress,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-primary/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${v.progress}%`}})})]})]},v.id))})]})]}),s.jsxs("div",{className:"space-y-6 md:space-y-8",children:[s.jsxs("div",{className:"bg-white/30 backdrop-blur-xl rounded-[2rem] md:rounded-[3rem] p-6 md:p-8 border border-primary/10 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:"Messages"}),s.jsx("button",{onClick:()=>t("/messages"),className:"text-primary text-xs font-bold hover:underline",children:"View Inbox"})]}),s.jsx("div",{className:"space-y-3",children:x.map(v=>s.jsxs("div",{onClick:()=>t("/messages"),className:"flex items-center gap-3 p-3 rounded-2xl hover:bg-white/40 transition-all cursor-pointer border border-transparent hover:border-primary/10 group",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:v.avatar,className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover border-2 border-white/50",alt:v.name}),v.online&&s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 md:w-2.5 md:h-2.5 bg-primary border-2 border-white rounded-full"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 group-hover:text-primary transition-colors truncate",children:v.name}),s.jsx("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400",children:v.time})]}),s.jsx("p",{className:"text-[10px] md:text-[11px] text-gray-500 truncate text-left",children:v.msg})]})]},v.id))})]}),s.jsxs("div",{className:"bg-white/30 backdrop-blur-xl rounded-[2rem] md:rounded-[3rem] p-6 md:p-8 border border-primary/10 shadow-sm",children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 mb-6",children:"Performance"}),b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"No performance data yet"}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Start learning to track your progress"})]}):s.jsx("div",{className:"space-y-4",children:b.map((v,p)=>s.jsxs("div",{className:"p-4 bg-primary-surface/40 rounded-[1.5rem] border border-primary/5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs md:text-sm font-bold text-gray-800 leading-none",children:v.subject}),s.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-400 font-bold uppercase mt-1 tracking-tight",children:v.chapter})]}),s.jsxs("span",{className:"text-[10px] font-black text-primary bg-primary/10 px-2 py-0.5 rounded-md",children:[v.progress,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-primary/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-1000",style:{width:`${v.progress}%`}})})]},p))})]})]})]})})]})]})}function zn({title:e,children:t}){const[r,n]=V.useState(!1),{user:o,signOut:a}=Qe(),i=Ee(),[l,c]=V.useState(()=>{const u=localStorage.getItem("soma_profile");return u?JSON.parse(u):{name:(o==null?void 0:o.email.split("@")[0])||"User",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150"}});V.useEffect(()=>{const u=()=>{const f=localStorage.getItem("soma_profile");f&&c(JSON.parse(f))};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[]);const d=()=>{a(),i("/signin")};return s.jsxs("div",{className:"flex min-h-screen bg-primary-surface/30",children:[s.jsx(ax,{isOpen:r,onClose:()=>n(!1)}),s.jsxs("main",{className:"flex-1 overflow-y-auto max-h-screen w-full flex flex-col",children:[s.jsxs("header",{className:"flex items-center justify-between px-4 md:px-8 py-4 bg-primary text-white shadow-lg relative z-20",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(!0),className:"lg:hidden p-2 text-white/80 hover:bg-white/10 rounded-xl transition-colors",children:s.jsx(Zg,{size:24})}),s.jsx("h1",{className:"text-xl md:text-2xl font-black text-white truncate px-2",children:e})]}),s.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-white/70",children:[s.jsx("button",{className:"hover:text-white transition-colors p-1",children:s.jsx(pu,{size:22})}),s.jsx("button",{className:"hover:text-white transition-colors p-1",children:s.jsx(yu,{size:22})})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 pl-2 md:pl-6 border-l border-white/20 cursor-pointer",onClick:()=>i("/settings"),children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsx("div",{className:"text-xs md:text-sm font-bold text-white leading-none",children:l.name}),s.jsx("div",{className:"text-[10px] text-white/70 font-black uppercase mt-1 tracking-widest",children:o==null?void 0:o.role})]}),s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-white/30 shadow-sm overflow-hidden flex items-center justify-center bg-white/10",children:s.jsx("img",{src:l.avatar,className:"w-full h-full object-cover",alt:"Profile"})})]}),s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-primary-surface rounded-2xl shadow-xl border border-primary/10 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[s.jsxs("button",{onClick:()=>i("/settings"),className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(gi,{size:16})," Profile Settings"]}),s.jsx("div",{className:"h-px bg-gray-100 my-2"}),s.jsxs("button",{onClick:d,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 font-semibold",children:[s.jsx(Kg,{size:16})," Log Out"]})]})]})]})]}),s.jsx("div",{className:"p-4 md:p-8",children:s.jsx("div",{className:"bg-white/40 backdrop-blur-md rounded-[2rem] md:rounded-[3rem] shadow-sm border border-primary/10 min-h-[calc(100vh-10rem)] p-6 md:p-10",children:t})})]})]})}const rN=({segments:e})=>{const t=e.reduce((c,d)=>c+d.value,0);if(t===0)return s.jsx("p",{className:"text-center text-gray-300 text-sm py-6 italic",children:"No users yet"});const r=52,n=64,o=64,a=2*Math.PI*r;let i=0;const l=e.map(c=>{const d=c.value/t*a,u={...c,dash:d,offset:-i*a/t};return i+=c.value/t,u});return s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("svg",{width:128,height:128,viewBox:"0 0 128 128",className:"flex-shrink-0",children:[l.map((c,d)=>s.jsx("circle",{cx:n,cy:o,r,fill:"none",stroke:c.color,strokeWidth:22,strokeDasharray:`${c.dash} ${a}`,strokeDashoffset:c.offset-a/4,style:{transition:"stroke-dasharray 0.7s ease"}},d)),s.jsx("circle",{cx:n,cy:o,r:40,fill:"white"}),s.jsx("text",{x:"64",y:"60",textAnchor:"middle",fontSize:"18",fontWeight:"900",fill:"#111827",children:t}),s.jsx("text",{x:"64",y:"76",textAnchor:"middle",fontSize:"9",fill:"#9CA3AF",children:"total users"})]}),s.jsx("div",{className:"space-y-2.5 flex-1",children:e.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{background:c.color}}),s.jsx("span",{className:"text-sm text-gray-600",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full",style:{width:`${t>0?c.value/t*100:0}%`,background:c.color}})}),s.jsx("span",{className:"text-sm font-black text-gray-900 w-4 text-right",children:c.value})]})]},d))})]})},ql=({bars:e})=>{const t=Math.max(...e.map(r=>r.value),1);return s.jsx("div",{className:"space-y-3",children:e.map((r,n)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"font-semibold text-gray-600 truncate max-w-[140px]",children:r.label}),s.jsx("span",{className:"font-black text-gray-900",children:r.value})]}),s.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${r.value/t*100}%`,background:r.color}})})]},n))})},Gl=()=>{const{user:e,registerUser:t}=Qe(),r=vr(),n=Ee(),[o,a]=w.useState("stats"),[i,l]=w.useState(null),[c,d]=w.useState(null),[u,f]=w.useState(()=>{var O,E;const T=localStorage.getItem("soma_profile");return T?ke(T,{name:((O=e==null?void 0:e.email)==null?void 0:O.split("@")[0])||"Admin",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150"}):{name:((E=e==null?void 0:e.email)==null?void 0:E.split("@")[0])||"Admin",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150"}}),[g,x]=w.useState({students:0,facilitators:0,admins:0}),[y,b]=w.useState([]),[v,p]=w.useState([]),[h,m]=w.useState([]);w.useEffect(()=>{r.pathname==="/admin/add-facilitator"?a("addFacilitator"):r.pathname==="/admin/add-admin"?a("addAdmin"):o!=="userList"&&a("stats")},[r]),w.useEffect(()=>{const T=localStorage.getItem("soma_users");if(T){const D=ke(T,[]);b(D),x({students:D.filter(R=>R.role==="Student").length,facilitators:D.filter(R=>R.role==="Facilitator").length,admins:D.filter(R=>R.role==="Admin").length})}const O=localStorage.getItem("soma_enrollments");O&&m(ke(O,[])),Xr().then(p).catch(()=>{});const E=()=>{const D=localStorage.getItem("soma_profile");D&&f(ke(D,u))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[o]);const j=g.students+g.facilitators+g.admins,N=[{label:"Total Students",value:g.students.toLocaleString(),icon:Qr,color:"bg-blue-50 text-blue-600",role:"Student"},{label:"Facilitators",value:g.facilitators.toLocaleString(),icon:ui,color:"bg-green-50 text-green-600",role:"Facilitator"},{label:"System Admins",value:g.admins.toLocaleString(),icon:rx,color:"bg-purple-50 text-purple-600",role:"Admin"},{label:"Active Sessions",value:"0",icon:hu,color:"bg-orange-50 text-orange-600",role:null}],S=[{label:"Students",value:g.students,color:"#3b82f6"},{label:"Facilitators",value:g.facilitators,color:"#22c55e"},{label:"Admins",value:g.admins,color:"#a855f7"}],k={};h.forEach(T=>{var D;const O=((D=T.courseId)==null?void 0:D.split("-")[0])||"",E=O.match(/^[PS]\d+$|^Year \d+$/i)?O:"Other";k[E]=(k[E]||0)+1});const C=Object.entries(k).sort((T,O)=>O[1]-T[1]).slice(0,6).map(([T,O],E)=>({label:T,value:O,color:["#3b82f6","#22c55e","#a855f7","#f97316","#ec4899","#14b8a6"][E%6]})),_={};y.filter(T=>T.role==="Student"&&T.grade).forEach(T=>{_[T.grade]=(_[T.grade]||0)+1});const M=Object.entries(_).sort((T,O)=>O[1]-T[1]).slice(0,6).map(([T,O],E)=>({label:T,value:O,color:["#22c55e","#3b82f6","#f97316","#a855f7","#ec4899","#14b8a6"][E%6]})),I={};h.forEach(T=>{I[T.courseId]=(I[T.courseId]||0)+1});const B=Object.entries(I).sort((T,O)=>O[1]-T[1]).slice(0,5).map(([T,O],E)=>{const D=v.find(R=>R.id===T);return{label:(D==null?void 0:D.title)||T.split("-").pop()||"Unknown",value:O,color:["#3b82f6","#22c55e","#a855f7","#f97316","#ec4899"][E%5]}}),G=({role:T})=>{const[O,E]=w.useState(""),[D,R]=w.useState(""),[J,P]=w.useState(""),[$,Q]=w.useState(!1),[A,F]=w.useState(null),re=async ne=>{var K,ee;ne.preventDefault(),Q(!0),F(null);try{await t(O,D,J,T),F({type:"success",text:`${T} account created successfully!`}),setTimeout(()=>{const Re=localStorage.getItem("soma_users");if(Re){const ye=JSON.parse(Re);b(ye),x({students:ye.filter(Be=>Be.role==="Student").length,facilitators:ye.filter(Be=>Be.role==="Facilitator").length,admins:ye.filter(Be=>Be.role==="Admin").length})}n("/admin/dashboard")},1500)}catch(Re){const ye=((ee=(K=Re.response)==null?void 0:K.data)==null?void 0:ee.message)||Re.message||"Failed to create account";F({type:"error",text:ye})}finally{Q(!1)}};return s.jsxs("div",{className:"max-w-xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Add New ",T]}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Create a new ",T.toLowerCase()," account with full access."]})]}),s.jsxs("form",{onSubmit:re,className:"space-y-6",children:[A&&s.jsxs("div",{className:`p-4 rounded-xl text-sm font-bold border flex items-center gap-2 ${A.type==="success"?"bg-green-50 text-green-600 border-green-100":"bg-red-50 text-red-600 border-red-100"}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${A.type==="success"?"bg-green-600":"bg-red-600"}`}),A.text]}),s.jsxs("div",{className:"space-y-2 text-left",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Full Name"}),s.jsx("input",{className:"w-full px-4 py-3 bg-white/40 border border-primary/10 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0,placeholder:"Enter full name",value:O,onChange:ne=>E(ne.target.value)})]}),s.jsxs("div",{className:"space-y-2 text-left",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Email Address"}),s.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-white/40 border border-primary/10 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0,placeholder:"Enter email address",value:D,onChange:ne=>R(ne.target.value)})]}),s.jsxs("div",{className:"space-y-2 text-left",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Initial Password"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-white/40 border border-primary/10 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0,placeholder:"Create temporary password",value:J,onChange:ne=>P(ne.target.value)})]}),s.jsx("button",{type:"submit",disabled:$,className:"w-full py-4 bg-primary text-white rounded-2xl font-bold hover:bg-primary-dark transition-all shadow-lg active:scale-95 disabled:opacity-50",children:$?"Creating...":`Create ${T} Account`})]})]})},Y=({role:T})=>{const O=T?y.filter(E=>E.role===T):y;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[T?`${T}s`:"All Users"," (",O.length,")"]}),s.jsx("button",{onClick:()=>a("stats"),className:"text-primary font-bold text-sm hover:underline",children:"Back to Overview"})]}),s.jsx("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary/5",children:[s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider hidden md:table-cell",children:"Grade"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider text-right",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-primary/5",children:O.length>0?O.map((E,D)=>s.jsxs("tr",{onClick:()=>d(E),className:"hover:bg-primary/5 transition-colors cursor-pointer",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:E.email}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded-lg text-[10px] font-bold uppercase tracking-tight",children:E.role})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 hidden md:table-cell",children:E.grade||""}),s.jsxs("td",{className:"px-6 py-4 text-right",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 inline-block mr-2"}),s.jsx("span",{className:"text-[11px] font-bold text-gray-400 uppercase",children:"Active"})]})]},D)):s.jsx("tr",{children:s.jsxs("td",{colSpan:4,className:"px-6 py-20 text-center text-gray-400 font-bold italic",children:["No ",(T==null?void 0:T.toLowerCase())||"users"," found (0)"]})})})]})})]})},oe=({user:T,onClose:O})=>{var E;return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Details"}),s.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-3xl font-bold text-primary",children:((E=T.email)==null?void 0:E.charAt(0).toUpperCase())||"U"})})}),s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Email"}),s.jsx("p",{className:"text-gray-900 font-medium",children:T.email})]}),s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Role"}),s.jsx("p",{className:"text-gray-900 font-medium",children:T.role})]}),T.name&&s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Name"}),s.jsx("p",{className:"text-gray-900 font-medium",children:T.name})]}),T.grade&&s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[s.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Grade"}),s.jsx("p",{className:"text-gray-900 font-medium",children:T.grade})]}),s.jsxs("div",{className:"bg-green-50 rounded-2xl p-4",children:[s.jsx("label",{className:"text-xs font-bold text-green-600 uppercase tracking-wider",children:"Status"}),s.jsx("p",{className:"text-green-700 font-medium",children:"Active"})]})]}),s.jsx("button",{onClick:O,className:"w-full mt-6 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-dark transition-all",children:"Close"})]})})};return s.jsx(zn,{title:"Admin Dashboard",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex gap-4 border-b border-gray-100 pb-2",children:[s.jsx("button",{onClick:()=>n("/admin/dashboard"),className:`pb-2 px-4 text-sm font-bold transition-all ${o==="stats"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-600"}`,children:"Overview"}),s.jsx("button",{onClick:()=>n("/admin/add-facilitator"),className:`pb-2 px-4 text-sm font-bold transition-all ${o==="addFacilitator"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-600"}`,children:"Add Facilitator"}),s.jsx("button",{onClick:()=>{a("userList"),l("Facilitator")},className:`pb-2 px-4 text-sm font-bold transition-all ${o==="userList"&&i==="Facilitator"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-600"}`,children:"View Facilitators"}),s.jsx("button",{onClick:()=>n("/admin/add-admin"),className:`pb-2 px-4 text-sm font-bold transition-all ${o==="addAdmin"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-gray-600"}`,children:"Add Admin"})]}),o==="stats"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((T,O)=>s.jsxs("div",{onClick:()=>{T.role&&(a("userList"),l(T.role))},className:"relative p-6 bg-primary-surface/40 rounded-[2rem] border border-primary/10 hover:shadow-md transition-all cursor-pointer group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/60 to-transparent pointer-events-none rounded-[2rem]"}),s.jsx("div",{className:`w-12 h-12 ${T.color} rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(T.icon,{size:24})}),s.jsx("div",{className:"text-sm font-bold text-gray-400",children:T.label}),s.jsx("div",{className:"text-3xl font-black text-gray-900 mt-1",children:T.value}),T.role&&s.jsx("div",{className:"text-[10px] font-bold text-primary/60 mt-2 uppercase tracking-wide",children:"Click to view "})]},O))}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Courses",value:v.length,icon:Ut,color:"text-indigo-600 bg-indigo-50"},{label:"Total Enrollments",value:h.length,icon:So,color:"text-teal-600 bg-teal-50"},{label:"Total Users",value:j,icon:Qr,color:"text-pink-600 bg-pink-50"},{label:"Grades Covered",value:Object.keys(_).length,icon:ui,color:"text-amber-600 bg-amber-50"}].map((T,O)=>s.jsxs("div",{className:"p-4 bg-white/60 backdrop-blur-md border border-primary/10 rounded-2xl flex items-center gap-3",children:[s.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ${T.color}`,children:s.jsx(T.icon,{size:18})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-black text-gray-900",children:T.value}),s.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:T.label})]})]},O))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"User Distribution"}),s.jsx("p",{className:"text-xs text-gray-400 mb-5",children:"Breakdown of all registered accounts"}),s.jsx(rN,{segments:S})]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Students by Grade"}),s.jsx("p",{className:"text-xs text-gray-400 mb-5",children:"Number of students in each grade"}),M.length>0?s.jsx(ql,{bars:M}):s.jsx("p",{className:"text-gray-300 text-sm italic text-center py-6",children:"No grade data yet  students without a grade set won't appear here."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.length>0&&s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Enrollments by Level"}),s.jsx("p",{className:"text-xs text-gray-400 mb-5",children:"Enrollment records grouped by grade level"}),s.jsx(ql,{bars:C})]}),B.length>0&&s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Top Courses"}),s.jsx("p",{className:"text-xs text-gray-400 mb-5",children:"Courses with the highest number of enrollments"}),s.jsx(ql,{bars:B})]})]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary/5",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Users"}),s.jsx("button",{onClick:()=>{a("userList"),l(null)},className:"text-primary text-sm font-bold hover:underline",children:"View all"})]}),s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary/5",children:[s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-primary uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-primary uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-primary uppercase tracking-wider hidden md:table-cell",children:"Grade"}),s.jsx("th",{className:"px-6 py-3 text-xs font-bold text-primary uppercase tracking-wider text-right",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-primary/5",children:y.slice(0,5).length>0?y.slice(0,5).map((T,O)=>s.jsxs("tr",{onClick:()=>d(T),className:"hover:bg-primary/5 transition-colors cursor-pointer",children:[s.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:T.email}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary rounded-lg text-[10px] font-bold uppercase",children:T.role})}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-500 hidden md:table-cell",children:T.grade||""}),s.jsxs("td",{className:"px-6 py-3 text-right",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 inline-block mr-1.5"}),s.jsx("span",{className:"text-[11px] font-bold text-gray-400 uppercase",children:"Active"})]})]},O)):s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-10 text-center text-gray-400 italic text-sm",children:"No users registered yet"})})})]})]})]}),o==="userList"&&s.jsx(Y,{role:i}),(o==="addFacilitator"||o==="addAdmin")&&s.jsx(G,{role:o==="addFacilitator"?"Facilitator":"Admin"}),c&&s.jsx(oe,{user:c,onClose:()=>d(null)})]})})},nN=()=>{const{user:e}=Qe(),[t,r]=w.useState(""),[n,o]=w.useState(null),[a,i]=w.useState([]),[l,c]=w.useState([]),[d,u]=w.useState(!0),[f,g]=w.useState(null);w.useEffect(()=>{(async()=>{try{u(!0);const h=await Xr();c(h),g(null)}catch(h){console.error("Failed to fetch courses:",h),g("Failed to load courses")}finally{u(!1)}})()},[]);const x=V.useMemo(()=>{const p=new Map;return l.forEach(h=>{const m=h.author||"Unknown School",j=p.get(m);j?(j.students+=h.students||0,j.courses+=1):p.set(m,{id:`s_${m}`,name:m,students:h.students||0,courses:1})}),Array.from(p.values())},[l]),y={"s_Unknown School":[{id:"st1",name:"John Doe",email:"john@example.com",date:"2024-01-15"},{id:"st2",name:"Jane Smith",email:"jane@example.com",date:"2024-01-16"},{id:"st6",name:"Alex Chen",email:"alex@example.com",date:"2024-01-20"}]},b=x.filter(p=>p.name.toLowerCase().includes(t.toLowerCase())),v=p=>{i(h=>h.includes(p)?h.filter(m=>m!==p):[...h,p])};return s.jsx(zn,{title:"Enrollment Dashboard",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Fo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search schools...",value:t,onChange:p=>r(p.target.value),className:"w-full bg-white/40 backdrop-blur-md border border-primary/10 rounded-xl pl-12 pr-4 py-3 outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:[s.jsxs("div",{className:"p-6 bg-primary/5 border-b border-primary/10",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"All Schools"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[x.length," schools with ",x.reduce((p,h)=>p+h.students,0)," total students"]})]}),s.jsx("div",{className:"divide-y divide-primary/5",children:d?s.jsxs("div",{className:"p-8 flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"Loading schools..."})]}):f?s.jsx("div",{className:"p-8 text-center text-red-500",children:f}):b.length>0?b.map(p=>{var h;return s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>{o(p.id),a.includes(p.id)||v(p.id)},className:`w-full p-6 flex items-center justify-between hover:bg-primary/5 transition-all ${n===p.id?"bg-primary/5":""}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-green-50 text-green-600",children:s.jsx(wp,{size:20})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:p.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[p.students," students - ",p.courses," courses"]})]})]}),s.jsx(c2,{size:20,className:`text-gray-400 transition-transform ${a.includes(p.id)?"rotate-180":""}`})]}),a.includes(p.id)&&n===p.id&&s.jsxs("div",{className:"bg-primary/5 px-6 py-4 border-t border-primary/10",children:[s.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"Students in School"}),s.jsxs("div",{className:"space-y-2",children:[(y[p.id]||[]).map(m=>s.jsxs("div",{className:"flex items-center justify-between bg-white/60 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-xs font-bold",children:m.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.name}),s.jsx("p",{className:"text-xs text-gray-500",children:m.email})]})]}),s.jsx("span",{className:"text-xs text-gray-400",children:m.date})]},m.id)),((h=y[p.id]||[])==null?void 0:h.length)===0&&s.jsx("p",{className:"text-sm text-gray-400 italic",children:"No students found"})]})]})]},p.id)}):s.jsx("div",{className:"p-8 text-center text-gray-400",children:"No schools found"})})]}),s.jsx("div",{className:"space-y-6",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Details"}),(()=>{const p=b.find(h=>h.id===n);return p?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-green-50 text-green-600",children:s.jsx(wp,{size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:p.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[p.courses," courses"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-primary/10",children:[s.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-xl",children:[s.jsx("p",{className:"text-2xl font-black text-primary",children:p.students}),s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Students"})]}),s.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-xl",children:[s.jsx("p",{className:"text-2xl font-black text-primary",children:p.courses}),s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Courses"})]})]})]}):null})()]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),s.jsx("span",{className:"font-bold text-green-600",children:"85%"})]}),s.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"85%"}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Course Completion"}),s.jsx("span",{className:"font-bold text-primary",children:"72%"})]}),s.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:"72%"}})})]})]})]}):s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(L2,{size:32,className:"text-primary"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Select a School"}),s.jsx("p",{className:"text-gray-500",children:"Choose a school from the list to view details and enrolled students"})]})})]})]})})},fa=({label:e,value:t,max:r,displayValue:n,color:o})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:e}),s.jsx("span",{className:`font-bold ${o}`,children:n})]}),s.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${o.replace("text-","bg-")}`,style:{width:`${r>0?Math.min(t/r*100,100):0}%`}})})]}),Np=()=>{const{user:e}=Qe(),t=vr(),r=Ee(),n=t.pathname==="/facilitator/courses",[o,a]=w.useState("stats"),[i,l]=w.useState(null),[c,d]=w.useState(0),[u,f]=w.useState([]),[g,x]=w.useState(null),[y,b]=w.useState(""),[v,p]=w.useState([]),[h,m]=w.useState(!0),[j,N]=w.useState([]);w.useEffect(()=>{const P=async()=>{try{m(!0);const $=await vu();p($)}catch($){console.error("Failed to fetch courses:",$),p([])}finally{m(!1)}};e!=null&&e.email?P():m(!1)},[e,t.pathname]),w.useEffect(()=>{const P=async()=>{try{const A=await cx();if(A&&A.length>0)d(A.length);else{const F=localStorage.getItem("soma_users");if(F){const re=ke(F,[]);d(re.filter(ne=>ne.role==="Student").length)}}}catch(A){console.error("Failed to load students from API:",A);const F=localStorage.getItem("soma_users");if(F){const re=ke(F,[]);d(re.filter(ne=>ne.role==="Student").length)}}},$=async()=>{try{const A=await ix();A&&N(A)}catch(A){console.error("Failed to load progress:",A)}};P(),$();const Q=localStorage.getItem("soma_course_comments");Q&&f(ke(Q,[]))},[]),w.useEffect(()=>{localStorage.setItem("soma_course_comments",JSON.stringify(u))},[u]);const S=V.useMemo(()=>{if(j.length===0)return 0;let P=0,$=0;return j.forEach(Q=>{Q.courses&&Q.courses.forEach(A=>{P+=A.progress||0,$++})}),$>0?Math.round(P/$):0},[j]),k=V.useMemo(()=>j.length===0?[]:j.map(P=>{var A;const $=P.courses||[],Q=$.length>0?Math.round($.reduce((F,re)=>F+(re.progress||0),0)/$.length):0;return{name:P.studentName||((A=P.studentId)==null?void 0:A.split("_")[0])||"Student",progress:Q,courseCount:$.length}}).filter(P=>P.courseCount>0).sort((P,$)=>$.progress-P.progress).slice(0,5),[j]),C=V.useMemo(()=>{const P=localStorage.getItem("soma_enrollments");if(!P)return v.reduce((A,F)=>A+(F.students||0),0);const $=ke(P,[]),Q=new Set(v.map(A=>A.id));return $.filter(A=>Q.has(A.courseId)).length},[v]),_=u.length,M=c>0?Math.min(Math.round(C/c*100),100):0,I=[{label:"Total Courses",value:v.length.toString(),icon:Ut,color:"bg-primary-surface text-primary"},{label:"Total Students",value:c.toLocaleString(),icon:Qr,color:"bg-green-50 text-green-600"},{label:"Active Enrollments",value:C.toString(),icon:So,color:"bg-purple-50 text-purple-600"},{label:"Completion Rate",value:`${S}%`,icon:_2,color:"bg-orange-50 text-orange-600"}],B=[{id:1,sender:"John Doe",subject:"Course Enrollment",preview:"I would like to enroll in...",time:"2 hours ago",unread:!0},{id:2,sender:"Jane Smith",subject:"Quiz Question",preview:"Can you clarify the answer...",time:"5 hours ago",unread:!1},{id:3,sender:"Mike Johnson",subject:"Module Completion",preview:"I have completed the module...",time:"1 day ago",unread:!1}],G=v.map(P=>{var $;return{id:P.id,title:P.title,students:(($=P.students)==null?void 0:$.toString())||"0",studentsNum:P.students||0,progress:0,image:P.coverPage||"https://images.unsplash.com/photo-1633356122544-f134324a6cee?auto=format&fit=crop&q=80&w=400"}}),Y=Math.max(...G.map(P=>P.studentsNum),1),oe=()=>{const P=localStorage.getItem("soma_users"),Q=(P?JSON.parse(P):[]).filter(A=>A.role==="Student");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Enrolled Students (",Q.length,")"]}),s.jsx("button",{onClick:()=>a("stats"),className:"text-primary font-bold text-sm hover:underline",children:"Back to Overview"})]}),s.jsx("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary/5",children:[s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider hidden md:table-cell",children:"Grade"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider text-right",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-primary/5",children:Q.length>0?Q.map((A,F)=>s.jsxs("tr",{className:"hover:bg-primary/5 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:A.email}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 hidden md:table-cell",children:A.grade||""}),s.jsxs("td",{className:"px-6 py-4 text-right",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 inline-block mr-2"}),s.jsx("span",{className:"text-[11px] font-bold text-gray-400 uppercase",children:"Active"})]})]},F)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-gray-400 font-bold italic",children:"No students currently enrolled (0)"})})})]})})]})},T=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Messages"}),s.jsx("button",{onClick:()=>a("stats"),className:"text-primary font-bold text-sm hover:underline",children:"Back to Overview"})]}),s.jsx("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-primary/5",children:B.length>0?B.map(P=>s.jsx("div",{className:`p-6 hover:bg-primary/5 transition-colors cursor-pointer ${P.unread?"bg-primary-surface/30":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:P.sender.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("h3",{className:`font-semibold ${P.unread?"text-gray-900":"text-gray-700"}`,children:P.sender}),s.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:P.time})]}),s.jsx("p",{className:`text-sm ${P.unread?"font-medium text-gray-900":"text-gray-600"} mt-0.5`,children:P.subject}),s.jsx("p",{className:"text-sm text-gray-400 truncate mt-1",children:P.preview})]}),P.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary-light rounded-full flex-shrink-0 mt-2"})]})},P.id)):s.jsx("div",{className:"px-6 py-20 text-center text-gray-400 font-bold italic",children:"No messages yet"})})})]}),O=()=>{var Q;const P=A=>{var re;if(!y.trim()||!e)return;const F={id:Date.now().toString(),author:((re=e.email)==null?void 0:re.split("@")[0])||"Facilitator",authorEmail:e.email||"facilitator@example.com",content:y,timestamp:new Date().toLocaleString()};f(ne=>ne.map(K=>K.id===A?{...K,replies:[...K.replies,F]}:K)),b("")},$=u.filter(A=>A.courseId===g);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Course Comments"}),s.jsx("button",{onClick:()=>{a("stats"),x(null)},className:"text-primary font-bold text-sm hover:underline",children:"Back to Overview"})]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Select a Course"}),h?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(yn,{className:"animate-spin text-primary",size:24}),s.jsx("span",{className:"ml-2 text-gray-500",children:"Loading courses..."})]}):G.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ut,{size:32,className:"mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No courses yet. Create your first course to get started."})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:G.map(A=>s.jsxs("button",{onClick:()=>x(A.id),className:`p-4 rounded-xl border transition-all ${g===A.id?"bg-primary text-white border-primary":"bg-white/40 border-primary/10 hover:border-primary/30"}`,children:[s.jsx("p",{className:"font-bold text-sm truncate",children:A.title}),s.jsxs("p",{className:`text-xs mt-1 ${g===A.id?"text-white/70":"text-gray-500"}`,children:[u.filter(F=>F.courseId===A.id).length," comments"]})]},A.id))})]}),g&&s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-primary/5 border-b border-primary/10",children:s.jsxs("h3",{className:"font-bold text-gray-900",children:[((Q=G.find(A=>A.id===g))==null?void 0:Q.title)||"Course"," - Comments"]})}),s.jsx("div",{className:"divide-y divide-primary/5",children:$.length>0?$.map(A=>s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:A.author.charAt(0)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:A.author}),s.jsx("span",{className:"text-xs text-gray-400",children:A.timestamp})]}),s.jsx("p",{className:"text-gray-700",children:A.content})]})]}),A.replies.length>0&&s.jsx("div",{className:"ml-14 mt-4 space-y-4",children:A.replies.map(F=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:F.author.charAt(0)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-sm text-gray-900",children:F.author}),s.jsx("span",{className:"text-xs text-gray-400",children:F.timestamp})]}),s.jsx("p",{className:"text-sm text-gray-600",children:F.content})]})]},F.id))}),s.jsxs("div",{className:"ml-14 mt-4 flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Write a reply...",value:y,onChange:F=>b(F.target.value),onKeyPress:F=>F.key==="Enter"&&P(A.id),className:"flex-1 bg-white/60 border border-primary/10 rounded-lg px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20"}),s.jsxs("button",{onClick:()=>P(A.id),className:"px-4 py-2 bg-primary text-white rounded-lg font-bold text-sm hover:bg-primary-dark transition-all flex items-center gap-2",children:[s.jsx(tx,{size:14})," Reply"]})]})]},A.id)):s.jsx("div",{className:"px-6 py-20 text-center text-gray-400 font-bold italic",children:"No comments yet. Students can add comments when they enroll in this course."})})]})]})},E=P=>{const $=localStorage.getItem("soma_enrollments"),Q=localStorage.getItem("soma_users");if($){const F=ke($,[]).filter(re=>re.courseId===P);if(Q){const re=ke(Q,[]);return F.map(ne=>{var ee;const K=re.find(Re=>Re.id===ne.studentId||Re.email===ne.studentEmail);return{id:ne.studentId,name:ne.studentName||(K==null?void 0:K.name)||((ee=ne.studentEmail)==null?void 0:ee.split("@")[0])||"Student",email:ne.studentEmail||(K==null?void 0:K.email)||"",enrolledAt:ne.enrolledAt||ne.createdAt||new Date().toISOString()}})}return F.map(re=>({id:re.studentId,name:re.studentName||"Student",email:re.studentEmail||"",enrolledAt:re.enrolledAt||re.createdAt||new Date().toISOString()}))}return[]},D=()=>{const P=i?E(i.id):[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Students in Course"}),s.jsx("p",{className:"text-gray-500 mt-1",children:i==null?void 0:i.title})]}),s.jsx("button",{onClick:()=>{a("stats"),l(null)},className:"text-primary font-bold text-sm hover:underline",children:"Back to Overview"})]}),s.jsx("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:P.length>0?s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary/5",children:[s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider",children:"Student Name"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-primary uppercase tracking-wider",children:"Enrolled Date"})]})}),s.jsx("tbody",{className:"divide-y divide-primary/5",children:P.map(($,Q)=>s.jsxs("tr",{className:"hover:bg-primary/5 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:$.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:$.email}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date($.enrolledAt).toLocaleDateString()})]},Q))})]}):s.jsx("div",{className:"px-6 py-20 text-center text-gray-400 font-bold italic",children:"No students enrolled in this course yet"})})]})},R=P=>r(`/facilitator/course-outline/${P}`),J=(P,$)=>{$.stopPropagation(),l(P),a("courseStudents")};return s.jsx(zn,{title:n?"My Courses":"Facilitator Dashboard",children:s.jsxs("div",{className:"space-y-10",children:[!n&&o==="stats"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:[I.map((P,$)=>s.jsxs("div",{onClick:()=>{P.label==="Total Courses"?r("/facilitator/courses"):P.label==="Total Students"&&a("studentList")},className:`p-6 bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] shadow-sm hover:shadow-md transition-all ${["Total Courses","Total Students"].includes(P.label)?"cursor-pointer group":""}`,children:[s.jsx("div",{className:`w-12 h-12 ${P.color} rounded-2xl flex items-center justify-center mb-4 ${["Total Courses","Total Students"].includes(P.label)?"group-hover:scale-110 transition-transform":""}`,children:s.jsx(P.icon,{size:24})}),s.jsx("div",{className:"text-sm font-bold text-gray-400",children:P.label}),s.jsx("div",{className:"text-2xl font-black text-gray-900 mt-1",children:P.value})]},$)),s.jsxs("div",{onClick:()=>a("comments"),className:"p-6 bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] shadow-sm hover:shadow-md transition-all cursor-pointer group",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-50 text-purple-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(rj,{size:24})}),s.jsx("div",{className:"text-sm font-bold text-gray-400",children:"Course Comments"}),s.jsx("div",{className:"text-2xl font-black text-gray-900 mt-1",children:_})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Messages"}),s.jsx("button",{onClick:()=>a("messages"),className:"text-primary font-bold text-sm hover:underline",children:"View all"})]}),s.jsx("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-primary/5",children:B.slice(0,3).map(P=>s.jsx("div",{className:`p-4 hover:bg-primary/5 transition-colors cursor-pointer ${P.unread?"bg-primary-surface/30":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:P.sender.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("h3",{className:`text-sm ${P.unread?"font-semibold text-gray-900":"text-gray-700"}`,children:P.sender}),s.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:P.time})]}),s.jsx("p",{className:`text-xs ${P.unread?"font-medium text-gray-900":"text-gray-600"} mt-0.5 truncate`,children:P.subject})]}),P.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary-light rounded-full flex-shrink-0 mt-1"})]})},P.id))})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Overview"}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6 space-y-6",children:[s.jsx(fa,{label:"Course Completion Rate",value:S,max:100,displayValue:`${S}%`,color:"text-primary"}),s.jsx(fa,{label:"Enrollment Rate",value:C,max:Math.max(c,1),displayValue:`${M}%`,color:"text-green-600"}),s.jsx(fa,{label:"Total Enrollments",value:C,max:Math.max(c*v.length,1),displayValue:C.toString(),color:"text-purple-600"}),s.jsx(fa,{label:"Course Comments",value:_,max:Math.max(_,10),displayValue:_.toString(),color:"text-orange-600"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[G.length>0&&s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Enrollments per Course"}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Students enrolled in each of your courses"}),s.jsx("div",{className:"space-y-4",children:G.map((P,$)=>s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-semibold text-gray-700 truncate max-w-[60%]",children:P.title}),s.jsxs("span",{className:"font-black text-gray-900",children:[P.students," students"]})]}),s.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-700",style:{width:`${P.studentsNum/Y*100}%`}})})]},$))})]}),k.length>0&&s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2rem] p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Top Performing Students"}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Students with the highest average progress"}),s.jsx("div",{className:"space-y-4",children:k.map((P,$)=>s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),s.jsx("span",{className:"font-semibold text-gray-700 truncate max-w-[150px]",children:P.name})]}),s.jsxs("span",{className:"font-black text-gray-900",children:[P.progress,"% average"]})]}),s.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-700",style:{width:`${P.progress}%`}})})]},$))})]})]})]}),!n&&o==="studentList"&&s.jsx(oe,{}),!n&&o==="messages"&&s.jsx(T,{}),!n&&o==="comments"&&s.jsx(O,{}),o==="courseStudents"&&s.jsx(D,{}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"All Created Courses":"Recent Courses"}),s.jsxs("div",{className:"flex items-center gap-4",children:[n&&s.jsxs("button",{onClick:()=>r("/facilitator/create-course"),className:"flex items-center gap-2 bg-primary text-white px-4 py-2 rounded-xl font-bold hover:bg-primary-dark transition-all shadow-md active:scale-95",children:[s.jsx(Cn,{size:18}),s.jsx("span",{children:"Create New Course"})]}),!n&&s.jsx("button",{onClick:()=>r("/facilitator/courses"),className:"text-primary font-bold text-sm hover:underline",children:"View all courses"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h?s.jsxs("div",{className:"col-span-full flex items-center justify-center py-12",children:[s.jsx(yn,{className:"animate-spin text-primary",size:32}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading your courses..."})]}):G.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(Ut,{size:48,className:"mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:"No Courses Yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't created any courses yet. Create your first course to get started."}),s.jsx("button",{onClick:()=>r("/facilitator/create-course"),className:"px-6 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-dark transition-all",children:"Create Your First Course"})]}):G.map(P=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>R(P.id),children:[s.jsxs("div",{className:"relative aspect-video rounded-[2rem] overflow-hidden mb-4 shadow-sm group-hover:shadow-xl transition-all duration-500",children:[s.jsx("img",{src:P.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:P.title}),s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx("div",{className:"w-12 h-12 bg-primary-surface rounded-full flex items-center justify-center text-primary shadow-lg transform scale-50 group-hover:scale-100 transition-transform",children:s.jsx(mu,{size:24})})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-bold text-gray-900 truncate",children:P.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:s.jsxs("button",{onClick:$=>J({id:P.id,title:P.title},$),className:"flex items-center gap-1 hover:text-primary transition-colors",children:[s.jsx(Qr,{size:14}),s.jsxs("span",{children:[P.students," students"]})]})}),s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${P.progress}%`}})}),s.jsxs("span",{className:"text-[10px] font-extrabold text-primary",children:[P.progress,"%"]})]})})]})]},P.id))})]})]})})},sN=()=>{const{user:e}=Qe(),[t,r]=w.useState([]),[n,o]=w.useState(!0),[a,i]=w.useState(""),[l,c]=w.useState([]);w.useEffect(()=>{const f=async()=>{try{o(!0);let x=[];try{const v=await vu();c(v),x=v.map(p=>p.id)}catch(v){console.error("Failed to fetch courses:",v)}let y=[];try{const v=await cx();v&&v.length>0&&(y=v.map(p=>{var h;return{id:p.id||p._id,name:p.name||((h=p.email)==null?void 0:h.split("@")[0])||"Student",email:p.email||"",enrolledCourses:p.enrolledCourses||[],joinDate:p.joinDate||p.createdAt||new Date().toISOString().split("T")[0]}}))}catch(v){console.error("Failed to load students from API:",v)}y.length===0&&(y=g());let b=y;if(x.length>0){b=y.filter(p=>{var h;return(h=p.enrolledCourses)==null?void 0:h.some(m=>x.includes(m))});const v=localStorage.getItem("soma_enrollments");if(v){const h=JSON.parse(v).filter(j=>x.includes(j.courseId));[...new Set(h.map(j=>j.studentId))].forEach(j=>{if(!b.find(N=>N.id===j)){const N=h.find(S=>S.studentId===j);N&&b.push({id:String(j),name:N.studentName||"Student",email:N.studentEmail||"",enrolledCourses:h.filter(S=>S.studentId===j).map(S=>S.courseId),joinDate:N.enrolledAt||new Date().toISOString().split("T")[0]})}})}}r(b)}catch(x){console.error("Failed to load data:",x)}finally{o(!1)}},g=()=>{let x=[];const y=localStorage.getItem("soma_users");y&&(x=[...JSON.parse(y).filter(h=>h.role==="Student").map(h=>{var m;return{id:h.id||`student_${Math.random().toString(36).substr(2,9)}`,name:h.name||((m=h.email)==null?void 0:m.split("@")[0])||"Student",email:h.email||"",enrolledCourses:h.enrolledCourses||[],joinDate:h.joinDate||new Date().toISOString().split("T")[0]}})]);const b=localStorage.getItem("soma_enrollments");if(b){const v=JSON.parse(b);[...new Set(v.map(h=>h.studentId))].forEach(h=>{if(!x.find(m=>m.id===h)){const m=v.find(j=>j.studentId===h);x.push({id:h,name:(m==null?void 0:m.studentName)||"Student",email:(m==null?void 0:m.studentEmail)||"",enrolledCourses:[m==null?void 0:m.courseId].filter(Boolean),joinDate:(m==null?void 0:m.enrolledAt)||new Date().toISOString().split("T")[0]})}})}return x};f()},[]);const d=t.filter(f=>f.name.toLowerCase().includes(a.toLowerCase())||f.email.toLowerCase().includes(a.toLowerCase())),u=f=>f.map(g=>{const x=l.find(y=>y.id===g);return(x==null?void 0:x.title)||"Unknown Course"});return s.jsx(zn,{title:"Students",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Students"}),s.jsxs("p",{className:"text-gray-500 mt-1",children:[t.length," students enrolled in your courses"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Ut,{size:16}),s.jsxs("span",{children:[l.length," Courses"]})]})]}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Fo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search students by name or email...",value:a,onChange:f=>i(f.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-2xl outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]}),n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-500",children:"Loading students..."})]}):d.length===0?s.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-200",children:[s.jsx(Qr,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:"No Students Found"}),s.jsx("p",{className:"text-gray-500",children:a?"No students match your search":"No students have enrolled yet"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-surface rounded-full flex items-center justify-center text-primary font-bold text-lg flex-shrink-0",children:f.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 truncate",children:f.name}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mt-1",children:[s.jsx(yu,{size:14}),s.jsx("span",{className:"text-sm truncate",children:f.email})]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[s.jsx(fi,{size:14}),s.jsxs("span",{children:["Joined: ",f.joinDate]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Enrolled Courses:"}),u(f.enrolledCourses).map((g,x)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{size:12,className:"text-primary"}),s.jsx("span",{className:"text-sm text-gray-700 truncate",children:g})]},x))]})]})]},f.id))})]})})},oN=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[o,a]=w.useState(!0),[i,l]=w.useState(""),[c,d]=w.useState("all");w.useEffect(()=>{(async()=>{try{a(!0);let m=[];try{const _=await vu();n(_||[]),m=(_||[]).map(M=>M.id)}catch(_){console.error("Failed to fetch courses:",_);const M=await Xr();n(M||[]),m=(M||[]).map(I=>I.id)}const j=await ix(),N=localStorage.getItem("soma_users"),S=N?JSON.parse(N):[],k=new Map;j&&j.length>0&&m.length>0&&j.forEach(_=>{var G;if(!m.includes(_.courseId))return;const M=_.studentId;if(!k.has(M)){const Y=S.find(oe=>oe.id===M);k.set(M,{studentId:M,email:(Y==null?void 0:Y.email)||`${M.slice(0,8)}@example.com`,name:(Y==null?void 0:Y.name)||((G=Y==null?void 0:Y.email)==null?void 0:G.split("@")[0])||"Student",courses:[]})}const I=k.get(M),B=r.find(Y=>Y.id===_.courseId);I.courses.push({courseId:_.courseId,courseName:(B==null?void 0:B.title)||"Unknown Course",progress:_.progress_percentage||0,status:_.status||(_.progress_percentage===100?"completed":"in-progress"),lastUpdated:_.updatedAt||new Date().toISOString()})});const C=Array.from(k.values());t(C)}catch(m){console.error("Failed to load progress data:",m)}finally{a(!1)}})()},[]);const u=e.length,f=e.reduce((h,m)=>{var j;return h+(((j=m.courses)==null?void 0:j.length)||0)},0),g=e.reduce((h,m)=>{var j;return h+(((j=m.courses)==null?void 0:j.filter(N=>N.status==="completed"||N.progress===100).length)||0)},0),x=e.reduce((h,m)=>{var j;return h+(((j=m.courses)==null?void 0:j.filter(N=>N.progress>0&&N.progress<100).length)||0)},0),y=e.filter(h=>{var S,k,C;const j=`${h.name} ${h.email}`.toLowerCase().includes(i.toLowerCase());let N=!0;return c==="completed"?N=(S=h.courses)==null?void 0:S.every(_=>_.progress===100):c==="in_progress"?N=(k=h.courses)==null?void 0:k.some(_=>_.progress>0&&_.progress<100):c==="not_started"&&(N=(C=h.courses)==null?void 0:C.every(_=>_.progress===0)),j&&N}),b=h=>h>=80?"text-green-500":h>=50?"text-yellow-500":"text-red-500",v=h=>h>=80?"bg-green-100":h>=50?"bg-yellow-100":"bg-red-100",p=(h,m)=>h===100||m==="completed"?s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"Completed"}):h>0||m==="in-progress"?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-full",children:"In Progress"}):s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-bold rounded-full",children:"Not Started"});return s.jsx(zn,{title:"Progress Tracking",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center",children:s.jsx(Qr,{size:20})}),s.jsx("span",{className:"text-sm text-gray-500",children:"Total Students"})]}),s.jsx("p",{className:"text-2xl font-black text-gray-900",children:u})]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(Ut,{size:20})}),s.jsx("span",{className:"text-sm text-gray-500",children:"Total Enrollments"})]}),s.jsx("p",{className:"text-2xl font-black text-gray-900",children:f})]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-600 rounded-xl flex items-center justify-center",children:s.jsx(hu,{size:20})}),s.jsx("span",{className:"text-sm text-gray-500",children:"Completed"})]}),s.jsx("p",{className:"text-2xl font-black text-gray-900",children:g})]}),s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 text-yellow-600 rounded-xl flex items-center justify-center",children:s.jsx(So,{size:20})}),s.jsx("span",{className:"text-sm text-gray-500",children:"In Progress"})]}),s.jsx("p",{className:"text-2xl font-black text-gray-900",children:x})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"relative max-w-md w-full",children:[s.jsx(Fo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search students...",value:i,onChange:h=>l(h.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-2xl outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${c==="all"?"bg-primary text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"All"}),s.jsx("button",{onClick:()=>d("completed"),className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${c==="completed"?"bg-green-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Completed"}),s.jsx("button",{onClick:()=>d("in_progress"),className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${c==="in_progress"?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>d("not_started"),className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${c==="not_started"?"bg-gray-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Not Started"})]})]}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-500",children:"Loading progress data..."})]}):y.length===0?s.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-200",children:[s.jsx(So,{size:48,className:"mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:"No Progress Data"}),s.jsx("p",{className:"text-gray-500",children:i||c!=="all"?"No students match your filters":"No student progress data available yet"})]}):s.jsx("div",{className:"space-y-4",children:y.map((h,m)=>{var N,S;const j=((N=h.courses)==null?void 0:N.length)>0?Math.round(h.courses.reduce((k,C)=>k+(C.progress||0),0)/h.courses.length):0;return s.jsx("div",{className:"bg-white/60 backdrop-blur-md border border-primary/10 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[s.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"#e5e7eb",strokeWidth:"5",fill:"none"}),s.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:`${j*2.2} 220`,className:`${b(j)} transition-all duration-500`})]}),s.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-sm font-black ${b(j)}`,children:[j,"%"]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:h.name}),s.jsx("span",{className:"text-sm text-gray-500",children:h.email})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mt-4",children:(S=h.courses)==null?void 0:S.map((k,C)=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:k.courseName||k.courseId}),p(k.progress,k.status)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${v(k.progress)}`,style:{width:`${k.progress||0}%`}})}),s.jsxs("span",{className:`text-xs font-bold ${b(k.progress)}`,children:[k.progress||0,"%"]})]})]},C))})]})]})},m)})})]})})},aN="/assets/Rwandan%20program-B0EREovO.jpg",iN="/assets/international%20program-CCS8rfb0.jpg",lN="/assets/other%20school%20contents-DaSOwNPR.jpg",cN="/assets/nursery%20students-CrKkiCFY.jpg",dN="/assets/primary%20students-BK1d3mJ-.jpg",uN="/assets/secondary%20students-CSUKQogQ.jpg",fN="/assets/University%20students-S0RTWqEz.jpg",pn=zn,pN=()=>{const e=Ee(),[t,r]=V.useState([]),[n,o]=V.useState([]),[a,i]=V.useState(""),[l,c]=V.useState(!0),[d,u]=V.useState(!1),[f,g]=V.useState(null),x=V.useRef(null);V.useEffect(()=>{(async()=>{try{const h=await Xr();r(h)}catch(h){g("Failed to load courses"),console.error("Error fetching courses:",h)}finally{c(!1)}})()},[]);const y=p=>{const h=p.target.value.trim();if(i(h),x.current&&clearTimeout(x.current),!h){o([]),u(!1);return}x.current=setTimeout(async()=>{u(!0);try{const m=await eN(h);o(m??[])}catch(m){console.error("Search error:",m),o([])}finally{u(!1)}},350)},b=a?n:t,v=!!a;return s.jsxs(pn,{title:"Library",children:[s.jsxs("div",{className:"relative mb-8 md:mb-10 -mt-2",children:[s.jsx(Fo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{placeholder:"Search courses...",onKeyUp:y,onChange:p=>{p.target.value.trim()||(i(""),o([]))},className:"w-full max-w-xl pl-11 pr-4 py-2.5 md:py-3 bg-primary-surface/60 border border-primary/5 rounded-2xl text-sm outline-none focus:bg-white focus:border-primary/20 transition-all font-medium"}),d&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})})]}),v&&!d&&s.jsxs("p",{className:"text-xs font-bold text-gray-400 mb-4 uppercase tracking-widest",children:[n.length," result",n.length!==1?"s":""," for ",a,""]}),l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-400 font-medium animate-pulse",children:"Loading your library..."})]}):f?s.jsxs("div",{className:"bg-red-50 text-red-600 p-8 rounded-[2rem] border border-red-100 text-center max-w-lg mx-auto",children:[s.jsx(En,{size:40,className:"mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-sm opacity-80",children:f}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-red-600 text-white rounded-xl text-sm font-bold hover:bg-red-700 transition-all",children:"Retry"})]}):b.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mx-auto mb-6",children:s.jsx(nd,{size:40})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:v?"No courses matched your search":"No Courses Found"}),s.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:v?"Try a different keyword.":"Start by creating your first course to see it here in the library."})]}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-x-8 md:gap-y-10",children:b.map((p,h)=>s.jsxs("div",{onClick:()=>e(`/study/${p.id}`),className:"flex flex-col gap-3 group cursor-pointer",children:[s.jsxs("div",{className:"aspect-[3/4] rounded-2xl md:rounded-[1.5rem] overflow-hidden border border-gray-100 shadow-sm group-hover:shadow-lg transition-all duration-300 relative",children:[s.jsx("img",{src:p.coverPage||"https://images.unsplash.com/photo-1636466497217-26a8cbeaf0aa?auto=format&fit=crop&q=80&w=400",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",alt:p.title}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:s.jsx("span",{className:"text-[10px] text-white/80 font-bold uppercase tracking-widest",children:p.level||"General"})})]}),s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"text-xs md:text-sm font-bold text-gray-700 truncate group-hover:text-primary transition-colors",children:p.title}),s.jsxs("span",{className:"text-[10px] text-gray-400 font-medium truncate",children:["By ",p.author||"Anonymous"]})]}),s.jsx("button",{className:"text-primary hover:scale-110 transition-transform flex-shrink-0 bg-primary-surface/40 p-1.5 rounded-lg",children:s.jsx(Yg,{size:16})})]})]},p.id||h))})]})},hN=()=>{var v;const e=Ee(),t=vr(),[r,n]=V.useState([]),[o,a]=V.useState([]),[i,l]=V.useState(!1);V.useEffect(()=>{const p=t.state;p!=null&&p.initialPath&&n(p.initialPath)},[t.state]);const c=[{id:"rwandan",title:"Rwandan Program",desc:"National curriculum following the Rwanda Education Board (REB) standards.",levels:[{id:"nursery",name:"Nursery",span:"Ages 3-6",grades:[],img:cN},{id:"primary",name:"Primary",span:"P1 - P6",grades:["P1","P2","P3","P4","P5","P6"],img:dN},{id:"secondary",name:"Secondary",span:"S1 - S6",grades:["S1","S2","S3","S4","S5","S6"],img:uN},{id:"university",name:"University",span:"Higher Ed",grades:["Year 1","Year 2","Year 3","Year 4"],img:fN}],lessons:156,img:aN,color:"from-blue-600 to-blue-400"},{id:"international",title:"International Program",desc:"Global curriculum support including Cambridge, IB, and other international standards.",level:"Primary - High School",lessons:94,img:iN,color:"from-orange-600 to-orange-400"},{id:"other",title:"Other School Contents",desc:"Supplementary materials, extra-curricular courses, and vocational training.",level:"All Ages",lessons:48,img:lN,color:"from-purple-600 to-purple-400"}];V.useEffect(()=>{r.length===3&&(async()=>{l(!0);try{const h=r[2],m=await Zj(h);a(m)}catch(h){console.error("Error fetching grade courses:",h)}finally{l(!1)}})()},[r]);const[d,u]=V.useState(()=>{const p=localStorage.getItem("soma_profile");return p?JSON.parse(p):{name:"Swetha shankaresh",avatar:"",grade:""}}),f=r[0]?c.find(p=>p.id===r[0]):null,g=r[1]?(v=f==null?void 0:f.levels)==null?void 0:v.find(p=>p.id===r[1]):null,x=r[2]||null,y=d.grade===x,b=()=>{if(!x)return;if(d.grade&&d.grade!==x){alert(`You are currently enrolled in ${d.grade}. You must complete it before enrolling in a new grade.`);return}const p={...d,grade:x};u(p),localStorage.setItem("soma_profile",JSON.stringify(p));const h={email:p.name||"student",courses:o.map(m=>({courseId:`${x}-${m.id}`,courseName:m.title,progress:0,status:"pending",lastUpdated:new Date().toISOString()}))};localStorage.setItem("soma_student_progress",JSON.stringify(h)),o.forEach(m=>{const j={studentId:p.name||`student_${Date.now()}`,studentName:p.name||"Student",studentEmail:p.email||p.name||"",courseId:`${x}-${m.id}`,courseName:m.title,enrolledAt:new Date().toISOString()},N=localStorage.getItem("soma_enrollments"),S=N?JSON.parse(N):[];S.push(j),localStorage.setItem("soma_enrollments",JSON.stringify(S))}),window.dispatchEvent(new Event("storage")),alert(`Successfully enrolled in ${x}!`)};return s.jsxs(pn,{title:"Programs",children:[s.jsxs("div",{className:"mb-6 md:mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar py-1",children:[s.jsx("button",{onClick:()=>n([]),className:`text-sm font-bold whitespace-nowrap ${r.length===0?"text-primary":"text-gray-400 hover:text-gray-600"}`,children:"Programs"}),r.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(fn,{size:14,className:"text-gray-300 flex-shrink-0"}),s.jsx("button",{onClick:()=>n([r[0]]),className:`text-sm font-bold whitespace-nowrap ${r.length===1?"text-primary":"text-gray-400 hover:text-gray-600"}`,children:f==null?void 0:f.title})]}),r.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(fn,{size:14,className:"text-gray-300 flex-shrink-0"}),s.jsx("button",{onClick:()=>n([r[0],r[1]]),className:`text-sm font-bold whitespace-nowrap ${r.length===2?"text-primary":"text-gray-400 hover:text-gray-600"}`,children:g==null?void 0:g.name})]}),r.length>2&&s.jsxs(s.Fragment,{children:[s.jsx(fn,{size:14,className:"text-gray-300 flex-shrink-0"}),s.jsxs("span",{className:"text-sm font-bold text-primary whitespace-nowrap",children:[x," Courses"]})]})]}),r.length===3&&!y&&s.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 px-6 py-2.5 bg-primary text-white rounded-xl text-sm font-bold hover:bg-primary-dark transition-all shadow-md active:scale-95",children:["Enroll in ",x]}),r.length===3&&y&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl text-sm font-bold border border-green-100",children:[s.jsx(mi,{size:16})," Enrolled"]})]}),r.length===0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:c.map(p=>s.jsxs("div",{className:"bg-white/40 backdrop-blur-md rounded-3xl md:rounded-[2.5rem] p-4 border border-primary/10 group hover:shadow-2xl transition-all duration-500 flex flex-col h-full",children:[s.jsxs("div",{className:"h-40 md:h-48 rounded-2xl md:rounded-[2rem] overflow-hidden mb-6 relative flex-shrink-0",children:[s.jsx("img",{src:p.img,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:p.title}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p.color} opacity-20`})]}),s.jsxs("div",{className:"px-2 flex-1 flex flex-col",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3 group-hover:text-primary transition-colors",children:p.title}),s.jsx("p",{className:"text-xs md:text-sm text-gray-500 mb-6",children:p.desc}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-50 mt-auto",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:"Contents"}),s.jsxs("span",{className:"text-xs md:text-sm font-bold text-gray-900",children:[p.lessons,"+ Lessons"]})]}),s.jsx("button",{onClick:()=>n([p.id]),className:"w-10 h-10 md:w-12 md:h-12 bg-gray-50 rounded-xl md:rounded-2xl flex items-center justify-center text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300 shadow-sm flex-shrink-0",children:s.jsx(fn,{size:20})})]})]})]},p.id))}),r.length===1&&(f==null?void 0:f.levels)&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:f.levels.map(p=>s.jsxs("div",{onClick:()=>n([...r,p.id]),className:"bg-white/40 backdrop-blur-md rounded-2xl md:rounded-[2.5rem] border border-primary/10 hover:shadow-2xl transition-all duration-500 cursor-pointer group flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"h-32 md:h-40 overflow-hidden relative flex-shrink-0",children:[s.jsx("img",{src:p.img,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",alt:p.name}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gray-50 rounded-xl md:rounded-2xl flex items-center justify-center text-primary group-hover:bg-primary group-hover:text-white transition-all mb-2 md:mb-0",children:s.jsx(nd,{size:20})}),s.jsx("span",{className:"text-[9px] md:text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:p.span})]}),s.jsx("h3",{className:"text-base md:text-xl font-bold text-gray-900 group-hover:text-primary truncate",children:p.name})]})]},p.id))}),r.length===2&&(g==null?void 0:g.grades)&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:g.grades.map(p=>{const h=d.grade===p,m=d.grade&&d.grade!==p;return s.jsxs("div",{onClick:()=>n([...r,p]),className:`
                                    p-6 md:p-8 bg-white/40 backdrop-blur-md border rounded-2xl md:rounded-3xl text-center transition-all cursor-pointer group relative overflow-hidden
                                    ${h?"border-green-500 bg-green-50/10":"border-primary/5 hover:border-primary hover:shadow-xl hover:translate-y-[-4px]"}
                                `,children:[h&&s.jsx("div",{className:"absolute top-3 right-3 text-green-500",children:s.jsx(mi,{size:18})}),m&&s.jsx("div",{className:"absolute top-3 right-3 text-gray-300",children:s.jsx(hi,{size:18})}),s.jsx("div",{className:`text-xl md:text-2xl font-black mb-2 transition-colors ${h?"text-green-600":"text-gray-300 group-hover:text-primary"}`,children:p}),s.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-400 font-bold uppercase",children:h?"Continue Learning":m?"Enrollment Locked":"View Classes"})]},p)})}),r.length===3&&s.jsx("div",{className:"flex flex-col gap-6",children:i?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})}):o.length===0?s.jsxs("div",{className:"text-center py-20 bg-white/40 backdrop-blur-md rounded-3xl border border-dashed border-gray-200",children:[s.jsx(nd,{size:40,className:"mx-auto text-gray-300 mb-4"}),s.jsx("h4",{className:"font-bold text-gray-900",children:"No Courses Available"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["There are no courses currently listed for ",x,"."]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(p=>s.jsxs("div",{className:"bg-white/40 backdrop-blur-md rounded-3xl p-4 border border-primary/10 hover:shadow-xl transition-all group overflow-hidden relative",children:[!y&&s.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-3",children:s.jsx(hi,{size:24})}),s.jsx("h5",{className:"font-bold text-gray-900 text-sm mb-1",children:"Locked"}),s.jsxs("p",{className:"text-[10px] text-gray-500",children:["Enroll in ",x," to access this course"]})]}),s.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden mb-4",children:s.jsx("img",{src:p.coverPage||"https://images.unsplash.com/photo-1636466497217-26a8cbeaf0aa?auto=format&fit=crop&q=80&w=400",className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),s.jsx("h4",{className:"font-bold text-gray-900 mb-1 truncate",children:p.title}),s.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["Facilitator: ",p.author||"Anonymous"]}),s.jsx("button",{disabled:!y,onClick:()=>e(`/study/${p.id}`),className:`w-full py-2 rounded-xl text-xs font-bold transition-colors ${y?"bg-primary-surface text-primary hover:bg-primary hover:text-white":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Open Course"})]},p.id))})})]})},mN=()=>{const e=Ee(),[t,r]=V.useState(0),[n,o]=V.useState(!0),[a,i]=V.useState(""),[l,c]=V.useState(!1),[d]=V.useState(()=>{const S=localStorage.getItem("soma_profile");return S?JSON.parse(S):{grade:""}}),[u,f]=V.useState([{id:0,name:"Robin smith",msg:"Done",time:"1d",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"S2"},{id:1,name:"Arun Kumar",msg:"Nope",time:"1d",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"S2"},{id:2,name:"Amit kumar",msg:"Happy Birthday",time:"1d",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"S1"},{id:3,name:"Abishek kumar",msg:"When is exam?",time:"1d",avatar:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"S2"},{id:4,name:"Bivesh kumar",msg:"Hello",time:"2d",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"P5"},{id:5,name:"Clara john",msg:"Chemistry test",time:"2d",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"S2"},{id:6,name:"Deepthi manohar",msg:"I have completed",time:"2d",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100",isGroup:!1,grade:"S3"}]),[g,x]=V.useState({0:[{id:1,text:"Hey There?",sender:"them"},{id:2,text:"Hello!",sender:"me"},{id:3,text:"I am fine and how are you?",sender:"them"}],1:[{id:1,text:"Are you coming?",sender:"them"}]}),y=S=>{r(S),o(!1)},b=()=>{if(!a.trim())return;const S={id:Date.now(),text:a,sender:"me"};x(k=>({...k,[t]:[...k[t]||[],S]})),f(k=>k.map(C=>C.id===t?{...C,msg:a,time:"Just now"}:C)),i("")},v=()=>{const S=prompt("Enter Group Name:");if(!S)return;const k=u.length,C={id:k,name:S,msg:"Group created",time:"Just now",avatar:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80&w=100",isGroup:!0,grade:d.grade};f([C,...u]),x(_=>({..._,[k]:[]})),c(!0)},p=d.grade,h=u.filter(S=>{const k=l?S.isGroup:!S.isGroup,C=S.grade===p;return k&&C}),m=u.find(S=>S.id===t)||h[0],j=g[t]||[],N=!!p;return s.jsx(pn,{title:"Messages",children:s.jsx("div",{className:"flex gap-6 h-[calc(100vh-16rem)] relative overflow-hidden",children:N?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`
                            w-full md:w-80 bg-white/40 backdrop-blur-md rounded-3xl border border-primary/10 flex flex-col overflow-hidden shadow-sm transition-all duration-300
                            ${!n&&"hidden md:flex"}
                        `,children:[s.jsxs("div",{className:"p-4 border-b border-gray-50 flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{placeholder:"Search",className:"w-full pl-10 pr-4 py-2 bg-primary-surface/60 border-none rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary/20"})]}),s.jsx("button",{onClick:v,className:"p-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors",title:"Create Group",children:s.jsx(M2,{size:18})})]}),s.jsxs("div",{className:"flex border-b border-gray-50 text-xs font-bold text-gray-400",children:[s.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-3 transition-colors ${l?"hover:text-gray-600":"text-primary border-b-2 border-primary"}`,children:"Chat"}),s.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-3 transition-colors ${l?"text-[#111827] border-b-2 border-[#111827]":"hover:text-gray-600"}`,children:"Groups"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar text-left font-medium",children:h.length===0?s.jsx("div",{className:"p-8 text-center text-gray-400",children:s.jsxs("p",{className:"text-xs",children:["No peers found in ",p," yet."]})}):h.map(S=>s.jsxs("div",{onClick:()=>y(S.id),className:`flex items-center gap-3 p-4 border-b border-gray-50 cursor-pointer transition-colors ${t===S.id?"bg-blue-50/50":"hover:bg-gray-50"}`,children:[s.jsx("img",{src:S.avatar,className:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:S.name}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-bold text-gray-900 truncate text-left",children:S.name}),s.jsx("p",{className:"text-xs text-gray-400 truncate text-left",children:S.msg})]}),s.jsx("span",{className:"text-[10px] font-bold text-gray-400 whitespace-nowrap",children:S.time})]},S.id))})]}),s.jsx("div",{className:`
                            flex-1 bg-white/40 backdrop-blur-md rounded-3xl border border-primary/10 flex flex-col overflow-hidden shadow-sm transition-all duration-300
                            ${n&&"hidden md:flex"}
                        `,children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-gray-50 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>o(!0),className:"md:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:s.jsx(dr,{size:20})}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:m.avatar,className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover",alt:"avatar"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 md:w-2.5 md:h-2.5 bg-green-500 border-2 border-white rounded-full"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xs md:text-sm font-bold text-gray-900 leading-none mb-1",children:m.name}),s.jsx("p",{className:"text-[9px] md:text-[11px] text-gray-400",children:"Online . Last seen 3.00 pm"})]})]})}),s.jsxs("div",{className:"flex-1 p-4 md:p-6 overflow-y-auto space-y-6 bg-gray-50/30 custom-scrollbar",children:[j.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 gap-2",children:[s.jsx(ur,{size:48,className:"opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"No messages yet. Say hello!"})]}),j.map(S=>s.jsxs("div",{className:`flex items-start gap-3 ${S.sender==="me"?"justify-end":""}`,children:[S.sender==="them"&&s.jsx("img",{src:m.avatar,className:"w-7 h-7 md:w-8 md:h-8 rounded-full border border-gray-100 flex-shrink-0",alt:"avatar"}),s.jsx("div",{className:`
                                                    p-2.5 md:p-3 rounded-2xl text-xs md:text-sm max-w-[70%] sm:max-w-md shadow-sm text-left font-medium
                                                    ${S.sender==="me"?"bg-primary text-white rounded-tr-none shadow-md":"bg-gray-200 text-gray-800 rounded-tl-none"}
                                                `,children:S.text}),S.sender==="me"&&s.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-full bg-blue-100 flex items-center justify-center text-[10px] font-bold text-blue-600 border border-white flex-shrink-0",children:"ME"})]},S.id))]}),s.jsxs("div",{className:"p-3 md:p-4 border-t border-gray-50 flex items-center gap-2 md:gap-4",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-lg md:rounded-xl flex-shrink-0",children:s.jsx(ij,{size:18,className:"md:w-5 md:h-5 rotate-45"})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{value:a,onChange:S=>i(S.target.value),onKeyDown:S=>S.key==="Enter"&&b(),placeholder:"Type a message...",className:"w-full px-3 md:px-4 py-2 md:py-3 bg-primary-surface/40 border border-primary/5 rounded-xl md:rounded-2xl text-xs md:text-sm outline-none focus:border-primary transition-all font-medium pr-10 md:pr-12"}),s.jsx("button",{onClick:b,className:"absolute right-1.5 md:right-2 top-1/2 -translate-y-1/2 p-1.5 md:p-2 bg-primary text-white rounded-lg md:rounded-xl hover:bg-primary-dark transition-colors shadow-sm flex-shrink-0",children:s.jsx(tx,{size:16,className:"md:w-[18px] md:h-[18px]"})})]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-2",children:[s.jsx(ur,{size:48,className:"opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"Select a peer to start chatting"})]})})]}):s.jsxs("div",{className:"w-full h-full bg-white/40 backdrop-blur-md rounded-3xl border border-primary/10 flex flex-col items-center justify-center p-8 text-center shadow-sm",children:[s.jsx("div",{className:"w-20 h-20 bg-primary-surface rounded-full flex items-center justify-center text-primary mb-6 group-hover:scale-110 transition-transform",children:s.jsx(ur,{size:40})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect with Peers"}),s.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"You need to enroll in a grade to start chatting with your classmates."}),s.jsx("button",{onClick:()=>e("/programs"),className:"px-8 py-3 bg-primary text-white rounded-2xl font-bold hover:bg-primary-dark transition-all shadow-lg active:scale-95",children:"Go to Programs"})]})})})},gN=()=>{const{user:e,updateUser:t,deleteAccount:r}=Qe(),n=Ee(),[o,a]=V.useState("main"),[i,l]=V.useState(()=>{const v=localStorage.getItem("soma_profile");return v?JSON.parse(v):{name:(e==null?void 0:e.email.split("@")[0])||"User",email:(e==null?void 0:e.email)||"",phone:"",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=200",grade:"S2"}}),[c,d]=V.useState(null),u=v=>{var h;const p=(h=v.target.files)==null?void 0:h[0];if(p){if(!p.type.startsWith("image/")){alert("Please select an image file");return}if(p.size>2*1024*1024){alert("Image size must be less than 2MB");return}const m=new FileReader;m.onload=j=>{var S;const N=(S=j.target)==null?void 0:S.result;d(N)},m.readAsDataURL(p)}},[f,g]=V.useState(()=>{const v=localStorage.getItem("soma_notifications");return v?JSON.parse(v):{emailAlerts:!0,pushNotifications:!0,weeklyReports:!1}});V.useEffect(()=>{localStorage.setItem("soma_profile",JSON.stringify(i))},[i]),V.useEffect(()=>{localStorage.setItem("soma_notifications",JSON.stringify(f))},[f]);const x=v=>{v.preventDefault();const p=new FormData(v.target),h=p.get("email"),m=p.get("avatar"),j={...i,name:p.get("name"),email:h,phone:p.get("phone"),grade:p.get("grade"),avatar:c||m||i.avatar};l(j),localStorage.setItem("soma_profile",JSON.stringify(j)),window.dispatchEvent(new Event("storage")),t(h),a("main"),d(null)},y=v=>{v.preventDefault(),alert("Password updated successfully!"),a("main")},b=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(r(),n("/signup"))};if(o==="personal"){const v=["P1","P2","P3","P4","P5","P6","S1","S2","S3","S4","S5","S6","Year 1","Year 2","Year 3","Year 4"];return s.jsx(pn,{title:"Personal Information",children:s.jsxs("div",{className:"max-w-xl",children:[s.jsxs("button",{onClick:()=>a("main"),className:"flex items-center gap-2 text-gray-400 hover:text-primary mb-8 font-bold transition-colors",children:[s.jsx(dr,{size:16})," Back to Settings"]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Full Name"}),s.jsx("input",{name:"name",defaultValue:i.name,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0})]}),s.jsxs("div",{className:`space-y-4 md:space-y-0 md:flex md:gap-4 ${(e==null?void 0:e.role)!=="Student"?"block":""}`,children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Email Address"}),s.jsx("input",{name:"email",type:"email",defaultValue:i.email,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0})]}),(e==null?void 0:e.role)==="Student"&&s.jsxs("div",{className:"w-full md:w-32 space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Grade/Level"}),s.jsx("select",{name:"grade",defaultValue:i.grade||"S2",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-[#3B82F6] transition-all font-medium appearance-none",children:v.map(p=>s.jsx("option",{value:p,children:p},p))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Phone Number"}),s.jsx("input",{name:"phone",defaultValue:i.phone,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Profile Photo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c||i.avatar,alt:"Avatar",className:"w-20 h-20 rounded-full object-cover border-2 border-primary/20"}),c&&s.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full flex items-center justify-center",children:s.jsx(mi,{size:20,className:"text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-xl font-bold cursor-pointer hover:bg-primary-dark transition-all w-fit",children:[s.jsx(ox,{size:18}),"Upload Image",s.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden"})]}),c&&s.jsxs("button",{type:"button",onClick:()=>d(null),className:"flex items-center gap-1 px-3 py-2.5 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition-all",children:[s.jsx(En,{size:16}),"Cancel"]})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Max size: 2MB (JPG, PNG, GIF)"})]})]}),s.jsx("input",{name:"avatar",type:"hidden",value:c||i.avatar})]}),s.jsx("button",{type:"submit",className:"w-full py-4 bg-primary text-white rounded-2xl font-bold hover:bg-primary-dark transition-all shadow-lg active:scale-95",children:"Save Changes"})]})]})})}if(o==="security")return s.jsx(pn,{title:"Security",children:s.jsxs("div",{className:"max-w-xl",children:[s.jsxs("button",{onClick:()=>a("main"),className:"flex items-center gap-2 text-gray-400 hover:text-primary mb-8 font-bold transition-colors",children:[s.jsx(dr,{size:16})," Back to Settings"]}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Current Password"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"New Password"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-primary transition-all font-medium",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Confirm New Password"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:border-[#3B82F6] transition-all font-medium",required:!0})]}),s.jsx("button",{type:"submit",className:"w-full py-4 bg-primary text-white rounded-2xl font-bold hover:bg-primary-dark transition-all shadow-lg active:scale-95",children:"Update Password"})]})]})});if(o==="notifications"){const v=p=>{g({...f,[p]:!f[p]})};return s.jsx(pn,{title:"Notifications",children:s.jsxs("div",{className:"max-w-xl",children:[s.jsxs("button",{onClick:()=>a("main"),className:"flex items-center gap-2 text-gray-400 hover:text-primary mb-8 font-bold transition-colors",children:[s.jsx(dr,{size:16})," Back to Settings"]}),s.jsx("div",{className:"space-y-4",children:[{id:"emailAlerts",title:"Email Alerts",desc:"Get updates in your inbox"},{id:"pushNotifications",title:"Push Notifications",desc:"Real-time alerts on your device"},{id:"weeklyReports",title:"Weekly Reports",desc:"A summary of your weekly progress"}].map(p=>s.jsxs("div",{className:"flex items-center justify-between p-6 bg-primary-surface/60 border border-primary/5 rounded-3xl group",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-gray-900",children:p.title}),s.jsx("div",{className:"text-xs text-gray-400",children:p.desc})]}),s.jsx("button",{onClick:()=>v(p.id),className:`w-12 h-6 rounded-full transition-colors relative ${f[p.id]?"bg-[#22C55E]":"bg-gray-300"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${f[p.id]?"left-7":"left-1"}`})})]},p.id))})]})})}return s.jsx(pn,{title:"Settings",children:s.jsxs("div",{className:"max-w-2xl mx-auto md:mx-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-8 md:mb-10 pb-8 md:pb-10 border-b border-gray-100 text-center md:text-left",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{className:"w-20 h-20 md:w-24 md:h-24 rounded-2xl md:rounded-3xl object-cover",src:i.avatar,alt:"Profile"}),s.jsx("button",{className:"absolute -bottom-2 -right-2 p-1.5 md:p-2 bg-white rounded-lg md:rounded-xl shadow-lg border border-gray-100 text-primary",children:s.jsx(gi,{size:14,className:"md:w-4 md:h-4"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:i.name}),s.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"Update your photo and personal details."})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[[{id:"personal",title:"Personal Information",desc:"Edit your name, email and phone number",icon:gi},{id:"security",title:"Security",desc:"Password and authentication settings",icon:hi},{id:"notifications",title:"Notifications",desc:"Manage your alert preferences",icon:pu}].map(v=>s.jsxs("div",{onClick:()=>a(v.id),className:"flex items-center justify-between p-4 md:p-6 bg-primary-surface/60 rounded-2xl md:rounded-3xl cursor-pointer hover:bg-white hover:shadow-sm border border-transparent hover:border-primary/5 transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:"p-2.5 md:p-3 bg-white rounded-xl md:rounded-2xl text-gray-400 group-hover:text-primary transition-colors shadow-sm",children:s.jsx(v.icon,{size:20,className:"md:w-[22px] md:h-[22px]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-sm md:text-base text-gray-900",children:v.title}),s.jsx("div",{className:"text-[10px] md:text-xs text-gray-400",children:v.desc})]})]}),s.jsx("div",{className:"text-gray-300 group-hover:text-gray-600 flex-shrink-0",children:s.jsx(fn,{size:20})})]},v.id)),s.jsxs("div",{onClick:b,className:"flex items-center justify-between p-4 md:p-6 bg-red-50/50 rounded-2xl md:rounded-3xl cursor-pointer hover:bg-red-50 transition-all group border border-transparent hover:border-red-100",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:"p-2.5 md:p-3 bg-white rounded-xl md:rounded-2xl text-red-400 shadow-sm",children:s.jsx(Jr,{size:20,className:"md:w-[22px] md:h-[22px]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-sm md:text-base text-red-600",children:"Delete Account"}),s.jsx("div",{className:"text-[10px] md:text-xs text-red-400",children:"Permanently remove your account data"})]})]}),s.jsx("div",{className:"text-red-200 group-hover:text-red-400 flex-shrink-0",children:s.jsx(fn,{size:20})})]})]})]})})},xN=async e=>await be.post("/topic",e),dx=async e=>await be.get(`/topic/bycourse?query=${e}`),yN=async e=>await be.get(`/topic/${e}`);function ux(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=ux(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vN(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=ux(e))&&(n&&(n+=" "),n+=t);return n}const bN=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},wN=(e,t)=>({classGroupId:e,validator:t}),fx=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),yi="-",Sp=[],jN="arbitrary..",NN=e=>{const t=kN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return SN(i);const l=i.split(yi),c=l[0]===""&&l.length>1?1:0;return px(l,c,t)},getConflictingClassGroupIds:(i,l)=>{if(l){const c=n[i],d=r[i];return c?d?bN(d,c):c:d||Sp}return r[i]||Sp}}},px=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],a=r.nextPart.get(o);if(a){const d=px(e,t+1,a);if(d)return d}const i=r.validators;if(i===null)return;const l=t===0?e.join(yi):e.slice(t).join(yi),c=i.length;for(let d=0;d<c;d++){const u=i[d];if(u.validator(l))return u.classGroupId}},SN=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?jN+n:void 0})(),kN=e=>{const{theme:t,classGroups:r}=e;return CN(r,t)},CN=(e,t)=>{const r=fx();for(const n in e){const o=e[n];bu(o,r,n,t)}return r},bu=(e,t,r,n)=>{const o=e.length;for(let a=0;a<o;a++){const i=e[a];EN(i,t,r,n)}},EN=(e,t,r,n)=>{if(typeof e=="string"){RN(e,t,r);return}if(typeof e=="function"){PN(e,t,r,n);return}zN(e,t,r,n)},RN=(e,t,r)=>{const n=e===""?t:hx(t,e);n.classGroupId=r},PN=(e,t,r,n)=>{if(_N(e)){bu(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(wN(r,e))},zN=(e,t,r,n)=>{const o=Object.entries(e),a=o.length;for(let i=0;i<a;i++){const[l,c]=o[i];bu(c,hx(t,l),r,n)}},hx=(e,t)=>{let r=e;const n=t.split(yi),o=n.length;for(let a=0;a<o;a++){const i=n[a];let l=r.nextPart.get(i);l||(l=fx(),r.nextPart.set(i,l)),r=l}return r},_N=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,TN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(a,i)=>{r[a]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let i=r[a];if(i!==void 0)return i;if((i=n[a])!==void 0)return o(a,i),i},set(a,i){a in r?r[a]=i:o(a,i)}}},od="!",kp=":",DN=[],Cp=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),MN=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const a=[];let i=0,l=0,c=0,d;const u=o.length;for(let b=0;b<u;b++){const v=o[b];if(i===0&&l===0){if(v===kp){a.push(o.slice(c,b)),c=b+1;continue}if(v==="/"){d=b;continue}}v==="["?i++:v==="]"?i--:v==="("?l++:v===")"&&l--}const f=a.length===0?o:o.slice(c);let g=f,x=!1;f.endsWith(od)?(g=f.slice(0,-1),x=!0):f.startsWith(od)&&(g=f.slice(1),x=!0);const y=d&&d>c?d-c:void 0;return Cp(a,x,g,y)};if(t){const o=t+kp,a=n;n=i=>i.startsWith(o)?a(i.slice(o.length)):Cp(DN,!1,i,void 0,!0)}if(r){const o=n;n=a=>r({className:a,parseClassName:o})}return n},ON=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let a=0;a<r.length;a++){const i=r[a],l=i[0]==="[",c=t.has(i);l||c?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(i)):o.push(i)}return o.length>0&&(o.sort(),n.push(...o)),n}},LN=e=>({cache:TN(e.cacheSize),parseClassName:MN(e),sortModifiers:ON(e),...NN(e)}),AN=/\s+/,IN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:a}=t,i=[],l=e.trim().split(AN);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:f,modifiers:g,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}=r(u);if(f){c=u+(c.length>0?" "+c:c);continue}let v=!!b,p=n(v?y.substring(0,b):y);if(!p){if(!v){c=u+(c.length>0?" "+c:c);continue}if(p=n(y),!p){c=u+(c.length>0?" "+c:c);continue}v=!1}const h=g.length===0?"":g.length===1?g[0]:a(g).join(":"),m=x?h+od:h,j=m+p;if(i.indexOf(j)>-1)continue;i.push(j);const N=o(p,v);for(let S=0;S<N.length;++S){const k=N[S];i.push(m+k)}c=u+(c.length>0?" "+c:c)}return c},FN=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=mx(r))&&(o&&(o+=" "),o+=n);return o},mx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mx(e[n]))&&(r&&(r+=" "),r+=t);return r},UN=(e,...t)=>{let r,n,o,a;const i=c=>{const d=t.reduce((u,f)=>f(u),e());return r=LN(d),n=r.cache.get,o=r.cache.set,a=l,l(c)},l=c=>{const d=n(c);if(d)return d;const u=IN(c,r);return o(c,u),u};return a=i,(...c)=>a(FN(...c))},$N=[],Pe=e=>{const t=r=>r[e]||$N;return t.isThemeGetter=!0,t},gx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BN=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,WN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=e=>BN.test(e),Z=e=>!!e&&!Number.isNaN(Number(e)),Er=e=>!!e&&Number.isInteger(Number(e)),Yl=e=>e.endsWith("%")&&Z(e.slice(0,-1)),sr=e=>WN.test(e),yx=()=>!0,YN=e=>HN.test(e)&&!VN.test(e),wu=()=>!1,JN=e=>qN.test(e),QN=e=>GN.test(e),XN=e=>!H(e)&&!q(e),KN=e=>rn(e,wx,wu),H=e=>gx.test(e),nn=e=>rn(e,jx,YN),Ep=e=>rn(e,aS,Z),ZN=e=>rn(e,Sx,yx),eS=e=>rn(e,Nx,wu),Rp=e=>rn(e,vx,wu),tS=e=>rn(e,bx,QN),pa=e=>rn(e,kx,JN),q=e=>xx.test(e),Fs=e=>_n(e,jx),rS=e=>_n(e,Nx),Pp=e=>_n(e,vx),nS=e=>_n(e,wx),sS=e=>_n(e,bx),ha=e=>_n(e,kx,!0),oS=e=>_n(e,Sx,!0),rn=(e,t,r)=>{const n=gx.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},_n=(e,t,r=!1)=>{const n=xx.exec(e);return n?n[1]?t(n[1]):r:!1},vx=e=>e==="position"||e==="percentage",bx=e=>e==="image"||e==="url",wx=e=>e==="length"||e==="size"||e==="bg-size",jx=e=>e==="length",aS=e=>e==="number",Nx=e=>e==="family-name",Sx=e=>e==="number"||e==="weight",kx=e=>e==="shadow",iS=()=>{const e=Pe("color"),t=Pe("font"),r=Pe("text"),n=Pe("font-weight"),o=Pe("tracking"),a=Pe("leading"),i=Pe("breakpoint"),l=Pe("container"),c=Pe("spacing"),d=Pe("radius"),u=Pe("shadow"),f=Pe("inset-shadow"),g=Pe("text-shadow"),x=Pe("drop-shadow"),y=Pe("blur"),b=Pe("perspective"),v=Pe("aspect"),p=Pe("ease"),h=Pe("animate"),m=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),q,H],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[q,H,c],_=()=>[Cr,"full","auto",...C()],M=()=>[Er,"none","subgrid",q,H],I=()=>["auto",{span:["full",Er,q,H]},Er,q,H],B=()=>[Er,"auto",q,H],G=()=>["auto","min","max","fr",q,H],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...C()],O=()=>[Cr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],E=()=>[Cr,"screen","full","dvw","lvw","svw","min","max","fit",...C()],D=()=>[Cr,"screen","full","lh","dvh","lvh","svh","min","max","fit",...C()],R=()=>[e,q,H],J=()=>[...j(),Pp,Rp,{position:[q,H]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",nS,KN,{size:[q,H]}],Q=()=>[Yl,Fs,nn],A=()=>["","none","full",d,q,H],F=()=>["",Z,Fs,nn],re=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[Z,Yl,Pp,Rp],ee=()=>["","none",y,q,H],Re=()=>["none",Z,q,H],ye=()=>["none",Z,q,H],Be=()=>[Z,q,H],nt=()=>[Cr,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[sr],breakpoint:[sr],color:[yx],container:[sr],"drop-shadow":[sr],ease:["in","out","in-out"],font:[XN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[sr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[sr],shadow:[sr],spacing:["px",Z],text:[sr],"text-shadow":[sr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cr,H,q,v]}],container:["container"],columns:[{columns:[Z,H,q,l]}],"break-after":[{"break-after":m()}],"break-before":[{"break-before":m()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{"inset-s":_(),start:_()}],end:[{"inset-e":_(),end:_()}],"inset-bs":[{"inset-bs":_()}],"inset-be":[{"inset-be":_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Er,"auto",q,H]}],basis:[{basis:[Cr,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Z,Cr,"auto","initial","none",H]}],grow:[{grow:["",Z,q,H]}],shrink:[{shrink:["",Z,q,H]}],order:[{order:[Er,"first","last","none",q,H]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pbs:[{pbs:C()}],pbe:[{pbe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mbs:[{mbs:T()}],mbe:[{mbe:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],"inline-size":[{inline:["auto",...E()]}],"min-inline-size":[{"min-inline":["auto",...E()]}],"max-inline-size":[{"max-inline":["none",...E()]}],"block-size":[{block:["auto",...D()]}],"min-block-size":[{"min-block":["auto",...D()]}],"max-block-size":[{"max-block":["none",...D()]}],w:[{w:[l,"screen",...O()]}],"min-w":[{"min-w":[l,"screen","none",...O()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",r,Fs,nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,oS,ZN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yl,H]}],"font-family":[{font:[rS,eS,t]}],"font-features":[{"font-features":[H]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,q,H]}],"line-clamp":[{"line-clamp":[Z,"none",q,Ep]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",q,H]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",q,H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Z,"from-font","auto",q,nn]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Z,"auto",q,H]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q,H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q,H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Er,q,H],radial:["",q,H],conic:[Er,q,H]},sS,tS]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-bs":[{"border-bs":F()}],"border-w-be":[{"border-be":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-bs":[{"border-bs":R()}],"border-color-be":[{"border-be":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Z,q,H]}],"outline-w":[{outline:["",Z,Fs,nn]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",u,ha,pa]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",f,ha,pa]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Z,nn]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",g,ha,pa]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Z,q,H]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Z]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[q,H]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Z]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",q,H]}],filter:[{filter:["","none",q,H]}],blur:[{blur:ee()}],brightness:[{brightness:[Z,q,H]}],contrast:[{contrast:[Z,q,H]}],"drop-shadow":[{"drop-shadow":["","none",x,ha,pa]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Z,q,H]}],"hue-rotate":[{"hue-rotate":[Z,q,H]}],invert:[{invert:["",Z,q,H]}],saturate:[{saturate:[Z,q,H]}],sepia:[{sepia:["",Z,q,H]}],"backdrop-filter":[{"backdrop-filter":["","none",q,H]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[Z,q,H]}],"backdrop-contrast":[{"backdrop-contrast":[Z,q,H]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Z,q,H]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Z,q,H]}],"backdrop-invert":[{"backdrop-invert":["",Z,q,H]}],"backdrop-opacity":[{"backdrop-opacity":[Z,q,H]}],"backdrop-saturate":[{"backdrop-saturate":[Z,q,H]}],"backdrop-sepia":[{"backdrop-sepia":["",Z,q,H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",q,H]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Z,"initial",q,H]}],ease:[{ease:["linear","initial",p,q,H]}],delay:[{delay:[Z,q,H]}],animate:[{animate:["none",h,q,H]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,q,H]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[q,H,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:nt()}],"translate-x":[{"translate-x":nt()}],"translate-y":[{"translate-y":nt()}],"translate-z":[{"translate-z":nt()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q,H]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mbs":[{"scroll-mbs":C()}],"scroll-mbe":[{"scroll-mbe":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pbs":[{"scroll-pbs":C()}],"scroll-pbe":[{"scroll-pbe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q,H]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Z,Fs,nn,Ep]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lS=UN(iS);function he(...e){return lS(vN(e))}function Dt(){return Math.random().toString(36).substr(2,9)}const cS=()=>{const{courseId:e}=bs(),t=Ee(),[r,n]=w.useState([]),[o,a]=w.useState([]),[i,l]=w.useState(!0),[c,d]=w.useState(null),{user:u}=Qe();w.useEffect(()=>{(async()=>{if(e)try{const[x,y]=await Promise.all([dx(e),xi(e).catch(()=>({data:[]}))]);n(x.data),a(y.data??[])}catch(x){console.error("Error fetching course data:",x),d("Failed to load course content. Please try again later.")}finally{l(!1)}})()},[e]),w.useEffect(()=>{if(!e)return;const g=async()=>{try{const x=await xi(e);a(x.data??[])}catch{}};return window.addEventListener("focus",g),()=>window.removeEventListener("focus",g)},[e]);const f=g=>{const x=o.find(y=>y.topicId===g);return(x==null?void 0:x.status)??"not_started"};return s.jsx(zn,{title:"Study Course",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-gray-500 hover:text-primary font-bold mb-8 transition-colors border-none bg-transparent cursor-pointer",children:[s.jsx(dr,{size:20}),"Back"]}),i?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[s.jsx(yn,{className:"w-12 h-12 text-primary animate-spin"}),s.jsx("p",{className:"text-gray-500 font-medium italic",children:"Preparing your study material..."})]}):c?s.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-3xl p-8 text-center max-w-lg mx-auto",children:[s.jsx("p",{className:"text-red-600 font-bold mb-4",children:c}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-all",children:"Retry"})]}):r.length===0?s.jsxs("div",{className:"bg-white/40 backdrop-blur-md border border-primary/10 rounded-[2.5rem] p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-primary-surface rounded-full flex items-center justify-center text-primary mx-auto mb-6",children:s.jsx(Ut,{size:40})}),s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-3",children:"No topics found yet"}),s.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-8",children:"This course hasn't been populated with topics yet. Check back later!"}),s.jsx("button",{onClick:()=>t(-1),className:"px-8 py-3 bg-primary text-white rounded-2xl font-bold hover:bg-primary-dark transition-all shadow-lg active:scale-95",children:"Explore Other Courses"})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-end justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Course Topics"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Master this course step by step through these modules."})]}),s.jsx("div",{className:"bg-primary/5 px-4 py-2 rounded-2xl border border-primary/10",children:s.jsxs("span",{className:"text-primary font-bold text-sm",children:[r.length," Lessons"]})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.sort((g,x)=>g.order-x.order).map((g,x)=>{const y=f(g.id);return s.jsxs("div",{onClick:()=>t(`/student/study_topic/${g.id}`),className:"group bg-white/40 backdrop-blur-md border border-primary/5 rounded-[2rem] p-6 flex flex-col md:flex-row md:items-center gap-6 hover:shadow-2xl hover:border-primary/20 transition-all duration-500 cursor-pointer relative overflow-hidden",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-primary-surface to-white border border-primary/10 rounded-2xl md:rounded-3xl flex items-center justify-center text-primary group-hover:bg-primary group-hover:text-white transition-all duration-500 shadow-inner flex-shrink-0",children:s.jsx("span",{className:"text-xl md:text-2xl font-black",children:x+1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"text-[10px] font-black text-primary uppercase tracking-widest bg-primary/10 px-2.5 py-1 rounded-full",children:["Module ",x+1]}),s.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400",children:[s.jsx(fi,{size:12}),s.jsx("span",{children:"15-20 mins"})]})]}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 truncate group-hover:text-primary transition-colors",children:g.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-1",children:g.description||"Start learning this module to master the essentials of this course."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col items-end hidden md:flex",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter mb-1",children:"Status"}),y==="completed"?s.jsxs("span",{className:"text-xs font-black text-green-500 flex items-center gap-1",children:[s.jsx(Ji,{size:12}),"Completed"]}):y==="in-progress"?s.jsx("span",{className:"text-xs font-black text-amber-500",children:"In Progress"}):s.jsx("span",{className:"text-xs font-black text-gray-400",children:"Not Started"})]}),s.jsx("div",{className:he("w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-300",y==="completed"?"bg-green-50 text-green-500 group-hover:bg-green-500 group-hover:text-white":"bg-gray-50 text-gray-400 group-hover:bg-primary group-hover:text-white"),children:s.jsx(mu,{size:24})})]}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-full bg-gradient-to-l from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},g.id)})})]})]})})},zp=async e=>{await new Promise(n=>setTimeout(n,1500));const r=e.split(/[.!?]/).filter(n=>n.trim().length>10).slice(0,3).map((n,o)=>{const a=n.trim().split(" "),i=a[0],l=a.slice(1).join(" ");return{id:`ai-${Date.now()}-${o}`,question:`What ${l.toLowerCase()}?`,options:[i,"Something else","Not sure","None of the above"],correct:0}});return r.length===0?{questions:[{id:"default",question:"Could you provide more text for better results?",options:["Yes","No"],correct:0}]}:{questions:r}},Cx=async e=>{try{const r=await fetch("http://192.168.1.86:3000/api/quizzes/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!r.ok)throw new Error("Failed to generate quiz");const n=await r.json();return Array.isArray(n)?{questions:n.map((a,i)=>{const l=[a.answer,...a.distractors||[]];for(let d=l.length-1;d>0;d--){const u=Math.floor(Math.random()*(d+1));[l[d],l[u]]=[l[u],l[d]]}const c=l.indexOf(a.answer);return{id:`ai-${Date.now()}-${i}`,question:a.question,options:l,correct:c}})}:n}catch(t){throw console.error("AI Generation Error:",t),t}},Ex=({data:e,topicId:t})=>{const[r,n]=w.useState(800),o=V.useRef(null);V.useEffect(()=>{const l=()=>{o.current&&n(o.current.offsetWidth)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const a=Math.max(...e.elements.map(l=>{const c=parseInt(l.style.height)||100;return l.position.y+c}),800)+100,i=Math.min(r/800,1);return s.jsx("div",{className:"w-full bg-slate-50 min-h-screen p-4 md:p-8 flex justify-center",children:s.jsx("div",{ref:o,className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl relative overflow-hidden",style:{height:`${a*i}px`,minHeight:"500px"},children:s.jsx("div",{style:{transform:`scale(${i})`,transformOrigin:"top left",width:"800px",height:`${a}px`,position:"absolute"},children:e.elements.sort((l,c)=>l.zIndex-c.zIndex).map(l=>s.jsx(dS,{element:l,topicId:t},l.id))})})})},dS=({element:e,topicId:t})=>{var n;const r={position:"absolute",left:`${e.position.x}px`,top:`${e.position.y}px`,zIndex:e.zIndex,...e.style};switch(e.type){case"text":return s.jsx("div",{style:r,dangerouslySetInnerHTML:{__html:e.content||""}});case"image":return s.jsx("img",{src:e.content,style:r,alt:"",className:"object-cover rounded-lg"});case"video":return s.jsx("div",{style:r,className:"bg-black rounded-xl overflow-hidden shadow-lg",children:s.jsx("video",{src:e.content,controls:!0,className:"w-full h-full"})});case"quiz":return s.jsx(fS,{element:e,style:r});case"resource":return s.jsx(pS,{element:e,style:r});case"comment":return s.jsx(hS,{element:e,style:r,topicId:t});case"hero":return s.jsx(uS,{element:e,style:r});case"list":return s.jsx("ul",{style:r,className:"list-disc pl-5 space-y-1",children:(((n=e.content)==null?void 0:n.split(","))||[]).map((o,a)=>s.jsx("li",{children:o.trim()},a))});default:return s.jsxs("div",{style:r,children:["Unknown Component: ",e.type]})}},uS=({element:e,style:t})=>{const r=(e.content||"").split(`
`),o=(e.style.backgroundType||"gradient")==="gradient"?`linear-gradient(to bottom right, ${e.style.gradientStart||"#059669"}, ${e.style.gradientEnd||"#047857"})`:e.style.backgroundColor||"#059669";return s.jsxs("div",{style:{...t,background:o},className:"text-center w-full h-full flex flex-col justify-center p-8 text-white rounded-3xl shadow-xl overflow-hidden",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold mb-2 drop-shadow-md",children:r[0]||"Hero Title"}),s.jsx("p",{className:"text-lg opacity-90 font-medium max-w-2xl mx-auto",children:r[1]||"Subtext goes here"})]})},fS=({element:e,style:t})=>{var d;const[r,n]=w.useState({}),[o,a]=w.useState(!1),i=((d=e.metadata)==null?void 0:d.questions)||[],l=(u,f)=>{o||n(g=>({...g,[u]:f}))},c=()=>{let u=0;return i.forEach((f,g)=>{r[g]===f.correct&&u++}),u};return s.jsxs("div",{style:t,className:"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"font-bold text-primary mb-4 flex items-center gap-2",children:[s.jsx(Qi,{size:20})," Quiz Block"]}),s.jsx("div",{className:"space-y-6 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:i.map((u,f)=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"font-medium text-gray-800",children:u.question}),s.jsx("div",{className:"space-y-2",children:u.options.map((g,x)=>{const y=r[f]===x,b=u.correct===x;return s.jsxs("button",{onClick:()=>l(f,x),className:he("w-full text-left p-3 rounded-xl border transition-all flex items-center gap-3",y?"border-primary bg-primary-surface":"border-gray-100 hover:border-primary-light",o&&b&&"border-green-500 bg-green-50",o&&y&&!b&&"border-red-500 bg-red-50"),children:[s.jsx("div",{className:he("w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0",y?"border-primary":"border-gray-300"),children:y&&s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),s.jsx("span",{className:"flex-1",children:g}),o&&b&&s.jsx("span",{className:"text-green-600 font-bold",children:""}),o&&y&&!b&&s.jsx("span",{className:"text-red-600 font-bold",children:""})]},x)})})]},f))}),o?s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl text-center",children:[s.jsxs("p",{className:"font-bold text-gray-700 text-lg",children:["Your Score: ",s.jsxs("span",{className:"text-primary",children:[c()," / ",i.length]})]}),s.jsx("button",{onClick:()=>{a(!1),n({})},className:"mt-2 text-sm text-primary hover:underline font-bold",children:"Retry Quiz"})]}):s.jsx("button",{onClick:()=>a(!0),className:"w-full mt-6 py-3 bg-primary text-white font-bold rounded-xl hover:bg-primary-dark transition-all shadow-lg shadow-primary/20",children:"Check Results"})]})},pS=({element:e,style:t})=>{const r=e.metadata||{},n=r.iconType==="video"?s.jsx(Ki,{}):r.iconType==="link"?s.jsx(kn,{}):s.jsx(Io,{});return s.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",style:t,className:"flex items-center gap-4 px-6 py-4 bg-white border border-gray-100 shadow-xl rounded-2xl hover:shadow-2xl hover:-translate-y-1 transition-all group",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-surface text-primary rounded-xl flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:n}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-gray-800",children:r.label||"View Resource"}),s.jsx("p",{className:"text-[10px] text-gray-400 font-mono italic",children:r.fileName})]})]})},hS=({topicId:e,style:t})=>{const[r,n]=w.useState([]),[o,a]=w.useState(""),i=()=>{if(!o.trim())return;console.log(`[API PLACEHOLDER] POST /comments - Topic: ${e}`,{text:o});const l={user:"Guest Student",text:o,date:"Just now"};n([...r,l]),a("")};return s.jsxs("div",{style:t,className:"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:"Comments"}),s.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto mb-4 pr-2",children:r.length===0?s.jsx("p",{className:"text-sm text-gray-400 italic",children:"No comments yet. Start the discussion!"}):r.map((l,c)=>s.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl border border-slate-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-primary",children:l.user}),s.jsx("span",{className:"text-[10px] text-gray-400",children:l.date})]}),s.jsx("p",{className:"text-sm text-gray-700",children:l.text})]},c))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:o,onChange:l=>a(l.target.value),placeholder:"Ask a question...",className:"flex-1 text-sm bg-slate-50 border border-slate-200 rounded-xl px-4 focus:ring-2 focus:ring-primary/20 outline-none",onKeyPress:l=>l.key==="Enter"&&i()}),s.jsx("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg shadow-primary/20 hover:bg-primary-dark transition-all",children:"Post"})]})]})},mS=()=>{const{topicId:e}=bs(),t=Ee(),{user:r}=Qe(),[n,o]=w.useState(null),[a,i]=w.useState([]),[l,c]=w.useState([]),[d,u]=w.useState(!0),[f,g]=w.useState(null),[x,y]=w.useState(!1),[b,v]=w.useState(null),[p,h]=w.useState(!1),[m,j]=w.useState(!1),[N,S]=w.useState({}),[k,C]=w.useState(!1);w.useCallback(async O=>{try{const E=await xi(O);c(E.data??[])}catch(E){console.error("Error refreshing topic progress:",E)}},[]),w.useEffect(()=>{if(!e||!r)return;(async()=>{u(!0),g(null);try{const D=(await yN(e)).data;o(D);const J=(await dx(D.courseId)).data.sort((A,F)=>A.order-F.order);i(J);let P=[];try{P=(await xi(D.courseId)).data??[]}catch{}c(P);const $=P.find(A=>A.topicId===D.id);if(!($&&$.status!=="not_started")){const A=J.findIndex(F=>F.id===D.id);try{await jp({studentId:r.id,courseId:D.courseId,progress_percentage:Math.round(A/J.length*100),last_topic_id:D.id,last_topic_number:D.order,status:"in-progress"}),c(F=>[...F.filter(ne=>ne.topicId!==D.id),{topicId:D.id,status:"in-progress"}])}catch(F){console.error("Error auto-starting topic:",F)}}}catch(E){console.error("Error fetching topic data:",E),g("Failed to load topic. Please try again.")}finally{u(!1)}})()},[e,r]);const _=O=>{const E=l.find(D=>D.topicId===O);return(E==null?void 0:E.status)??"not_started"},M=l.filter(O=>O.status==="completed").length,I=a.length>0?Math.round(M/a.length*100):0,B=async()=>{if(!(!n||!r)){y(!0);try{const O=a.findIndex(R=>R.id===n.id);if(_(n.id)!=="completed"&&(await jp({studentId:r.id,courseId:n.courseId,progress_percentage:Math.round((O+1)/a.length*100),last_topic_id:n.id,last_topic_number:n.order,status:"completed"}),c(R=>[...R.filter(P=>P.topicId!==n.id),{topicId:n.id,status:"completed"}])),O===a.length-1){try{await Jj(n.courseId)}catch(R){console.error("Error marking course complete:",R)}t(`/study/${n.courseId}`)}else t(`/student/study_topic/${a[O+1].id}`)}catch(O){console.error("Error saving progress:",O),g("Failed to save progress. You can still continue.");const E=a.findIndex(D=>D.id===n.id);E<a.length-1?t(`/student/study_topic/${a[E+1].id}`):t(`/study/${n.courseId}`)}finally{y(!1)}}},G=async()=>{var O;if((O=n==null?void 0:n.content)!=null&&O.elements){h(!0);try{const E=n.content.elements.map(R=>R.type==="text"?(R.content||"").replace(/<[^>]*>?/gm,""):R.type==="hero"?(R.content||"").split(`
`).join(": "):R.type==="list"?"List items: "+R.content:"").filter(R=>R.length>0).join(`

`);if(!E){alert("This topic doesn't have enough text content to generate a quiz.");return}const D=await Cx(E);v(D),j(!0),S({}),C(!1)}catch(E){console.error("Error generating AI quiz:",E),alert("Failed to generate AI quiz. Please try again later.")}finally{h(!1)}}},Y=(O,E)=>{k||S(D=>({...D,[O]:E}))},oe=()=>{if(!b)return 0;let O=0;return b.questions.forEach((E,D)=>{N[D]===E.correct&&O++}),O};if(d)return s.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center gap-4 bg-primary-surface/30",children:[s.jsx(yn,{className:"w-12 h-12 text-primary animate-spin"}),s.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:"Loading topic content..."})]});if(f&&!n)return s.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-primary-surface/30",children:s.jsxs("div",{className:"max-w-md p-8 bg-red-50 rounded-3xl border border-red-100 text-center shadow-xl",children:[s.jsx("p",{className:"text-red-600 font-bold mb-6",children:f}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-red-600 text-white rounded-2xl font-bold hover:bg-red-700 transition-all",children:"Retry"})]})});const T=a.findIndex(O=>O.id===(n==null?void 0:n.id));return s.jsxs("div",{className:"h-screen w-full flex flex-col bg-slate-50 overflow-hidden",children:[s.jsxs("header",{className:"h-16 flex items-center justify-between px-6 bg-primary text-white shadow-lg relative z-30 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:()=>t(`/study/${n==null?void 0:n.courseId}`),className:"flex items-center gap-2 text-white/90 hover:text-white font-bold text-sm transition-colors group px-3 py-1.5 rounded-xl hover:bg-white/10",children:[s.jsx(dr,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Course"]}),s.jsx("div",{className:"h-6 w-px bg-white/20"}),s.jsx("h1",{className:"text-lg font-black truncate max-w-md",children:(n==null?void 0:n.title)||"Study Topic"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:G,disabled:p||!n,className:he("flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-xl font-bold text-sm transition-all border border-white/20",p&&"opacity-50 cursor-not-allowed"),children:[p?s.jsx(yn,{size:16,className:"animate-spin"}):s.jsx(No,{size:16,className:"text-yellow-300"}),s.jsx("span",{children:p?"Generating AI Quiz...":"Practice with AI"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-3 pr-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-bold leading-none",children:r==null?void 0:r.email.split("@")[0]}),s.jsx("div",{className:"text-[10px] text-white/70 font-black uppercase mt-1 tracking-widest",children:r==null?void 0:r.role})]}),s.jsx("div",{className:"w-8 h-8 rounded-full border border-white/30 overflow-hidden bg-white/10",children:s.jsx("img",{src:`https://ui-avatars.com/api/?name=${r==null?void 0:r.email}&background=random`,className:"w-full h-full object-cover",alt:"Profile"})})]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsxs("aside",{className:"w-80 bg-white border-r border-gray-100 flex flex-col h-full shadow-sm z-20",children:[s.jsxs("div",{className:"p-6 border-b border-gray-50 bg-slate-50/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-sm font-black text-gray-400 uppercase tracking-widest leading-none",children:"Modules"}),s.jsxs("span",{className:"text-[10px] font-black text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:[I,"% Complete"]})]}),s.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-700",style:{width:`${I}%`}})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:a.map((O,E)=>{const D=_(O.id),R=O.id===e;return s.jsxs("button",{onClick:()=>t(`/student/study_topic/${O.id}`),className:he("w-full flex items-start gap-3 p-3.5 rounded-2xl text-left transition-all duration-300 group relative",R?"bg-primary text-white shadow-lg shadow-primary/20":"hover:bg-slate-50 text-gray-600"),children:[s.jsx("div",{className:he("mt-1 shrink-0",R?"text-white":D==="completed"?"text-green-500":"text-gray-300"),children:D==="completed"?s.jsx(Ji,{size:16,fill:R?"white":"currentColor",className:R?"text-primary":"text-white"}):s.jsx(b2,{size:16,strokeWidth:3})}),s.jsxs("div",{className:"min-w-0 pr-6",children:[s.jsxs("p",{className:"text-xs font-black uppercase opacity-60 tracking-wider mb-0.5",children:["Topic ",E+1]}),s.jsx("p",{className:"text-sm font-bold leading-tight truncate",children:O.title})]}),R&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(mu,{size:18,className:"animate-pulse"})})]},O.id)})})]}),s.jsxs("main",{className:"flex-1 overflow-y-auto bg-slate-50/30 custom-scrollbar flex flex-col relative z-10",children:[s.jsx("div",{className:"flex-1 p-6 md:p-10 lg:p-14",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-[2.5rem] shadow-sm border border-gray-100 p-8 md:p-12 min-h-[calc(100vh-12rem)]",children:[(n==null?void 0:n.content)&&s.jsx(Ex,{data:n.content,topicId:n.id}),m&&b&&s.jsx("div",{className:"mt-12 pt-12 border-t-4 border-dashed border-primary/10",children:s.jsxs("div",{className:"bg-primary/5 rounded-[2rem] p-8 border border-primary/20 shadow-inner",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary text-white rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20",children:s.jsx(i2,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-gray-800",children:"AI Practice Quiz"}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Test your knowledge on this topic"})]})]}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600 font-bold text-sm",children:"Close Quiz"})]}),s.jsx("div",{className:"space-y-8",children:b.questions.map((O,E)=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 text-primary font-black flex items-center justify-center text-sm",children:E+1}),s.jsx("p",{className:"text-lg font-bold text-gray-800 pt-0.5",children:O.question})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-12",children:O.options.map((D,R)=>{const J=N[E]===R,P=O.correct===R;return s.jsx("button",{onClick:()=>Y(E,R),className:he("w-full text-left p-4 rounded-2xl border-2 transition-all duration-300 font-bold",J?"border-primary bg-primary text-white shadow-lg shadow-primary/20":"border-gray-100 bg-white text-gray-600 hover:border-primary/30 hover:bg-primary/5",k&&P&&"border-green-500 bg-green-50 text-green-700",k&&J&&!P&&"border-red-500 bg-red-50 text-red-700"),children:D},R)})})]},E))}),k?s.jsxs("div",{className:"mt-12 p-8 bg-white rounded-[2rem] border-2 border-primary/20 text-center animate-in zoom-in-95 duration-500",children:[s.jsx("p",{className:"text-lg font-bold text-gray-500 mb-2 uppercase tracking-widest",children:"Your Result"}),s.jsxs("p",{className:"text-6xl font-black text-primary mb-6",children:[oe()," ",s.jsx("span",{className:"text-2xl text-gray-300",children:"/"})," ",b.questions.length]}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx("button",{onClick:()=>{C(!1),S({})},className:"px-8 py-3 bg-gray-100 text-gray-600 font-black rounded-2xl hover:bg-gray-200 transition-all",children:"Retry Quiz"}),s.jsxs("button",{onClick:G,className:"px-8 py-3 bg-primary text-white font-black rounded-2xl hover:bg-primary-dark shadow-lg shadow-primary/20 transition-all flex items-center gap-2",children:[s.jsx(No,{size:18}),"Generate New Quiz"]})]})]}):s.jsx("button",{onClick:()=>C(!0),className:"w-full mt-12 py-5 bg-primary text-white font-black rounded-[1.5rem] shadow-2xl shadow-primary/30 hover:bg-primary-dark transition-all text-xl",children:"Check Results"})]})})]})}),s.jsxs("div",{className:"p-4 md:p-6 bg-white/80 backdrop-blur-md border-t border-gray-100 flex items-center justify-between sticky bottom-0 z-20",children:[s.jsxs("button",{onClick:()=>{T>0&&t(`/student/study_topic/${a[T-1].id}`)},disabled:T<=0,className:"flex items-center gap-2 px-6 py-3 rounded-2xl font-bold text-gray-500 hover:text-primary transition-all disabled:opacity-0",children:[s.jsx(u2,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsx("button",{onClick:B,disabled:x,className:"flex items-center gap-2 px-10 py-3 bg-primary text-white rounded-2xl font-black shadow-xl shadow-primary/20 hover:bg-primary-dark transition-all disabled:opacity-50 group",children:x?s.jsx(yn,{size:20,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:T===a.length-1?"Finish Course":"Next Topic"}),s.jsx(fn,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})},gS={metadata:{title:"",description:"",level:"Senior 2",author:"",coverPage:"",subtitle:"",category:""},topics:[],backendCourseId:null};function xS(e,t){switch(t.type){case"UPDATE_METADATA":return{...e,metadata:{...e.metadata,...t.payload}};case"ADD_TOPIC":{const r={id:Math.random().toString(36).substr(2,9),title:t.payload.title,contentHTML:"",layoutJSON:'{"elements":[]}'};return{...e,topics:[...e.topics,r]}}case"UPDATE_TOPIC_CONTENT":return{...e,topics:e.topics.map(r=>r.id===t.payload.id?{...r,contentHTML:t.payload.contentHTML,layoutJSON:t.payload.layoutJSON}:r)};case"DELETE_TOPIC":return{...e,topics:e.topics.filter(r=>r.id!==t.payload)};case"REORDER_TOPICS":return{...e,topics:t.payload};case"SET_BACKEND_COURSE_ID":return{...e,backendCourseId:t.payload};default:return e}}const Rx=w.createContext(void 0),yS=({children:e})=>{const[t,r]=w.useReducer(xS,gS);return s.jsx(Rx.Provider,{value:{state:t,dispatch:r},children:e})},Uo=()=>{const e=w.useContext(Rx);if(!e)throw new Error("useCourse must be used within a CourseProvider");return e},Px={elements:[],selectedElementId:null,past:[],future:[],previewMode:"desktop",view:"editor"},vS=(e,t)=>{switch(t.type){case"ADD_ELEMENT":return{...e,past:[...e.past,e.elements],elements:[...e.elements,t.payload],selectedElementId:t.payload.id,future:[]};case"UPDATE_ELEMENT":{const r=e.elements.map(n=>n.id===t.payload.id?{...n,style:{...n.style,...t.payload.style},content:t.payload.content??n.content,metadata:t.payload.metadata!==void 0?{...n.metadata,...t.payload.metadata}:n.metadata,position:t.payload.position??n.position,zIndex:t.payload.zIndex??n.zIndex}:n);return{...e,past:[...e.past,e.elements],elements:r,future:[]}}case"SELECT_ELEMENT":return{...e,selectedElementId:t.payload};case"MOVE_ELEMENT":{const r=e.elements.map(n=>n.id===t.payload.id?{...n,position:{x:t.payload.x,y:t.payload.y}}:n);return{...e,elements:r}}case"REORDER_ELEMENTS":return{...e,past:[...e.past,e.elements],elements:t.payload,future:[]};case"DELETE_ELEMENT":return{...e,past:[...e.past,e.elements],elements:e.elements.filter(r=>r.id!==t.payload),selectedElementId:e.selectedElementId===t.payload?null:e.selectedElementId,future:[]};case"LOAD_TEMPLATE":return{...t.payload,past:[...e.past,e.elements],future:[],view:"editor"};case"UNDO":{if(e.past.length===0)return e;const r=e.past[e.past.length-1],n=e.past.slice(0,e.past.length-1);return{...e,past:n,elements:r,future:[e.elements,...e.future]}}case"REDO":{if(e.future.length===0)return e;const r=e.future[0],n=e.future.slice(1);return{...e,past:[...e.past,e.elements],elements:r,future:n}}case"CLEAR_CANVAS":return{...e,past:[...e.past,e.elements],elements:[],selectedElementId:null,future:[]};case"SET_PREVIEW_MODE":return{...e,previewMode:t.payload};case"SET_VIEW":return{...e,view:t.payload};case"LOAD_STATE":return{...Px,elements:t.payload.elements,view:"editor"};default:return e}},zx=w.createContext(void 0),bS=({children:e})=>{const[t,r]=w.useReducer(vS,Px);return s.jsx(zx.Provider,{value:{state:t,dispatch:r},children:e})},js=()=>{const e=w.useContext(zx);if(!e)throw new Error("useEditor must be used within an EditorProvider");return e},wS=()=>{var l;const{state:e,dispatch:t}=Uo(),{user:r}=Qe(),n=Ee(),[o,a]=w.useState({...e.metadata,author:e.metadata.author||(r==null?void 0:r.name)||((l=r==null?void 0:r.email)==null?void 0:l.split("@")[0])||""}),i=async c=>{c.preventDefault();try{const u=(await lx(o)).data.id;localStorage.setItem("course_id",u),t({type:"UPDATE_METADATA",payload:o}),n("/facilitator/course-outline")}catch(d){console.error("Failed to create course:",d)}};return s.jsx("div",{className:"min-h-screen bg-[#FDFEFE] flex items-center justify-center p-6 bg-[radial-gradient(#274C46_0.5px,transparent_0.5px)] [background-size:24px_24px] [background-opacity:0.05]",children:s.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-[2.5rem] shadow-[0_20px_50px_rgba(39,76,70,0.1)] border border-gray-100 overflow-hidden animate-in fade-in slide-in-from-bottom-8 duration-700",children:[s.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark p-10 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("div",{className:"bg-white/10 w-14 h-14 rounded-2xl flex items-center justify-center backdrop-blur-md border border-white/20 shadow-inner",children:s.jsx(Ut,{size:28})}),s.jsx("button",{onClick:()=>n("/facilitator/dashboard"),className:"p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all border border-white/10 text-white backdrop-blur-sm cursor-pointer group",title:"Back to Dashboard",children:s.jsx(En,{size:20,className:"group-hover:rotate-90 transition-transform duration-300"})})]}),s.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"Course Creator"}),s.jsx("p",{className:"text-primary-surface/80 mt-3 font-medium text-lg",children:"Let's set up the foundation of your new learning module."})]}),s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"})]}),s.jsxs("form",{onSubmit:i,className:"p-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(Ut,{size:16,className:"text-primary"})," Course Title"]}),s.jsx("input",{required:!0,type:"text",value:o.title,onChange:c=>a({...o,title:c.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:bg-white transition-all outline-none",placeholder:"e.g. BIOLOGY"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(gi,{size:16,className:"text-primary"})," Author"]}),s.jsx("input",{required:!0,type:"text",value:o.author,onChange:c=>a({...o,author:c.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:bg-white transition-all outline-none",placeholder:"e.g. Maximillien TUYISHIME"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(e2,{size:16,className:"text-primary"})," Grade / Level"]}),s.jsxs("select",{value:o.level,onChange:c=>a({...o,level:c.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:bg-white transition-all outline-none",children:[s.jsx("option",{value:"P1",children:"Primary 1"}),s.jsx("option",{value:"P2",children:"Primary 2"}),s.jsx("option",{value:"P3",children:"Primary 3"}),s.jsx("option",{value:"P4",children:"Primary 4"}),s.jsx("option",{value:"P5",children:"Primary 5"}),s.jsx("option",{value:"P6",children:"Primary 6"}),s.jsx("option",{value:"S1",children:"Senior 1"}),s.jsx("option",{value:"S2",children:"Senior 2"}),s.jsx("option",{value:"S3",children:"Senior 3"}),s.jsx("option",{value:"S4",children:"Senior 4"}),s.jsx("option",{value:"S5",children:"Senior 5"}),s.jsx("option",{value:"S6",children:"Senior 6"}),s.jsx("option",{value:"L3",children:"Level 3"}),s.jsx("option",{value:"L4",children:"Level 4"}),s.jsx("option",{value:"L5",children:"Level 5"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(zj,{size:16,className:"text-primary"})," Category (Optional)"]}),s.jsx("input",{type:"text",value:o.category,onChange:c=>a({...o,category:c.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:bg-white transition-all outline-none",placeholder:"e.g. Science"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(gu,{size:16,className:"text-primary"})," Cover Page"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("input",{type:"text",value:o.coverPage,onChange:c=>a({...o,coverPage:c.target.value}),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:bg-white transition-all outline-none",placeholder:"Enter image URL"}),s.jsxs("label",{className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 px-6 py-2 rounded-xl cursor-pointer transition-all border border-gray-200 font-semibold text-sm",children:[s.jsx(ox,{size:18}),s.jsx("span",{children:"Upload local"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:c=>{var u;const d=(u=c.target.files)==null?void 0:u[0];if(d){const f=new FileReader;f.onloadend=()=>{a({...o,coverPage:f.result})},f.readAsDataURL(d)}}})]})]}),o.coverPage&&s.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden border border-gray-200 group",children:[s.jsx("img",{src:o.coverPage,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>a({...o,coverPage:""}),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(En,{size:16})})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(Xi,{size:16,className:"text-primary"})," Description"]}),s.jsx("textarea",{required:!0,value:o.description,onChange:c=>a({...o,description:c.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:bg-white transition-all outline-none min-h-[120px]",placeholder:"What will students learn in this course?"})]})]}),s.jsxs("div",{className:"pt-8 flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>n("/facilitator/dashboard"),className:"flex-1 py-4 bg-gray-50 text-gray-400 rounded-2xl font-bold hover:bg-gray-100 hover:text-gray-600 transition-all border border-gray-100 active:scale-95 text-sm uppercase tracking-widest",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-[2] py-4 bg-primary text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-primary-dark transition-all shadow-[0_10px_30px_rgba(39,76,70,0.3)] active:scale-95 text-sm uppercase tracking-widest",children:["Save and Continue to Outline",s.jsx(kn,{size:20})]})]})]})]})})},_x=e=>e.map(t=>{const r=Object.entries(t.style).map(([n,o])=>`${n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}: ${o}`).join(";");return`#${t.id} { ${r}; margin-left: auto; margin-right: auto; }`}).join(`
`),Tx=e=>e.map(t=>{let r="";switch(t.type){case"text":r=`<p style="margin: 0; line-height: 1.6;">${t.content}</p>`;break;case"image":r=`<img src="${t.content}" alt="Image" style="width: 100%; height: auto; border-radius: 8px;" />`;break;case"hero":{const n=(t.content||"").split(`
`);r=`<div style="padding: 60px 20px; text-align: center;">
                    <h1 style="font-size: clamp(32px, 8vw, 48px); margin-bottom: 12px; font-weight: 800; line-height: 1.1;">${n[0]||""}</h1>
                    <p style="font-size: clamp(18px, 4vw, 20px); color: #666; max-width: 600px; margin: 0 auto;">${n[1]||""}</p>
                </div>`;break}case"list":{r=`<div style="padding: 10px 0;">
                    <ul style="list-style: none; padding: 0; margin: 0;">
                        ${(t.content||"").split(",").map(o=>`<li style="display: flex; align-items: flex-start; margin-bottom: 12px; font-size: 16px;">
                            <span style="display: inline-block; width: 8px; height: 8px; background: #3b82f6; border-radius: 50%; margin-right: 12px; margin-top: 6px; flex-shrink: 0;"></span>
                            <span style="line-height: 1.5;">${o.trim()}</span>
                        </li>`).join("")}
                    </ul>
                </div>`;break}case"container":r='<div style="min-height: 50px; border: 1px dashed #eee; border-radius: 4px;"></div>';break}return`<div id="${t.id}" class="element-wrapper">${r}</div>`}).join(`
`),jS=e=>{const t=_x(e.elements),r=Tx(e.elements);return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exported Topic</title>
    <style>
        body { margin: 0; padding: 40px 20px; font-family: system-ui, -apple-system, sans-serif; color: #1a1a1a; background: #fff; line-height: 1.5; }
        .container { max-width: 800px; margin: 0 auto; }
        .element-wrapper { margin-bottom: 24px; width: 100%; }
        ${t}
    </style>
</head>
<body>
    <div class="container">${r}</div>
</body>
</html>`},NS=e=>{const{metadata:t,topics:r}=e,n=r.map(o=>{let a=[];try{const i=JSON.parse(o.layoutJSON||'{"elements":[]}');a=i.elements||(Array.isArray(i)?i:[])}catch{a=[]}return{id:o.id,title:o.title,styles:_x(a),body:Tx(a)}});return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t.title}</title>
    <style>
        :root { --primary: #2563eb; --bg: #f8fafc; --text: #0f172a; }
        body { margin: 0; font-family: system-ui, -apple-system, sans-serif; display: flex; height: 100vh; overflow: hidden; background: var(--bg); color: var(--text); }
        
        /* Sidebar */
        aside { width: 300px; background: #fff; border-right: 1px solid #e2e8f0; display: flex; flex-direction: column; }
        .aside-header { padding: 24px; border-bottom: 1px solid #f1f5f9; }
        .aside-header h1 { font-size: 1.25rem; margin: 0; color: var(--text); }
        .aside-header p { font-size: 0.875rem; color: #64748b; margin: 8px 0 0; }
        nav { flex: 1; overflow-y: auto; padding: 12px; }
        .nav-item { display: block; padding: 12px 16px; border-radius: 8px; text-decoration: none; color: #475569; margin-bottom: 4px; transition: all 0.2s; cursor: pointer; font-weight: 500; }
        .nav-item:hover { background: #f1f5f9; color: var(--primary); }
        .nav-item.active { background: #eff6ff; color: var(--primary); }

        /* Content */
        main { flex: 1; overflow-y: auto; padding: 60px 20px; position: relative; scroll-behavior: smooth; }
        .content-container { max-width: 800px; margin: 0 auto; background: #fff; padding: 60px; border-radius: 24px; shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
        .topic-section { display: none; }
        .topic-section.active { display: block; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .element-wrapper { margin-bottom: 24px; width: 100%; }
        
        ${n.map(o=>o.styles).join(`
`)}
    </style>
</head>
<body>
    <aside>
        <div className="aside-header">
            <h1>${t.title}</h1>
            <p>${t.category}  ${t.level.charAt(0).toUpperCase()+t.level.slice(1)}</p>
        </div>
        <nav id="topic-nav">
            ${n.map((o,a)=>`
                <a class="nav-item ${a===0?"active":""}" onclick="showTopic('${o.id}')">
                    ${a+1}. ${o.title}
                </a>
            `).join("")}
        </nav>
    </aside>

    <main>
        <div class="content-container">
            ${n.map((o,a)=>`
                <section id="section-${o.id}" class="topic-section ${a===0?"active":""}">
                    ${o.body}
                </section>
            `).join("")}
        </div>
    </main>

    <script>
        function showTopic(id) {
            // Update sections
            document.querySelectorAll('.topic-section').forEach(s => s.classList.remove('active'));
            document.getElementById('section-' + id).classList.add('active');
            
            // Update nav
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            event.target.classList.add('active');
            
            // Scroll to top
            document.querySelector('main').scrollTop = 0;
        }
    <\/script>
</body>
</html>`},SS=e=>({metadata:{title:e.metadata.title,description:e.metadata.description,category:e.metadata.category,level:e.metadata.level},topics:e.topics.map(t=>{let r=[];try{const n=JSON.parse(t.layoutJSON||'{"elements":[]}');r=n.elements||n}catch{r=[]}return{id:t.id,title:t.title,elements:r}})}),kS=(e,t,r)=>({id:t,title:r,elements:e});function CS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.useMemo(()=>n=>{t.forEach(o=>o(n))},t)}const Zi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ns(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ju(e){return"nodeType"in e}function rt(e){var t,r;return e?Ns(e)?e:ju(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Nu(e){const{Document:t}=rt(e);return e instanceof t}function $o(e){return Ns(e)?!1:e instanceof rt(e).HTMLElement}function Dx(e){return e instanceof rt(e).SVGElement}function Ss(e){return e?Ns(e)?e.document:ju(e)?Nu(e)?e:$o(e)||Dx(e)?e.ownerDocument:document:document:document}const Bt=Zi?w.useLayoutEffect:w.useEffect;function el(e){const t=w.useRef(e);return Bt(()=>{t.current=e}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function ES(){const e=w.useRef(null),t=w.useCallback((n,o)=>{e.current=setInterval(n,o)},[]),r=w.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function ko(e,t){t===void 0&&(t=[e]);const r=w.useRef(e);return Bt(()=>{r.current!==e&&(r.current=e)},t),r}function Bo(e,t){const r=w.useRef();return w.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function vi(e){const t=el(e),r=w.useRef(null),n=w.useCallback(o=>{o!==r.current&&(t==null||t(o,r.current)),r.current=o},[]);return[r,n]}function bi(e){const t=w.useRef();return w.useEffect(()=>{t.current=e},[e]),t.current}let Jl={};function Wo(e,t){return w.useMemo(()=>{if(t)return t;const r=Jl[e]==null?0:Jl[e]+1;return Jl[e]=r,e+"-"+r},[e,t])}function Mx(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((a,i)=>{const l=Object.entries(i);for(const[c,d]of l){const u=a[c];u!=null&&(a[c]=u+e*d)}return a},{...t})}}const os=Mx(1),Co=Mx(-1);function RS(e){return"clientX"in e&&"clientY"in e}function tl(e){if(!e)return!1;const{KeyboardEvent:t}=rt(e.target);return t&&e instanceof t}function PS(e){if(!e)return!1;const{TouchEvent:t}=rt(e.target);return t&&e instanceof t}function wi(e){if(PS(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return RS(e)?{x:e.clientX,y:e.clientY}:null}const Kr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Kr.Translate.toString(e),Kr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),_p="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zS(e){return e.matches(_p)?e:e.querySelector(_p)}const _S={display:"none"};function TS(e){let{id:t,value:r}=e;return V.createElement("div",{id:t,style:_S},r)}function DS(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return V.createElement("div",{id:t,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function MS(){const[e,t]=w.useState("");return{announce:w.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const Ox=w.createContext(null);function OS(e){const t=w.useContext(Ox);w.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function LS(){const[e]=w.useState(()=>new Set),t=w.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[w.useCallback(n=>{let{type:o,event:a}=n;e.forEach(i=>{var l;return(l=i[o])==null?void 0:l.call(i,a)})},[e]),t]}const AS={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},IS={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function FS(e){let{announcements:t=IS,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=AS}=e;const{announce:a,announcement:i}=MS(),l=Wo("DndLiveRegion"),[c,d]=w.useState(!1);if(w.useEffect(()=>{d(!0)},[]),OS(w.useMemo(()=>({onDragStart(f){let{active:g}=f;a(t.onDragStart({active:g}))},onDragMove(f){let{active:g,over:x}=f;t.onDragMove&&a(t.onDragMove({active:g,over:x}))},onDragOver(f){let{active:g,over:x}=f;a(t.onDragOver({active:g,over:x}))},onDragEnd(f){let{active:g,over:x}=f;a(t.onDragEnd({active:g,over:x}))},onDragCancel(f){let{active:g,over:x}=f;a(t.onDragCancel({active:g,over:x}))}}),[a,t])),!c)return null;const u=V.createElement(V.Fragment,null,V.createElement(TS,{id:n,value:o.draggable}),V.createElement(DS,{id:l,announcement:i}));return r?Kt.createPortal(u,r):u}var De;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(De||(De={}));function ji(){}function ad(e,t){return w.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Lx(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Wt=Object.freeze({x:0,y:0});function Ax(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function US(e,t){const r=wi(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function Ix(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function $S(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Tp(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function Fx(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Dp(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const BS=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=Dp(t,t.left,t.top),a=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const d=Ax(Dp(c),o);a.push({id:l,data:{droppableContainer:i,value:d}})}}return a.sort(Ix)},WS=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=Tp(t),a=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const d=Tp(c),u=o.reduce((g,x,y)=>g+Ax(d[y],x),0),f=Number((u/4).toFixed(4));a.push({id:l,data:{droppableContainer:i,value:f}})}}return a.sort(Ix)};function HS(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-n,l=a-r;if(n<o&&r<a){const c=t.width*t.height,d=e.width*e.height,u=i*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const VS=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const a of n){const{id:i}=a,l=r.get(i);if(l){const c=HS(l,t);c>0&&o.push({id:i,data:{droppableContainer:a,value:c}})}}return o.sort($S)};function qS(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Ux(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wt}function GS(e){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return o.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...r})}}const YS=GS(1);function $x(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function JS(e,t,r){const n=$x(t);if(!n)return e;const{scaleX:o,scaleY:a,x:i,y:l}=n,c=e.left-i-(1-o)*parseFloat(r),d=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),u=o?e.width/o:e.width,f=a?e.height/a:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const QS={ignoreTransform:!1};function ks(e,t){t===void 0&&(t=QS);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=rt(e).getComputedStyle(e);d&&(r=JS(r,d,u))}const{top:n,left:o,width:a,height:i,bottom:l,right:c}=r;return{top:n,left:o,width:a,height:i,bottom:l,right:c}}function Mp(e){return ks(e,{ignoreTransform:!0})}function XS(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function KS(e,t){return t===void 0&&(t=rt(e).getComputedStyle(e)),t.position==="fixed"}function ZS(e,t){t===void 0&&(t=rt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=t[o];return typeof a=="string"?r.test(a):!1})}function rl(e,t){const r=[];function n(o){if(t!=null&&r.length>=t||!o)return r;if(Nu(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!$o(o)||Dx(o)||r.includes(o))return r;const a=rt(e).getComputedStyle(o);return o!==e&&ZS(o,a)&&r.push(o),KS(o,a)?r:n(o.parentNode)}return e?n(e):r}function Bx(e){const[t]=rl(e,1);return t??null}function Ql(e){return!Zi||!e?null:Ns(e)?e:ju(e)?Nu(e)||e===Ss(e).scrollingElement?window:$o(e)?e:null:null}function Wx(e){return Ns(e)?e.scrollX:e.scrollLeft}function Hx(e){return Ns(e)?e.scrollY:e.scrollTop}function id(e){return{x:Wx(e),y:Hx(e)}}var Le;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Le||(Le={}));function Vx(e){return!Zi||!e?!1:e===document.scrollingElement}function qx(e){const t={x:0,y:0},r=Vx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:o,isLeft:a,isBottom:i,isRight:l,maxScroll:n,minScroll:t}}const ek={x:.2,y:.2};function tk(e,t,r,n,o){let{top:a,left:i,right:l,bottom:c}=r;n===void 0&&(n=10),o===void 0&&(o=ek);const{isTop:d,isBottom:u,isLeft:f,isRight:g}=qx(e),x={x:0,y:0},y={x:0,y:0},b={height:t.height*o.y,width:t.width*o.x};return!d&&a<=t.top+b.height?(x.y=Le.Backward,y.y=n*Math.abs((t.top+b.height-a)/b.height)):!u&&c>=t.bottom-b.height&&(x.y=Le.Forward,y.y=n*Math.abs((t.bottom-b.height-c)/b.height)),!g&&l>=t.right-b.width?(x.x=Le.Forward,y.x=n*Math.abs((t.right-b.width-l)/b.width)):!f&&i<=t.left+b.width&&(x.x=Le.Backward,y.x=n*Math.abs((t.left+b.width-i)/b.width)),{direction:x,speed:y}}function rk(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Gx(e){return e.reduce((t,r)=>os(t,id(r)),Wt)}function nk(e){return e.reduce((t,r)=>t+Wx(r),0)}function sk(e){return e.reduce((t,r)=>t+Hx(r),0)}function Yx(e,t){if(t===void 0&&(t=ks),!e)return;const{top:r,left:n,bottom:o,right:a}=t(e);Bx(e)&&(o<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ok=[["x",["left","right"],nk],["y",["top","bottom"],sk]];class Su{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=rl(r),o=Gx(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,l]of ok)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=l(n),u=o[a]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var o;(o=this.target)==null||o.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function ak(e){const{EventTarget:t}=rt(e);return e instanceof t?e:Ss(e)}function Xl(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var kt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(kt||(kt={}));function Op(e){e.preventDefault()}function ik(e){e.stopPropagation()}var se;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(se||(se={}));const Jx={start:[se.Space,se.Enter],cancel:[se.Esc],end:[se.Space,se.Enter,se.Tab]},lk=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case se.Right:return{...r,x:r.x+25};case se.Left:return{...r,x:r.x-25};case se.Down:return{...r,y:r.y+25};case se.Up:return{...r,y:r.y-25}}};class ku{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new eo(Ss(r)),this.windowListeners=new eo(rt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kt.Resize,this.handleCancel),this.windowListeners.add(kt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Yx(n),r(Wt)}handleKeyDown(t){if(tl(t)){const{active:r,context:n,options:o}=this.props,{keyboardCodes:a=Jx,coordinateGetter:i=lk,scrollBehavior:l="smooth"}=o,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:Wt;this.referenceCoordinates||(this.referenceCoordinates=u);const f=i(t,{active:r,context:n.current,currentCoordinates:u});if(f){const g=Co(f,u),x={x:0,y:0},{scrollableAncestors:y}=n.current;for(const b of y){const v=t.code,{isTop:p,isRight:h,isLeft:m,isBottom:j,maxScroll:N,minScroll:S}=qx(b),k=rk(b),C={x:Math.min(v===se.Right?k.right-k.width/2:k.right,Math.max(v===se.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(v===se.Down?k.bottom-k.height/2:k.bottom,Math.max(v===se.Down?k.top:k.top+k.height/2,f.y))},_=v===se.Right&&!h||v===se.Left&&!m,M=v===se.Down&&!j||v===se.Up&&!p;if(_&&C.x!==f.x){const I=b.scrollLeft+g.x,B=v===se.Right&&I<=N.x||v===se.Left&&I>=S.x;if(B&&!g.y){b.scrollTo({left:I,behavior:l});return}B?x.x=b.scrollLeft-I:x.x=v===se.Right?b.scrollLeft-N.x:b.scrollLeft-S.x,x.x&&b.scrollBy({left:-x.x,behavior:l});break}else if(M&&C.y!==f.y){const I=b.scrollTop+g.y,B=v===se.Down&&I<=N.y||v===se.Up&&I>=S.y;if(B&&!g.x){b.scrollTo({top:I,behavior:l});return}B?x.y=b.scrollTop-I:x.y=v===se.Down?b.scrollTop-N.y:b.scrollTop-S.y,x.y&&b.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(t,os(Co(f,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ku.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Jx,onActivation:o}=t,{active:a}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Lp(e){return!!(e&&"distance"in e)}function Ap(e){return!!(e&&"delay"in e)}class Cu{constructor(t,r,n){var o;n===void 0&&(n=ak(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:i}=a;this.props=t,this.events=r,this.document=Ss(i),this.documentListeners=new eo(this.document),this.listeners=new eo(n),this.windowListeners=new eo(rt(i)),this.initialCoordinates=(o=wi(a))!=null?o:Wt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(kt.Resize,this.handleCancel),this.windowListeners.add(kt.DragStart,Op),this.windowListeners.add(kt.VisibilityChange,this.handleCancel),this.windowListeners.add(kt.ContextMenu,Op),this.documentListeners.add(kt.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ap(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Lp(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:o}=this.props;o(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(kt.Click,ik,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kt.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:o,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!o)return;const c=(r=wi(t))!=null?r:Wt,d=Co(o,c);if(!n&&l){if(Lp(l)){if(l.tolerance!=null&&Xl(d,l.tolerance))return this.handleCancel();if(Xl(d,l.distance))return this.handleStart()}if(Ap(l)&&Xl(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===se.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ck={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class nl extends Cu{constructor(t){const{event:r}=t,n=Ss(r.target);super(t,ck,n)}}nl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const dk={move:{name:"mousemove"},end:{name:"mouseup"}};var ld;(function(e){e[e.RightClick=2]="RightClick"})(ld||(ld={}));class uk extends Cu{constructor(t){super(t,dk,Ss(t.event.target))}}uk.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===ld.RightClick?!1:(n==null||n({event:r}),!0)}}];const Kl={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fk extends Cu{constructor(t){super(t,Kl)}static setup(){return window.addEventListener(Kl.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kl.move.name,t)};function t(){}}}fk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return o.length>1?!1:(n==null||n({event:r}),!0)}}];var to;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(to||(to={}));var Ni;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ni||(Ni={}));function pk(e){let{acceleration:t,activator:r=to.Pointer,canScroll:n,draggingRect:o,enabled:a,interval:i=5,order:l=Ni.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:g}=e;const x=mk({delta:f,disabled:!a}),[y,b]=ES(),v=w.useRef({x:0,y:0}),p=w.useRef({x:0,y:0}),h=w.useMemo(()=>{switch(r){case to.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case to.DraggableRect:return o}},[r,o,c]),m=w.useRef(null),j=w.useCallback(()=>{const S=m.current;if(!S)return;const k=v.current.x*p.current.x,C=v.current.y*p.current.y;S.scrollBy(k,C)},[]),N=w.useMemo(()=>l===Ni.TreeOrder?[...d].reverse():d,[l,d]);w.useEffect(()=>{if(!a||!d.length||!h){b();return}for(const S of N){if((n==null?void 0:n(S))===!1)continue;const k=d.indexOf(S),C=u[k];if(!C)continue;const{direction:_,speed:M}=tk(S,C,h,t,g);for(const I of["x","y"])x[I][_[I]]||(M[I]=0,_[I]=0);if(M.x>0||M.y>0){b(),m.current=S,y(j,i),v.current=M,p.current=_;return}}v.current={x:0,y:0},p.current={x:0,y:0},b()},[t,j,n,b,a,i,JSON.stringify(h),JSON.stringify(x),y,d,N,u,JSON.stringify(g)])}const hk={x:{[Le.Backward]:!1,[Le.Forward]:!1},y:{[Le.Backward]:!1,[Le.Forward]:!1}};function mk(e){let{delta:t,disabled:r}=e;const n=bi(t);return Bo(o=>{if(r||!n||!o)return hk;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Le.Backward]:o.x[Le.Backward]||a.x===-1,[Le.Forward]:o.x[Le.Forward]||a.x===1},y:{[Le.Backward]:o.y[Le.Backward]||a.y===-1,[Le.Forward]:o.y[Le.Forward]||a.y===1}}},[r,t,n])}function gk(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Bo(o=>{var a;return t==null?null:(a=n??o)!=null?a:null},[n,t])}function xk(e,t){return w.useMemo(()=>e.reduce((r,n)=>{const{sensor:o}=n,a=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...a]},[]),[e,t])}var Eo;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Eo||(Eo={}));var cd;(function(e){e.Optimized="optimized"})(cd||(cd={}));const Ip=new Map;function yk(e,t){let{dragging:r,dependencies:n,config:o}=t;const[a,i]=w.useState(null),{frequency:l,measure:c,strategy:d}=o,u=w.useRef(e),f=v(),g=ko(f),x=w.useCallback(function(p){p===void 0&&(p=[]),!g.current&&i(h=>h===null?p:h.concat(p.filter(m=>!h.includes(m))))},[g]),y=w.useRef(null),b=Bo(p=>{if(f&&!r)return Ip;if(!p||p===Ip||u.current!==e||a!=null){const h=new Map;for(let m of e){if(!m)continue;if(a&&a.length>0&&!a.includes(m.id)&&m.rect.current){h.set(m.id,m.rect.current);continue}const j=m.node.current,N=j?new Su(c(j),j):null;m.rect.current=N,N&&h.set(m.id,N)}return h}return p},[e,a,r,f,c]);return w.useEffect(()=>{u.current=e},[e]),w.useEffect(()=>{f||x()},[r,f]),w.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),w.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{x(),y.current=null},l))},[l,f,x,...n]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:a!=null};function v(){switch(d){case Eo.Always:return!1;case Eo.BeforeDragging:return r;default:return!r}}}function Eu(e,t){return Bo(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function vk(e,t){return Eu(e,t)}function bk(e){let{callback:t,disabled:r}=e;const n=el(t),o=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return w.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function sl(e){let{callback:t,disabled:r}=e;const n=el(t),o=w.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return w.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function wk(e){return new Su(ks(e),e)}function Fp(e,t,r){t===void 0&&(t=wk);const[n,o]=w.useState(null);function a(){o(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??r)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const i=bk({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=sl({callback:a});return Bt(()=>{a(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),n}function jk(e){const t=Eu(e);return Ux(e,t)}const Up=[];function Nk(e){const t=w.useRef(e),r=Bo(n=>e?n&&n!==Up&&e&&t.current&&e.parentNode===t.current.parentNode?n:rl(e):Up,[e]);return w.useEffect(()=>{t.current=e},[e]),r}function Sk(e){const[t,r]=w.useState(null),n=w.useRef(e),o=w.useCallback(a=>{const i=Ql(a.target);i&&r(l=>l?(l.set(i,id(i)),new Map(l)):null)},[]);return w.useEffect(()=>{const a=n.current;if(e!==a){i(a);const l=e.map(c=>{const d=Ql(c);return d?(d.addEventListener("scroll",o,{passive:!0}),[d,id(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{i(e),i(a)};function i(l){l.forEach(c=>{const d=Ql(c);d==null||d.removeEventListener("scroll",o)})}},[o,e]),w.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>os(a,i),Wt):Gx(e):Wt,[e,t])}function $p(e,t){t===void 0&&(t=[]);const r=w.useRef(null);return w.useEffect(()=>{r.current=null},t),w.useEffect(()=>{const n=e!==Wt;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Co(e,r.current):Wt}function kk(e){w.useEffect(()=>{if(!Zi)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Ck(e,t){return w.useMemo(()=>e.reduce((r,n)=>{let{eventName:o,handler:a}=n;return r[o]=i=>{a(i,t)},r},{}),[e,t])}function Qx(e){return w.useMemo(()=>e?XS(e):null,[e])}const Bp=[];function Ek(e,t){t===void 0&&(t=ks);const[r]=e,n=Qx(r?rt(r):null),[o,a]=w.useState(Bp);function i(){a(()=>e.length?e.map(c=>Vx(c)?n:new Su(t(c),c)):Bp)}const l=sl({callback:i});return Bt(()=>{l==null||l.disconnect(),i(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),o}function Xx(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return $o(t)?t:e}function Rk(e){let{measure:t}=e;const[r,n]=w.useState(null),o=w.useCallback(d=>{for(const{target:u}of d)if($o(u)){n(f=>{const g=t(u);return f?{...f,width:g.width,height:g.height}:g});break}},[t]),a=sl({callback:o}),i=w.useCallback(d=>{const u=Xx(d);a==null||a.disconnect(),u&&(a==null||a.observe(u)),n(u?t(u):null)},[t,a]),[l,c]=vi(i);return w.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Pk=[{sensor:nl,options:{}},{sensor:ku,options:{}}],zk={current:{}},Aa={draggable:{measure:Mp},droppable:{measure:Mp,strategy:Eo.WhileDragging,frequency:cd.Optimized},dragOverlay:{measure:ks}};class ro extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const _k={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ro,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ji},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Aa,measureDroppableContainers:ji,windowRect:null,measuringScheduled:!1},Kx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ji,draggableNodes:new Map,over:null,measureDroppableContainers:ji},Ho=w.createContext(Kx),Zx=w.createContext(_k);function Tk(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ro}}}function Dk(e,t){switch(t.type){case De.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case De.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case De.DragEnd:case De.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case De.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new ro(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case De.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new ro(e.droppable.containers);return i.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case De.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const a=new ro(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Mk(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:o}=w.useContext(Ho),a=bi(n),i=bi(r==null?void 0:r.id);return w.useEffect(()=>{if(!t&&!n&&a&&i!=null){if(!tl(a)||document.activeElement===a.target)return;const l=o.get(i);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=zS(u);if(f){f.focus();break}}})}},[n,t,o,i,a]),null}function e0(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...n}),r):r}function Ok(e){return w.useMemo(()=>({draggable:{...Aa.draggable,...e==null?void 0:e.draggable},droppable:{...Aa.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Aa.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Lk(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e;const a=w.useRef(!1),{x:i,y:l}=typeof o=="boolean"?{x:o,y:o}:o;Bt(()=>{if(!i&&!l||!t){a.current=!1;return}if(a.current||!n)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=r(d),f=Ux(u,n);if(i||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const g=Bx(d);g&&g.scrollBy({top:f.y,left:f.x})}},[t,i,l,n,r])}const ol=w.createContext({...Wt,scaleX:1,scaleY:1});var Tr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Tr||(Tr={}));const t0=w.memo(function(t){var r,n,o,a;let{id:i,accessibility:l,autoScroll:c=!0,children:d,sensors:u=Pk,collisionDetection:f=VS,measuring:g,modifiers:x,...y}=t;const b=w.useReducer(Dk,void 0,Tk),[v,p]=b,[h,m]=LS(),[j,N]=w.useState(Tr.Uninitialized),S=j===Tr.Initialized,{draggable:{active:k,nodes:C,translate:_},droppable:{containers:M}}=v,I=k!=null?C.get(k):null,B=w.useRef({initial:null,translated:null}),G=w.useMemo(()=>{var We;return k!=null?{id:k,data:(We=I==null?void 0:I.data)!=null?We:zk,rect:B}:null},[k,I]),Y=w.useRef(null),[oe,T]=w.useState(null),[O,E]=w.useState(null),D=ko(y,Object.values(y)),R=Wo("DndDescribedBy",i),J=w.useMemo(()=>M.getEnabled(),[M]),P=Ok(g),{droppableRects:$,measureDroppableContainers:Q,measuringScheduled:A}=yk(J,{dragging:S,dependencies:[_.x,_.y],config:P.droppable}),F=gk(C,k),re=w.useMemo(()=>O?wi(O):null,[O]),ne=D0(),K=vk(F,P.draggable.measure);Lk({activeNode:k!=null?C.get(k):null,config:ne.layoutShiftCompensation,initialRect:K,measure:P.draggable.measure});const ee=Fp(F,P.draggable.measure,K),Re=Fp(F?F.parentElement:null),ye=w.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=M.getNodeFor((r=ye.current.over)==null?void 0:r.id),nt=Rk({measure:P.dragOverlay.measure}),Dn=(n=nt.nodeRef.current)!=null?n:F,Mn=S?(o=nt.rect)!=null?o:ee:null,Tu=!!(nt.nodeRef.current&&nt.rect),Du=jk(Tu?null:ee),dl=Qx(Dn?rt(Dn):null),br=Nk(S?Be??F:null),Vo=Ek(br),qo=e0(x,{transform:{x:_.x-Du.x,y:_.y-Du.y,scaleX:1,scaleY:1},activatorEvent:O,active:G,activeNodeRect:ee,containerNodeRect:Re,draggingNodeRect:Mn,over:ye.current.over,overlayNodeRect:nt.rect,scrollableAncestors:br,scrollableAncestorRects:Vo,windowRect:dl}),Mu=re?os(re,_):null,Ou=Sk(br),C0=$p(Ou),E0=$p(Ou,[ee]),On=os(qo,C0),Ln=Mn?YS(Mn,qo):null,Cs=G&&Ln?f({active:G,collisionRect:Ln,droppableRects:$,droppableContainers:J,pointerCoordinates:Mu}):null,Lu=Fx(Cs,"id"),[wr,Au]=w.useState(null),R0=Tu?qo:os(qo,E0),P0=qS(R0,(a=wr==null?void 0:wr.rect)!=null?a:null,ee),ul=w.useRef(null),Iu=w.useCallback((We,ft)=>{let{sensor:pt,options:jr}=ft;if(Y.current==null)return;const Nt=C.get(Y.current);if(!Nt)return;const ht=We.nativeEvent,Vt=new pt({active:Y.current,activeNode:Nt,event:ht,options:jr,context:ye,onAbort(Ie){if(!C.get(Ie))return;const{onDragAbort:qt}=D.current,nr={id:Ie};qt==null||qt(nr),h({type:"onDragAbort",event:nr})},onPending(Ie,Nr,qt,nr){if(!C.get(Ie))return;const{onDragPending:Rs}=D.current,Sr={id:Ie,constraint:Nr,initialCoordinates:qt,offset:nr};Rs==null||Rs(Sr),h({type:"onDragPending",event:Sr})},onStart(Ie){const Nr=Y.current;if(Nr==null)return;const qt=C.get(Nr);if(!qt)return;const{onDragStart:nr}=D.current,Es={activatorEvent:ht,active:{id:Nr,data:qt.data,rect:B}};Kt.unstable_batchedUpdates(()=>{nr==null||nr(Es),N(Tr.Initializing),p({type:De.DragStart,initialCoordinates:Ie,active:Nr}),h({type:"onDragStart",event:Es}),T(ul.current),E(ht)})},onMove(Ie){p({type:De.DragMove,coordinates:Ie})},onEnd:An(De.DragEnd),onCancel:An(De.DragCancel)});ul.current=Vt;function An(Ie){return async function(){const{active:qt,collisions:nr,over:Es,scrollAdjustedTranslate:Rs}=ye.current;let Sr=null;if(qt&&Rs){const{cancelDrop:Ps}=D.current;Sr={activatorEvent:ht,active:qt,collisions:nr,delta:Rs,over:Es},Ie===De.DragEnd&&typeof Ps=="function"&&await Promise.resolve(Ps(Sr))&&(Ie=De.DragCancel)}Y.current=null,Kt.unstable_batchedUpdates(()=>{p({type:Ie}),N(Tr.Uninitialized),Au(null),T(null),E(null),ul.current=null;const Ps=Ie===De.DragEnd?"onDragEnd":"onDragCancel";if(Sr){const fl=D.current[Ps];fl==null||fl(Sr),h({type:Ps,event:Sr})}})}}},[C]),z0=w.useCallback((We,ft)=>(pt,jr)=>{const Nt=pt.nativeEvent,ht=C.get(jr);if(Y.current!==null||!ht||Nt.dndKit||Nt.defaultPrevented)return;const Vt={active:ht};We(pt,ft.options,Vt)===!0&&(Nt.dndKit={capturedBy:ft.sensor},Y.current=jr,Iu(pt,ft))},[C,Iu]),Fu=xk(u,z0);kk(u),Bt(()=>{ee&&j===Tr.Initializing&&N(Tr.Initialized)},[ee,j]),w.useEffect(()=>{const{onDragMove:We}=D.current,{active:ft,activatorEvent:pt,collisions:jr,over:Nt}=ye.current;if(!ft||!pt)return;const ht={active:ft,activatorEvent:pt,collisions:jr,delta:{x:On.x,y:On.y},over:Nt};Kt.unstable_batchedUpdates(()=>{We==null||We(ht),h({type:"onDragMove",event:ht})})},[On.x,On.y]),w.useEffect(()=>{const{active:We,activatorEvent:ft,collisions:pt,droppableContainers:jr,scrollAdjustedTranslate:Nt}=ye.current;if(!We||Y.current==null||!ft||!Nt)return;const{onDragOver:ht}=D.current,Vt=jr.get(Lu),An=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,Ie={active:We,activatorEvent:ft,collisions:pt,delta:{x:Nt.x,y:Nt.y},over:An};Kt.unstable_batchedUpdates(()=>{Au(An),ht==null||ht(Ie),h({type:"onDragOver",event:Ie})})},[Lu]),Bt(()=>{ye.current={activatorEvent:O,active:G,activeNode:F,collisionRect:Ln,collisions:Cs,droppableRects:$,draggableNodes:C,draggingNode:Dn,draggingNodeRect:Mn,droppableContainers:M,over:wr,scrollableAncestors:br,scrollAdjustedTranslate:On},B.current={initial:Mn,translated:Ln}},[G,F,Cs,Ln,C,Dn,Mn,$,M,wr,br,On]),pk({...ne,delta:_,draggingRect:Ln,pointerCoordinates:Mu,scrollableAncestors:br,scrollableAncestorRects:Vo});const _0=w.useMemo(()=>({active:G,activeNode:F,activeNodeRect:ee,activatorEvent:O,collisions:Cs,containerNodeRect:Re,dragOverlay:nt,draggableNodes:C,droppableContainers:M,droppableRects:$,over:wr,measureDroppableContainers:Q,scrollableAncestors:br,scrollableAncestorRects:Vo,measuringConfiguration:P,measuringScheduled:A,windowRect:dl}),[G,F,ee,O,Cs,Re,nt,C,M,$,wr,Q,br,Vo,P,A,dl]),T0=w.useMemo(()=>({activatorEvent:O,activators:Fu,active:G,activeNodeRect:ee,ariaDescribedById:{draggable:R},dispatch:p,draggableNodes:C,over:wr,measureDroppableContainers:Q}),[O,Fu,G,ee,p,R,C,wr,Q]);return V.createElement(Ox.Provider,{value:m},V.createElement(Ho.Provider,{value:T0},V.createElement(Zx.Provider,{value:_0},V.createElement(ol.Provider,{value:P0},d)),V.createElement(Mk,{disabled:(l==null?void 0:l.restoreFocus)===!1})),V.createElement(FS,{...l,hiddenTextDescribedById:R}));function D0(){const We=(oe==null?void 0:oe.autoScrollEnabled)===!1,ft=typeof c=="object"?c.enabled===!1:c===!1,pt=S&&!We&&!ft;return typeof c=="object"?{...c,enabled:pt}:{enabled:pt}}}),Ak=w.createContext(null),Wp="button",Ik="Draggable";function r0(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const a=Wo(Ik),{activators:i,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:g}=w.useContext(Ho),{role:x=Wp,roleDescription:y="draggable",tabIndex:b=0}=o??{},v=(c==null?void 0:c.id)===t,p=w.useContext(v?ol:Ak),[h,m]=vi(),[j,N]=vi(),S=Ck(i,t),k=ko(r);Bt(()=>(f.set(t,{id:t,key:a,node:h,activatorNode:j,data:k}),()=>{const _=f.get(t);_&&_.key===a&&f.delete(t)}),[f,t]);const C=w.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":n,"aria-pressed":v&&x===Wp?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[n,x,b,v,y,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:C,isDragging:v,listeners:n?void 0:S,node:h,over:g,setNodeRef:m,setActivatorNodeRef:N,transform:p}}function n0(){return w.useContext(Zx)}const Fk="Droppable",Uk={timeout:25};function s0(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const a=Wo(Fk),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=w.useContext(Ho),u=w.useRef({disabled:r}),f=w.useRef(!1),g=w.useRef(null),x=w.useRef(null),{disabled:y,updateMeasurementsFor:b,timeout:v}={...Uk,...o},p=ko(b??n),h=w.useCallback(()=>{if(!f.current){f.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(p.current)?p.current:[p.current]),x.current=null},v)},[v]),m=sl({callback:h,disabled:y||!i}),j=w.useCallback((C,_)=>{m&&(_&&(m.unobserve(_),f.current=!1),C&&m.observe(C))},[m]),[N,S]=vi(j),k=ko(t);return w.useEffect(()=>{!m||!N.current||(m.disconnect(),f.current=!1,m.observe(N.current))},[N,m]),w.useEffect(()=>(l({type:De.RegisterDroppable,element:{id:n,key:a,disabled:r,node:N,rect:g,data:k}}),()=>l({type:De.UnregisterDroppable,key:a,id:n})),[n]),w.useEffect(()=>{r!==u.current.disabled&&(l({type:De.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,l]),{active:i,rect:g,isOver:(c==null?void 0:c.id)===n,node:N,over:c,setNodeRef:S}}function $k(e){let{animation:t,children:r}=e;const[n,o]=w.useState(null),[a,i]=w.useState(null),l=bi(r);return!r&&!n&&l&&o(l),Bt(()=>{if(!a)return;const c=n==null?void 0:n.key,d=n==null?void 0:n.props.id;if(c==null||d==null){o(null);return}Promise.resolve(t(d,a)).then(()=>{o(null)})},[t,n,a]),V.createElement(V.Fragment,null,r,n?w.cloneElement(n,{ref:i}):null)}const Bk={x:0,y:0,scaleX:1,scaleY:1};function Wk(e){let{children:t}=e;return V.createElement(Ho.Provider,{value:Kx},V.createElement(ol.Provider,{value:Bk},t))}const Hk={position:"fixed",touchAction:"none"},Vk=e=>tl(e)?"transform 250ms ease":void 0,qk=w.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:o,children:a,className:i,rect:l,style:c,transform:d,transition:u=Vk}=e;if(!l)return null;const f=o?d:{...d,scaleX:1,scaleY:1},g={...Hk,width:l.width,height:l.height,top:l.top,left:l.left,transform:Kr.Transform.toString(f),transformOrigin:o&&n?US(n,l):void 0,transition:typeof u=="function"?u(n):u,...c};return V.createElement(r,{className:i,style:g,ref:t},a)}),o0=e=>t=>{let{active:r,dragOverlay:n}=t;const o={},{styles:a,className:i}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(o[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return i!=null&&i.active&&r.node.classList.add(i.active),i!=null&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(const[c,d]of Object.entries(o))r.node.style.setProperty(c,d);i!=null&&i.active&&r.node.classList.remove(i.active)}},Gk=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Kr.Transform.toString(t)},{transform:Kr.Transform.toString(r)}]},Yk={duration:250,easing:"ease",keyframes:Gk,sideEffects:o0({styles:{active:{opacity:"0"}}})};function Jk(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:o}=e;return el((a,i)=>{if(t===null)return;const l=r.get(a);if(!l)return;const c=l.node.current;if(!c)return;const d=Xx(i);if(!d)return;const{transform:u}=rt(i).getComputedStyle(i),f=$x(u);if(!f)return;const g=typeof t=="function"?t:Qk(t);return Yx(c,o.draggable.measure),g({active:{id:a,data:l.data,node:c,rect:o.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:i,rect:o.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:o,transform:f})})}function Qk(e){const{duration:t,easing:r,sideEffects:n,keyframes:o}={...Yk,...e};return a=>{let{active:i,dragOverlay:l,transform:c,...d}=a;if(!t)return;const u={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},f={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/l.rect.height:1},g={x:c.x-u.x,y:c.y-u.y,...f},x=o({...d,active:i,dragOverlay:l,transform:{initial:c,final:g}}),[y]=x,b=x[x.length-1];if(JSON.stringify(y)===JSON.stringify(b))return;const v=n==null?void 0:n({active:i,dragOverlay:l,...d}),p=l.node.animate(x,{duration:t,easing:r,fill:"forwards"});return new Promise(h=>{p.onfinish=()=>{v==null||v(),h()}})}}let Hp=0;function Xk(e){return w.useMemo(()=>{if(e!=null)return Hp++,Hp},[e])}const Kk=V.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:o,transition:a,modifiers:i,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:f,activeNodeRect:g,containerNodeRect:x,draggableNodes:y,droppableContainers:b,dragOverlay:v,over:p,measuringConfiguration:h,scrollableAncestors:m,scrollableAncestorRects:j,windowRect:N}=n0(),S=w.useContext(ol),k=Xk(f==null?void 0:f.id),C=e0(i,{activatorEvent:u,active:f,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:v.rect,over:p,overlayNodeRect:v.rect,scrollableAncestors:m,scrollableAncestorRects:j,transform:S,windowRect:N}),_=Eu(g),M=Jk({config:n,draggableNodes:y,droppableContainers:b,measuringConfiguration:h}),I=_?v.setRef:void 0;return V.createElement(Wk,null,V.createElement($k,{animation:M},f&&k?V.createElement(qk,{key:k,id:f.id,ref:I,as:l,activatorEvent:u,adjustScale:t,className:c,transition:a,rect:_,style:{zIndex:d,...o},transform:C},r):null))});function Ru(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Zk(e,t){return e.reduce((r,n,o)=>{const a=t.get(n);return a&&(r[o]=a),r},Array(e.length))}function ma(e){return e!==null&&e>=0}function eC(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function tC(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const a0=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const a=Ru(t,n,r),i=t[o],l=a[o];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},ga={scaleX:1,scaleY:1},rC=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:a,overIndex:i}=e;const l=(t=a[r])!=null?t:n;if(!l)return null;if(o===r){const d=a[i];return d?{x:0,y:r<i?d.top+d.height-(l.top+l.height):d.top-l.top,...ga}:null}const c=nC(a,o,r);return o>r&&o<=i?{x:0,y:-l.height-c,...ga}:o<r&&o>=i?{x:0,y:l.height+c,...ga}:{x:0,y:0,...ga}};function nC(e,t,r){const n=e[t],o=e[t-1],a=e[t+1];return n?r<t?o?n.top-(o.top+o.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}const i0="Sortable",l0=V.createContext({activeIndex:-1,containerId:i0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:a0,disabled:{draggable:!1,droppable:!1}});function sC(e){let{children:t,id:r,items:n,strategy:o=a0,disabled:a=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=n0(),f=Wo(i0,r),g=l.rect!==null,x=w.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),y=i!=null,b=i?x.indexOf(i.id):-1,v=d?x.indexOf(d.id):-1,p=w.useRef(x),h=!eC(x,p.current),m=v!==-1&&b===-1||h,j=tC(a);Bt(()=>{h&&y&&u(x)},[h,x,y,u]),w.useEffect(()=>{p.current=x},[x]);const N=w.useMemo(()=>({activeIndex:b,containerId:f,disabled:j,disableTransforms:m,items:x,overIndex:v,useDragOverlay:g,sortedRects:Zk(x,c),strategy:o}),[b,f,j.draggable,j.droppable,m,x,v,c,g,o]);return V.createElement(l0.Provider,{value:N},t)}const oC=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Ru(r,n,o).indexOf(t)},aC=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:a,newIndex:i,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!n||l!==a&&o===i?!1:r?!0:i!==o&&t===c},iC={duration:200,easing:"ease"},c0="transform",lC=Kr.Transition.toString({property:c0,duration:0,easing:"linear"}),cC={roleDescription:"sortable"};function dC(e){let{disabled:t,index:r,node:n,rect:o}=e;const[a,i]=w.useState(null),l=w.useRef(r);return Bt(()=>{if(!t&&r!==l.current&&n.current){const c=o.current;if(c){const d=ks(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}r!==l.current&&(l.current=r)},[t,r,n,o]),w.useEffect(()=>{a&&i(null)},[a]),a}function uC(e){let{animateLayoutChanges:t=aC,attributes:r,disabled:n,data:o,getNewIndex:a=oC,id:i,strategy:l,resizeObserverConfig:c,transition:d=iC}=e;const{items:u,containerId:f,activeIndex:g,disabled:x,disableTransforms:y,sortedRects:b,overIndex:v,useDragOverlay:p,strategy:h}=w.useContext(l0),m=fC(n,x),j=u.indexOf(i),N=w.useMemo(()=>({sortable:{containerId:f,index:j,items:u},...o}),[f,o,j,u]),S=w.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:k,node:C,isOver:_,setNodeRef:M}=s0({id:i,data:N,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:I,activatorEvent:B,activeNodeRect:G,attributes:Y,setNodeRef:oe,listeners:T,isDragging:O,over:E,setActivatorNodeRef:D,transform:R}=r0({id:i,data:N,attributes:{...cC,...r},disabled:m.draggable}),J=CS(M,oe),P=!!I,$=P&&!y&&ma(g)&&ma(v),Q=!p&&O,A=Q&&$?R:null,re=$?A??(l??h)({rects:b,activeNodeRect:G,activeIndex:g,overIndex:v,index:j}):null,ne=ma(g)&&ma(v)?a({id:i,items:u,activeIndex:g,overIndex:v}):j,K=I==null?void 0:I.id,ee=w.useRef({activeId:K,items:u,newIndex:ne,containerId:f}),Re=u!==ee.current.items,ye=t({active:I,containerId:f,isDragging:O,isSorting:P,id:i,index:j,items:u,newIndex:ee.current.newIndex,previousItems:ee.current.items,previousContainerId:ee.current.containerId,transition:d,wasDragging:ee.current.activeId!=null}),Be=dC({disabled:!ye,index:j,node:C,rect:k});return w.useEffect(()=>{P&&ee.current.newIndex!==ne&&(ee.current.newIndex=ne),f!==ee.current.containerId&&(ee.current.containerId=f),u!==ee.current.items&&(ee.current.items=u)},[P,ne,f,u]),w.useEffect(()=>{if(K===ee.current.activeId)return;if(K!=null&&ee.current.activeId==null){ee.current.activeId=K;return}const Dn=setTimeout(()=>{ee.current.activeId=K},50);return()=>clearTimeout(Dn)},[K]),{active:I,activeIndex:g,attributes:Y,data:N,rect:k,index:j,newIndex:ne,items:u,isOver:_,isSorting:P,isDragging:O,listeners:T,node:C,overIndex:v,over:E,setNodeRef:J,setActivatorNodeRef:D,setDroppableNodeRef:M,setDraggableNodeRef:oe,transform:Be??re,transition:nt()};function nt(){if(Be||Re&&ee.current.newIndex===j)return lC;if(!(Q&&!tl(B)||!d)&&(P||ye))return Kr.Transition.toString({...d,property:c0})}}function fC(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function Si(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const pC=[se.Down,se.Right,se.Up,se.Left],hC=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:a,over:i,scrollableAncestors:l}}=t;if(pC.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const g=o.get(f.id);if(g)switch(e.code){case se.Down:n.top<g.top&&c.push(f);break;case se.Up:n.top>g.top&&c.push(f);break;case se.Left:n.left>g.left&&c.push(f);break;case se.Right:n.left<g.left&&c.push(f);break}});const d=WS({collisionRect:n,droppableRects:o,droppableContainers:c});let u=Fx(d,"id");if(u===(i==null?void 0:i.id)&&d.length>1&&(u=d[1].id),u!=null){const f=a.get(r.id),g=a.get(u),x=g?o.get(g.id):null,y=g==null?void 0:g.node.current;if(y&&x&&f&&g){const v=rl(y).some((S,k)=>l[k]!==S),p=d0(f,g),h=mC(f,g),m=v||!p?{x:0,y:0}:{x:h?n.width-x.width:0,y:h?n.height-x.height:0},j={x:x.left,y:x.top};return m.x&&m.y?j:Co(j,m)}}}};function d0(e,t){return!Si(e)||!Si(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function mC(e,t){return!Si(e)||!Si(t)||!d0(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const gC=({topic:e,index:t,onEdit:r,onDelete:n,onPreview:o})=>{const{attributes:a,listeners:i,setNodeRef:l,transform:c,transition:d,isDragging:u}=uC({id:e.id}),f={transform:Kr.Transform.toString(c),transition:d,zIndex:u?50:"auto",opacity:u?.5:1};return s.jsxs("div",{ref:l,style:f,className:"group bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("button",{...a,...i,className:"p-2 text-gray-300 hover:text-gray-600 cursor-grab active:cursor-grabbing border-none bg-transparent",children:s.jsx(Qg,{size:20})}),s.jsx("div",{className:"w-10 h-10 bg-gray-50 text-gray-400 group-hover:bg-primary-surface group-hover:text-primary rounded-xl flex items-center justify-center font-bold transition-colors",children:t+1}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-primary transition-colors uppercase tracking-wide text-sm",children:e.title}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.contentHTML?s.jsxs("span",{className:"text-emerald-500 text-xs font-bold flex items-center gap-1",children:[s.jsx(Ji,{size:12})," Content Drafted"]}):s.jsx("span",{className:"text-gray-300 text-xs font-medium italic",children:"No content yet"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>o(e.id),className:"p-2.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-xl transition-all shadow-sm border-none cursor-pointer",title:"Preview Topic",children:s.jsx(pi,{size:18})}),s.jsx("button",{onClick:()=>r(e.id),className:"p-2.5 bg-primary-surface text-primary hover:bg-primary hover:text-white rounded-xl transition-all shadow-sm border-none cursor-pointer",title:"Edit Content",children:s.jsx(dj,{size:18})}),s.jsx("button",{onClick:()=>n(e.id),className:"p-2.5 bg-red-50 text-red-400 hover:bg-red-500 hover:text-white rounded-xl transition-all shadow-sm border-none cursor-pointer",title:"Delete Topic",children:s.jsx(Jr,{size:18})})]})]})},xC=()=>{const{state:e,dispatch:t}=Uo(),r=Ee(),{courseId:n}=bs(),[o,a]=w.useState(""),[i,l]=w.useState(!1),[c,d]=w.useState([]),[u,f]=w.useState(!1);w.useEffect(()=>{(async()=>{if(n)try{l(!0);const j=await Qj(n);t({type:"UPDATE_METADATA",payload:{title:j.title,description:j.description,level:j.level,author:j.author,coverPage:j.coverPage}}),t({type:"SET_BACKEND_COURSE_ID",payload:j.id});const N=await Kj(n);d(N)}catch(j){console.error("Failed to load course:",j)}finally{l(!1)}})()},[n,t]);const g=Lx(ad(nl),ad(ku,{coordinateGetter:hC})),x=m=>{if(m.preventDefault(),console.log("Adding topic:",o),!o.trim()){console.log("Empty title, ignoring.");return}t({type:"ADD_TOPIC",payload:{title:o}}),a("")},y=m=>{const{active:j,over:N}=m;if(N&&j.id!==N.id){const S=e.topics.findIndex(_=>_.id===j.id),k=e.topics.findIndex(_=>_.id===N.id),C=Ru(e.topics,S,k);t({type:"REORDER_TOPICS",payload:C})}},b=()=>{const m=NS(e),j=(e.metadata.title||"course-export").toLowerCase().replace(/\s+/g,"-"),N=new Blob([m],{type:"text/html"}),S=URL.createObjectURL(N),k=document.createElement("a");k.href=S,k.download=`${j}.html`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(S)},v=async()=>{if(!n){alert("No course ID found. Course may not be saved yet.");return}if(window.confirm(`Are you sure you want to delete this course? This will delete course ID: ${n}`))try{l(!0);try{const I=await Xr();console.log("Synced courses to localStorage:",I.length)}catch(I){console.log("Could not sync courses:",I)}console.log("=== DELETE DEBUG ==="),console.log("Course ID to delete:",n);const j=localStorage.getItem("soma_courses");console.log("Courses in localStorage before:",j?JSON.parse(j):"No courses found");let N=!1;try{await Xj(n),console.log("API delete called"),N=!0}catch(I){console.log("API delete failed:",I.message)}const S=localStorage.getItem("soma_courses");if(S){const I=JSON.parse(S),B=I.find(Y=>Y.id===n);console.log("Course exists in localStorage:",!!B);const G=I.filter(Y=>Y.id!==n);localStorage.setItem("soma_courses",JSON.stringify(G)),console.log("Deleted from localStorage. Remaining courses:",G.length)}else console.log("No courses in localStorage - cannot delete from localStorage");const k=localStorage.getItem("soma_enrollments");if(k){const B=JSON.parse(k).filter(G=>G.courseId!==n);localStorage.setItem("soma_enrollments",JSON.stringify(B))}const C=localStorage.getItem("soma_courses"),M=(C?JSON.parse(C):[]).find(I=>I.id===n);console.log("Course still exists after delete:",!!M),console.log("==================="),alert(M&&!N?"Warning: Course may not have been fully deleted. Check console for details.":"Course deleted successfully!"),window.location.href="/facilitator/courses"}catch(j){console.error("Failed to delete course:",j),alert("Failed to delete course: "+(j.message||"Unknown error")),l(!1)}},p=()=>{const m=SS(e),j=JSON.stringify(m,null,2),N=(e.metadata.title||"course-data").toLowerCase().replace(/\s+/g,"-"),S=new Blob([j],{type:"application/json"}),k=URL.createObjectURL(S),C=document.createElement("a");C.href=k,C.download=`${N}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k),console.log("Full Course Serialized:",m)},h=async()=>{try{const m={title:e.metadata.title,description:e.metadata.description,coverPage:e.metadata.coverPage,level:e.metadata.level,author:e.metadata.author},N=(await lx(m)).id;t({type:"SET_BACKEND_COURSE_ID",payload:N}),alert("Course saved to cloud successfully!")}catch(m){console.error("Error saving course to backend:",m),alert("Failed to save course to cloud.")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsxs("header",{className:"h-24 bg-white border-b border-gray-100 px-8 flex items-center justify-between shadow-sm sticky top-0 z-20",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r("/facilitator/dashboard"),className:"p-3 bg-gray-50 hover:bg-primary-surface text-gray-400 hover:text-primary rounded-xl transition-all border border-gray-100 cursor-pointer group",title:"Back to Dashboard",children:s.jsx(dr,{size:20})}),s.jsx("button",{onClick:()=>r("/facilitator/create-course"),className:"p-3 bg-gray-50 hover:bg-primary-surface text-gray-400 hover:text-primary rounded-xl transition-all border border-gray-100 cursor-pointer",title:"Edit Metadata",children:s.jsx($2,{size:20})})]}),s.jsx("div",{className:"h-10 w-px bg-gray-100 mx-2"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-black text-2xl text-gray-900 tracking-tight",children:e.metadata.title||"Untitled Course"}),s.jsxs("p",{className:"text-primary font-bold text-xs mt-1 uppercase tracking-widest opacity-60",children:[e.metadata.level,"  ",e.metadata.category||"Standard"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-2.5 bg-primary-surface text-primary rounded-xl font-bold hover:bg-primary-surface/80 transition-all border-none cursor-pointer active:scale-95",children:[s.jsx(k2,{size:18}),"Save to Cloud"]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-all border-none cursor-pointer active:scale-95",children:[s.jsx(Jg,{size:18}),"Save JSON"]}),s.jsxs("button",{onClick:b,disabled:e.topics.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-primary text-white rounded-xl font-bold hover:bg-primary-dark transition-all shadow-lg active:scale-95 disabled:opacity-50 disabled:hover:bg-primary disabled:active:scale-100 border-none cursor-pointer",children:[s.jsx(Yg,{size:18}),"Export HTML"]}),n&&s.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-6 py-2.5 bg-red-50 text-red-600 rounded-xl font-bold hover:bg-red-100 transition-all border-none cursor-pointer active:scale-95",children:[s.jsx(Jr,{size:18}),"Delete"]})]})]}),s.jsxs("main",{className:"flex-1 p-12 max-w-4xl mx-auto w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-primary-surface text-primary p-2 rounded-lg",children:s.jsx(xu,{size:24})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Course Outline"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-gray-400 font-medium",children:[e.topics.length," Topics Total"]}),n&&s.jsxs("button",{onClick:()=>f(!u),className:"ml-4 px-4 py-2 bg-green-50 text-green-600 rounded-xl font-bold flex items-center gap-2 hover:bg-green-100 transition-all",children:[s.jsx(Qr,{size:18}),"Students (",c.length,")"]})]})]}),u&&s.jsxs("div",{className:"mb-8 bg-white rounded-2xl border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-green-50 px-6 py-4 border-b border-green-100",children:s.jsx("h3",{className:"font-bold text-green-800",children:"Enrolled Students"})}),c.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:c.map((m,j)=>{var N,S;return s.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold",children:((N=m.name)==null?void 0:N.charAt(0))||((S=m.email)==null?void 0:S.charAt(0))||"S"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:m.name||"Student"}),s.jsx("p",{className:"text-sm text-gray-500",children:m.email})]}),s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"Enrolled"})]},j)})}):s.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"No students enrolled in this course yet."})]}),s.jsxs("form",{onSubmit:x,className:"mb-12 flex gap-3",children:[s.jsx("input",{type:"text",value:o,onChange:m=>a(m.target.value),placeholder:"Enter topic title... (e.g. Introduction to React)",className:"flex-1 px-5 py-4 bg-white border border-gray-200 rounded-2xl shadow-sm focus:ring-2 focus:ring-primary transition-all outline-none text-gray-700"}),s.jsxs("button",{type:"submit",className:"px-8 py-4 bg-primary text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-primary-dark transition-all shadow-md active:scale-95 border-none cursor-pointer",children:[s.jsx(Cn,{size:20}),"Add Topic"]})]}),s.jsx("div",{className:"space-y-4",children:e.topics.length===0?s.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Cn,{size:32,className:"text-gray-300"})}),s.jsx("p",{className:"text-gray-400 font-medium",children:"No topics added yet. Start by adding your first milestone!"})]}):s.jsx(t0,{sensors:g,collisionDetection:BS,onDragEnd:y,children:s.jsx(sC,{items:e.topics.map(m=>m.id),strategy:rC,children:s.jsx("div",{className:"space-y-4",children:e.topics.map((m,j)=>s.jsx(gC,{topic:m,index:j,onEdit:N=>r(`/facilitator/editor/${N}`),onDelete:N=>t({type:"DELETE_TOPIC",payload:N}),onPreview:N=>r(`/facilitator/preview/${N}`)},m.id))})})})})]})]})},Yt=({type:e,label:t,icon:r})=>{const{attributes:n,listeners:o,setNodeRef:a,isDragging:i}=r0({id:`sidebar-${e}`,data:{type:e,isSidebarItem:!0}});return s.jsxs("div",{ref:a,...o,...n,className:he("flex items-center gap-2 p-3 mb-2 bg-white border rounded cursor-grab hover:bg-gray-50 transition-colors",i&&"opacity-50 ring-2 ring-primary"),children:[r,s.jsx("span",{children:t})]})},yC=()=>s.jsxs("div",{className:"w-64 bg-gray-100 p-4 border-r border-gray-200 h-full overflow-y-auto",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-500 mb-4 uppercase tracking-wider",children:"Components"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Yt,{type:"text",label:"Text Block",icon:s.jsx(sx,{size:18})}),s.jsx(Yt,{type:"image",label:"Image",icon:s.jsx(gu,{size:18})}),s.jsx(Yt,{type:"video",label:"Video",icon:s.jsx(Ki,{size:18})}),s.jsx(Yt,{type:"container",label:"Container",icon:s.jsx(ex,{size:18})}),s.jsxs("div",{className:"border-t border-gray-200 my-2 pt-2",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-2 uppercase",children:"Presets"}),s.jsx(Yt,{type:"hero",label:"Hero Section",icon:s.jsx(nx,{size:18,className:"text-amber-500"})}),s.jsx(Yt,{type:"list",label:"Icon List",icon:s.jsx(xu,{size:18,className:"text-primary"})})]}),s.jsxs("div",{className:"border-t border-gray-200 my-2 pt-2",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-2 uppercase",children:"Interactions"}),s.jsx(Yt,{type:"quiz",label:"Quiz Block",icon:s.jsx(Qi,{size:18,className:"text-purple-500"})}),s.jsx(Yt,{type:"flashcard",label:"Flashcard",icon:s.jsx(Xi,{size:18,className:"text-pink-500"})}),s.jsx(Yt,{type:"resource",label:"Resource",icon:s.jsx(Io,{size:18,className:"text-orange-500"})}),s.jsx(Yt,{type:"comment",label:"Comment",icon:s.jsx(ur,{size:18,className:"text-teal-500"})})]})]})]});var al={exports:{}},u0={},f0={exports:{}},vC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bC=vC,wC=bC;function p0(){}function h0(){}h0.resetWarningCache=p0;var jC=function(){function e(n,o,a,i,l,c){if(c!==wC){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:h0,resetWarningCache:p0};return r.PropTypes=r,r};f0.exports=jC();var m0=f0.exports;function g0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=g0(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Vp(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=g0(e))&&(n&&(n+=" "),n+=t);return n}const NC=Object.freeze(Object.defineProperty({__proto__:null,clsx:Vp,default:Vp},Symbol.toStringTag,{value:"Module"})),SC=O0(NC);var we={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.dontSetMe=PC;tr.findInArray=kC;tr.int=RC;tr.isFunction=CC;tr.isNum=EC;function kC(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function CC(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function EC(e){return typeof e=="number"&&!isNaN(e)}function RC(e){return parseInt(e,10)}function PC(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.browserPrefixToKey=y0;Tn.browserPrefixToStyle=zC;Tn.default=void 0;Tn.getPrefix=x0;const Zl=["Moz","Webkit","O","ms"];function x0(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<Zl.length;n++)if(y0(t,Zl[n])in r)return Zl[n];return""}function y0(e,t){return t?"".concat(t).concat(_C(e)):e}function zC(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function _C(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}Tn.default=x0();Object.defineProperty(we,"__esModule",{value:!0});we.addClassName=w0;we.addEvent=MC;we.addUserSelectStyles=VC;we.createCSSTransform=$C;we.createSVGTransform=BC;we.getTouch=WC;we.getTouchIdentifier=HC;we.getTranslation=Pu;we.innerHeight=IC;we.innerWidth=FC;we.matchesSelector=b0;we.matchesSelectorAndParentsTo=DC;we.offsetXYFromParent=UC;we.outerHeight=LC;we.outerWidth=AC;we.removeClassName=j0;we.removeEvent=OC;we.removeUserSelectStyles=qC;var vt=tr,qp=TC(Tn);function v0(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(v0=function(n){return n?r:t})(e)}function TC(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=v0(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}let xa="";function b0(e,t){return xa||(xa=(0,vt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,vt.isFunction)(e[r])})),(0,vt.isFunction)(e[xa])?e[xa](t):!1}function DC(e,t,r){let n=e;do{if(b0(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function MC(e,t,r,n){if(!e)return;const o={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function OC(e,t,r,n){if(!e)return;const o={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function LC(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,vt.int)(r.borderTopWidth),t+=(0,vt.int)(r.borderBottomWidth),t}function AC(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,vt.int)(r.borderLeftWidth),t+=(0,vt.int)(r.borderRightWidth),t}function IC(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,vt.int)(r.paddingTop),t-=(0,vt.int)(r.paddingBottom),t}function FC(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,vt.int)(r.paddingLeft),t-=(0,vt.int)(r.paddingRight),t}function UC(e,t,r){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-o.left)/r,i=(e.clientY+t.scrollTop-o.top)/r;return{x:a,y:i}}function $C(e,t){const r=Pu(e,t,"px");return{[(0,qp.browserPrefixToKey)("transform",qp.default)]:r}}function BC(e,t){return Pu(e,t,"")}function Pu(e,t,r){let{x:n,y:o}=e,a="translate(".concat(n).concat(r,",").concat(o).concat(r,")");if(t){const i="".concat(typeof t.x=="string"?t.x:t.x+r),l="".concat(typeof t.y=="string"?t.y:t.y+r);a="translate(".concat(i,", ").concat(l,")")+a}return a}function WC(e,t){return e.targetTouches&&(0,vt.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,vt.findInArray)(e.changedTouches,r=>t===r.identifier)}function HC(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function VC(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&w0(e.body,"react-draggable-transparent-selection")}function qC(e){if(e)try{if(e.body&&j0(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function w0(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function j0(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.canDragX=JC;rr.canDragY=QC;rr.createCoreData=KC;rr.createDraggableData=ZC;rr.getBoundPosition=GC;rr.getControlPosition=XC;rr.snapToGrid=YC;var mt=tr,Kn=we;function GC(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:e4(n);const o=zu(e);if(typeof n=="string"){const{ownerDocument:a}=o,i=a.defaultView;let l;if(n==="parent"?l=o.parentNode:l=a.querySelector(n),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const c=l,d=i.getComputedStyle(o),u=i.getComputedStyle(c);n={left:-o.offsetLeft+(0,mt.int)(u.paddingLeft)+(0,mt.int)(d.marginLeft),top:-o.offsetTop+(0,mt.int)(u.paddingTop)+(0,mt.int)(d.marginTop),right:(0,Kn.innerWidth)(c)-(0,Kn.outerWidth)(o)-o.offsetLeft+(0,mt.int)(u.paddingRight)-(0,mt.int)(d.marginRight),bottom:(0,Kn.innerHeight)(c)-(0,Kn.outerHeight)(o)-o.offsetTop+(0,mt.int)(u.paddingBottom)-(0,mt.int)(d.marginBottom)}}return(0,mt.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,mt.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,mt.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,mt.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function YC(e,t,r){const n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]}function JC(e){return e.props.axis==="both"||e.props.axis==="x"}function QC(e){return e.props.axis==="both"||e.props.axis==="y"}function XC(e,t,r){const n=typeof t=="number"?(0,Kn.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const o=zu(r),a=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Kn.offsetXYFromParent)(n||e,a,r.props.scale)}function KC(e,t,r){const n=!(0,mt.isNum)(e.lastX),o=zu(e);return n?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function ZC(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function e4(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function zu(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var il={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.default=t4;function t4(){}Object.defineProperty(il,"__esModule",{value:!0});il.default=void 0;var ec=n4(w),st=_u(m0),r4=_u(Kt),qe=we,Rr=rr,tc=tr,Us=_u(ll);function _u(e){return e&&e.__esModule?e:{default:e}}function N0(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(N0=function(n){return n?r:t})(e)}function n4(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=N0(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function Xe(e,t,r){return t=s4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4(e){var t=o4(e,"string");return typeof t=="symbol"?t:String(t)}function o4(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Mt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Pr=Mt.mouse,cl=class extends ec.Component{constructor(){super(...arguments),Xe(this,"dragging",!1),Xe(this,"lastX",NaN),Xe(this,"lastY",NaN),Xe(this,"touchIdentifier",null),Xe(this,"mounted",!1),Xe(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,qe.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,qe.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const o=(0,qe.getTouchIdentifier)(t);this.touchIdentifier=o;const a=(0,Rr.getControlPosition)(t,o,this);if(a==null)return;const{x:i,y:l}=a,c=(0,Rr.createCoreData)(this,i,l);(0,Us.default)("DraggableCore: handleDragStart: %j",c),(0,Us.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,qe.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=l,(0,qe.addEvent)(n,Pr.move,this.handleDrag),(0,qe.addEvent)(n,Pr.stop,this.handleDragStop))}),Xe(this,"handleDrag",t=>{const r=(0,Rr.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX,c=o-this.lastY;if([l,c]=(0,Rr.snapToGrid)(this.props.grid,l,c),!l&&!c)return;n=this.lastX+l,o=this.lastY+c}const a=(0,Rr.createCoreData)(this,n,o);if((0,Us.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(t,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=n,this.lastY=o}),Xe(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,Rr.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:o}=r;if(Array.isArray(this.props.grid)){let c=n-this.lastX||0,d=o-this.lastY||0;[c,d]=(0,Rr.snapToGrid)(this.props.grid,c,d),n=this.lastX+c,o=this.lastY+d}const a=(0,Rr.createCoreData)(this,n,o);if(this.props.onStop(t,a)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,qe.removeUserSelectStyles)(l.ownerDocument),(0,Us.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Us.default)("DraggableCore: Removing handlers"),(0,qe.removeEvent)(l.ownerDocument,Pr.move,this.handleDrag),(0,qe.removeEvent)(l.ownerDocument,Pr.stop,this.handleDragStop))}),Xe(this,"onMouseDown",t=>(Pr=Mt.mouse,this.handleDragStart(t))),Xe(this,"onMouseUp",t=>(Pr=Mt.mouse,this.handleDragStop(t))),Xe(this,"onTouchStart",t=>(Pr=Mt.touch,this.handleDragStart(t))),Xe(this,"onTouchEnd",t=>(Pr=Mt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,qe.addEvent)(t,Mt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,qe.removeEvent)(r,Mt.mouse.move,this.handleDrag),(0,qe.removeEvent)(r,Mt.touch.move,this.handleDrag),(0,qe.removeEvent)(r,Mt.mouse.stop,this.handleDragStop),(0,qe.removeEvent)(r,Mt.touch.stop,this.handleDragStop),(0,qe.removeEvent)(t,Mt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,qe.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:r4.default.findDOMNode(this)}render(){return ec.cloneElement(ec.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};il.default=cl;Xe(cl,"displayName","DraggableCore");Xe(cl,"propTypes",{allowAnyClick:st.default.bool,children:st.default.node.isRequired,disabled:st.default.bool,enableUserSelectHack:st.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:st.default.arrayOf(st.default.number),handle:st.default.string,cancel:st.default.string,nodeRef:st.default.object,onStart:st.default.func,onDrag:st.default.func,onStop:st.default.func,onMouseDown:st.default.func,scale:st.default.number,className:tc.dontSetMe,style:tc.dontSetMe,transform:tc.dontSetMe});Xe(cl,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var t=g(w),r=u(m0),n=u(Kt),o=u(SC),a=we,i=rr,l=tr,c=u(il),d=u(ll);function u(h){return h&&h.__esModule?h:{default:h}}function f(h){if(typeof WeakMap!="function")return null;var m=new WeakMap,j=new WeakMap;return(f=function(N){return N?j:m})(h)}function g(h,m){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var j=f(m);if(j&&j.has(h))return j.get(h);var N={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in h)if(k!=="default"&&Object.prototype.hasOwnProperty.call(h,k)){var C=S?Object.getOwnPropertyDescriptor(h,k):null;C&&(C.get||C.set)?Object.defineProperty(N,k,C):N[k]=h[k]}return N.default=h,j&&j.set(h,N),N}function x(){return x=Object.assign?Object.assign.bind():function(h){for(var m=1;m<arguments.length;m++){var j=arguments[m];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(h[N]=j[N])}return h},x.apply(this,arguments)}function y(h,m,j){return m=b(m),m in h?Object.defineProperty(h,m,{value:j,enumerable:!0,configurable:!0,writable:!0}):h[m]=j,h}function b(h){var m=v(h,"string");return typeof m=="symbol"?m:String(m)}function v(h,m){if(typeof h!="object"||h===null)return h;var j=h[Symbol.toPrimitive];if(j!==void 0){var N=j.call(h,m);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(h)}class p extends t.Component{static getDerivedStateFromProps(m,j){let{position:N}=m,{prevPropsPosition:S}=j;return N&&(!S||N.x!==S.x||N.y!==S.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:N,prevPropsPosition:S}),{x:N.x,y:N.y,prevPropsPosition:{...N}}):null}constructor(m){super(m),y(this,"onDragStart",(j,N)=>{if((0,d.default)("Draggable: onDragStart: %j",N),this.props.onStart(j,(0,i.createDraggableData)(this,N))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(j,N)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",N);const S=(0,i.createDraggableData)(this,N),k={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:_,y:M}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[I,B]=(0,i.getBoundPosition)(this,k.x,k.y);k.x=I,k.y=B,k.slackX=this.state.slackX+(_-k.x),k.slackY=this.state.slackY+(M-k.y),S.x=k.x,S.y=k.y,S.deltaX=k.x-this.state.x,S.deltaY=k.y-this.state.y}if(this.props.onDrag(j,S)===!1)return!1;this.setState(k)}),y(this,"onDragStop",(j,N)=>{if(!this.state.dragging||this.props.onStop(j,(0,i.createDraggableData)(this,N))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",N);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:_,y:M}=this.props.position;k.x=_,k.y=M}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:m.position?m.position.x:m.defaultPosition.x,y:m.position?m.position.y:m.defaultPosition.y,prevPropsPosition:{...m.position},slackX:0,slackY:0,isElementSVG:!1},m.position&&!(m.onDrag||m.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var m,j;return(m=(j=this.props)===null||j===void 0||(j=j.nodeRef)===null||j===void 0?void 0:j.current)!==null&&m!==void 0?m:n.default.findDOMNode(this)}render(){const{axis:m,bounds:j,children:N,defaultPosition:S,defaultClassName:k,defaultClassNameDragging:C,defaultClassNameDragged:_,position:M,positionOffset:I,scale:B,...G}=this.props;let Y={},oe=null;const O=!!!M||this.state.dragging,E=M||S,D={x:(0,i.canDragX)(this)&&O?this.state.x:E.x,y:(0,i.canDragY)(this)&&O?this.state.y:E.y};this.state.isElementSVG?oe=(0,a.createSVGTransform)(D,I):Y=(0,a.createCSSTransform)(D,I);const R=(0,o.default)(N.props.className||"",k,{[C]:this.state.dragging,[_]:this.state.dragged});return t.createElement(c.default,x({},G,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(N),{className:R,style:{...N.props.style,...Y},transform:oe}))}}e.default=p,y(p,"displayName","Draggable"),y(p,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(p,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(u0);const{default:S0,DraggableCore:a4}=u0;al.exports=S0;al.exports.default=S0;al.exports.DraggableCore=a4;var i4=al.exports;const l4=Zp(i4);var Se=function(){return Se=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Se.apply(this,arguments)},Gp={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Yp={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ya={width:"20px",height:"20px",position:"absolute",zIndex:1},c4={top:Se(Se({},Gp),{top:"-5px"}),right:Se(Se({},Yp),{left:void 0,right:"-5px"}),bottom:Se(Se({},Gp),{top:void 0,bottom:"-5px"}),left:Se(Se({},Yp),{left:"-5px"}),topRight:Se(Se({},ya),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Se(Se({},ya),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Se(Se({},ya),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Se(Se({},ya),{left:"-10px",top:"-10px",cursor:"nw-resize"})},d4=w.memo(function(e){var t=e.onResizeStart,r=e.direction,n=e.children,o=e.replaceStyles,a=e.className,i=w.useCallback(function(d){t(d,r)},[t,r]),l=w.useCallback(function(d){t(d,r)},[t,r]),c=w.useMemo(function(){return Se(Se({position:"absolute",userSelect:"none"},c4[r]),o??{})},[o,r]);return s.jsx("div",{className:a||void 0,style:c,onMouseDown:i,onTouchStart:l,children:n})}),u4=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qt=function(){return Qt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qt.apply(this,arguments)},f4={width:"auto",height:"auto"},va=function(e,t,r){return Math.max(Math.min(e,r),t)},Jp=function(e,t,r){var n=Math.round(e/t);return n*t+r*(n-1)},Fn=function(e,t){return new RegExp(e,"i").test(t)},ba=function(e){return!!(e.touches&&e.touches.length)},p4=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Qp=function(e,t,r){r===void 0&&(r=0);var n=t.reduce(function(a,i,l){return Math.abs(i-e)<Math.abs(t[a]-e)?l:a},0),o=Math.abs(t[n]-e);return r===0||o<r?t[n]:e},rc=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},wa=function(e,t,r,n){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return r*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return n*o}}return e},h4=function(e,t,r,n,o,a,i){return n=wa(n,e.width,t,r),o=wa(o,e.height,t,r),a=wa(a,e.width,t,r),i=wa(i,e.height,t,r),{maxWidth:typeof n>"u"?void 0:Number(n),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof a>"u"?void 0:Number(a),minHeight:typeof i>"u"?void 0:Number(i)}},m4=function(e){return Array.isArray(e)?e:[e,e]},g4=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Xp="__resizable_base__",x4=function(e){u4(t,e);function t(r){var n,o,a,i,l=e.call(this,r)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var d=l.window.document.createElement("div");return d.style.width="100%",d.style.height="100%",d.style.position="absolute",d.style.transform="scale(0, 0)",d.style.left="0",d.style.flex="0 0 100%",d.classList?d.classList.add(Xp):d.className+=Xp,c.appendChild(d),d},l.removeBase=function(c){var d=l.parentNode;d&&d.removeChild(c)},l.state={isResizing:!1,width:(o=(n=l.propsSize)===null||n===void 0?void 0:n.width)!==null&&o!==void 0?o:"auto",height:(i=(a=l.propsSize)===null||a===void 0?void 0:a.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||f4},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var r=0,n=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,a=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),r=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,n=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:a,this.resizable.style.position=i}return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var r=this,n=this.props.size,o=function(l){var c;if(typeof r.state[l]>"u"||r.state[l]==="auto")return"auto";if(r.propsSize&&r.propsSize[l]&&(!((c=r.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(r.state[l].toString().endsWith("%"))return r.state[l].toString();var d=r.getParentSize(),u=Number(r.state[l].toString().replace("px","")),f=u/d[l]*100;return"".concat(f,"%")}return rc(r.state[l])},a=n&&typeof n.width<"u"&&!this.state.isResizing?rc(n.width):o("width"),i=n&&typeof n.height<"u"&&!this.state.isResizing?rc(n.height):o("height");return{width:a,height:i}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var r=this.appendBase();if(!r)return{width:0,height:0};var n=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),r.style.position="relative",r.style.minWidth="100%",r.style.minHeight="100%";var a={width:r.offsetWidth,height:r.offsetHeight};return n&&(this.parentNode.style.flexWrap=o),this.removeBase(r),a},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var r=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:r.flexBasis!=="auto"?r.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(r,n){var o=this.propsSize&&this.propsSize[n];return this.state[n]==="auto"&&this.state.original[n]===r&&(typeof o>"u"||o==="auto")?"auto":r},t.prototype.calculateNewMaxFromBoundary=function(r,n){var o=this.props.boundsByDirection,a=this.state.direction,i=o&&Fn("left",a),l=o&&Fn("top",a),c,d;if(this.props.bounds==="parent"){var u=this.parentNode;u&&(c=i?this.resizableRight-this.parentLeft:u.offsetWidth+(this.parentLeft-this.resizableLeft),d=l?this.resizableBottom-this.parentTop:u.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,d=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),d=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(r=r&&r<c?r:c),d&&Number.isFinite(d)&&(n=n&&n<d?n:d),{maxWidth:r,maxHeight:n}},t.prototype.calculateNewSizeFromDirection=function(r,n){var o=this.props.scale||1,a=m4(this.props.resizeRatio||1),i=a[0],l=a[1],c=this.state,d=c.direction,u=c.original,f=this.props,g=f.lockAspectRatio,x=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,b=u.width,v=u.height,p=x||0,h=y||0;return Fn("right",d)&&(b=u.width+(r-u.x)*i/o,g&&(v=(b-h)/this.ratio+p)),Fn("left",d)&&(b=u.width-(r-u.x)*i/o,g&&(v=(b-h)/this.ratio+p)),Fn("bottom",d)&&(v=u.height+(n-u.y)*l/o,g&&(b=(v-p)*this.ratio+h)),Fn("top",d)&&(v=u.height-(n-u.y)*l/o,g&&(b=(v-p)*this.ratio+h)),{newWidth:b,newHeight:v}},t.prototype.calculateNewSizeFromAspectRatio=function(r,n,o,a){var i=this.props,l=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,d=i.lockAspectRatioExtraWidth,u=typeof a.width>"u"?10:a.width,f=typeof o.width>"u"||o.width<0?r:o.width,g=typeof a.height>"u"?10:a.height,x=typeof o.height>"u"||o.height<0?n:o.height,y=c||0,b=d||0;if(l){var v=(g-y)*this.ratio+b,p=(x-y)*this.ratio+b,h=(u-b)/this.ratio+y,m=(f-b)/this.ratio+y,j=Math.max(u,v),N=Math.min(f,p),S=Math.max(g,h),k=Math.min(x,m);r=va(r,j,N),n=va(n,S,k)}else r=va(r,u,f),n=va(n,g,x);return{newWidth:r,newHeight:n}},t.prototype.setBoundingClientRect=function(){var r=1/(this.props.scale||1);if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var o=n.getBoundingClientRect();this.parentLeft=o.left*r,this.parentTop=o.top*r}}if(this.props.bounds&&typeof this.props.bounds!="string"){var a=this.props.bounds.getBoundingClientRect();this.targetLeft=a.left*r,this.targetTop=a.top*r}if(this.resizable){var i=this.resizable.getBoundingClientRect(),l=i.left,c=i.top,d=i.right,u=i.bottom;this.resizableLeft=l*r,this.resizableRight=d*r,this.resizableTop=c*r,this.resizableBottom=u*r}},t.prototype.onResizeStart=function(r,n){if(!(!this.resizable||!this.window)){var o=0,a=0;if(r.nativeEvent&&p4(r.nativeEvent)?(o=r.nativeEvent.clientX,a=r.nativeEvent.clientY):r.nativeEvent&&ba(r.nativeEvent)&&(o=r.nativeEvent.touches[0].clientX,a=r.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(r,n,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var d=this.parentNode;if(d){var u=this.window.getComputedStyle(d).flexDirection;this.flexDir=u.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:o,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Qt(Qt({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(r.target).cursor||"auto"}),direction:n,flexBasis:l};this.setState(f)}},t.prototype.onMouseMove=function(r){var n=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ba(r))try{r.preventDefault(),r.stopPropagation()}catch{}var o=this.props,a=o.maxWidth,i=o.maxHeight,l=o.minWidth,c=o.minHeight,d=ba(r)?r.touches[0].clientX:r.clientX,u=ba(r)?r.touches[0].clientY:r.clientY,f=this.state,g=f.direction,x=f.original,y=f.width,b=f.height,v=this.getParentSize(),p=h4(v,this.window.innerWidth,this.window.innerHeight,a,i,l,c);a=p.maxWidth,i=p.maxHeight,l=p.minWidth,c=p.minHeight;var h=this.calculateNewSizeFromDirection(d,u),m=h.newHeight,j=h.newWidth,N=this.calculateNewMaxFromBoundary(a,i);this.props.snap&&this.props.snap.x&&(j=Qp(j,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(m=Qp(m,this.props.snap.y,this.props.snapGap));var S=this.calculateNewSizeFromAspectRatio(j,m,{width:N.maxWidth,height:N.maxHeight},{width:l,height:c});if(j=S.newWidth,m=S.newHeight,this.props.grid){var k=Jp(j,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),C=Jp(m,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),_=this.props.snapGap||0,M=_===0||Math.abs(k-j)<=_?k:j,I=_===0||Math.abs(C-m)<=_?C:m;j=M,m=I}var B={width:j-x.width,height:m-x.height};if(this.delta=B,y&&typeof y=="string"){if(y.endsWith("%")){var G=j/v.width*100;j="".concat(G,"%")}else if(y.endsWith("vw")){var Y=j/this.window.innerWidth*100;j="".concat(Y,"vw")}else if(y.endsWith("vh")){var oe=j/this.window.innerHeight*100;j="".concat(oe,"vh")}}if(b&&typeof b=="string"){if(b.endsWith("%")){var G=m/v.height*100;m="".concat(G,"%")}else if(b.endsWith("vw")){var Y=m/this.window.innerWidth*100;m="".concat(Y,"vw")}else if(b.endsWith("vh")){var oe=m/this.window.innerHeight*100;m="".concat(oe,"vh")}}var T={width:this.createSizeForCssProperty(j,"width"),height:this.createSizeForCssProperty(m,"height")};this.flexDir==="row"?T.flexBasis=T.width:this.flexDir==="column"&&(T.flexBasis=T.height);var O=this.state.width!==T.width,E=this.state.height!==T.height,D=this.state.flexBasis!==T.flexBasis,R=O||E||D;R&&Kt.flushSync(function(){n.setState(T)}),this.props.onResize&&R&&this.props.onResize(r,g,this.resizable,B)}},t.prototype.onMouseUp=function(r){var n,o,a=this.state,i=a.isResizing,l=a.direction;a.original,!(!i||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(r,l,this.resizable,this.delta),this.props.size&&this.setState({width:(n=this.props.size.width)!==null&&n!==void 0?n:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Qt(Qt({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(r){var n,o;this.setState({width:(n=r.width)!==null&&n!==void 0?n:"auto",height:(o=r.height)!==null&&o!==void 0?o:"auto"})},t.prototype.renderResizer=function(){var r=this,n=this.props,o=n.enable,a=n.handleStyles,i=n.handleClasses,l=n.handleWrapperStyle,c=n.handleWrapperClass,d=n.handleComponent;if(!o)return null;var u=Object.keys(o).map(function(f){return o[f]!==!1?s.jsx(d4,{direction:f,onResizeStart:r.onResizeStart,replaceStyles:a&&a[f],className:i&&i[f],children:d&&d[f]?d[f]:null},f):null});return s.jsx("div",{className:c,style:l,children:u})},t.prototype.render=function(){var r=this,n=Object.keys(this.props).reduce(function(i,l){return g4.indexOf(l)!==-1||(i[l]=r.props[l]),i},{}),o=Qt(Qt(Qt({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var a=this.props.as||"div";return s.jsxs(a,Qt({style:o,className:this.props.className},n,{ref:function(i){i&&(r.resizable=i)},children:[this.state.isResizing&&s.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(w.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dd=function(e,t){return dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},dd(e,t)};function y4(e,t){dd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _e=function(){return _e=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_e.apply(this,arguments)};function v4(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}var b4={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},w4=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},j4=function(e){y4(t,e);function t(r){var n=e.call(this,r)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:r.maxWidth,maxHeight:r.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var r=this.offsetFromParent,n=r.left,o=r.top,a=this.getDraggablePosition(),i=a.x,l=a.y;this.draggable.setState({x:i-n,y:l-o}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var r=this.draggable.state,n=r.x,o=r.y;return{x:n,y:o}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var r=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,n=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:r,maxHeight:n}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(r){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/n;case"body":return document.body.offsetHeight/n;default:return r.offsetHeight}},t.prototype.getOffsetWidth=function(r){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/n;case"body":return document.body.offsetWidth/n;default:return r.offsetWidth}},t.prototype.onDragStart=function(r,n){this.props.onDragStart&&this.props.onDragStart(r,n);var o=this.getDraggablePosition();if(this.originalPosition=o,!!this.props.bounds){var a=this.getParent(),i=this.props.scale,l;if(this.props.bounds==="parent")l=a;else if(this.props.bounds==="body"){var c=a.getBoundingClientRect(),d=c.left,u=c.top,f=document.body.getBoundingClientRect(),g=-(d-a.offsetLeft*i-f.left)/i,x=-(u-a.offsetTop*i-f.top)/i,y=(document.body.offsetWidth-this.resizable.size.width*i)/i+g,b=(document.body.offsetHeight-this.resizable.size.height*i)/i+x;return this.setState({bounds:{top:x,right:y,bottom:b,left:g}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var v=a.getBoundingClientRect(),p=v.left,h=v.top,m=-(p-a.offsetLeft*i)/i,j=-(h-a.offsetTop*i)/i,y=(window.innerWidth-this.resizable.size.width*i)/i+m,b=(window.innerHeight-this.resizable.size.height*i)/i+j;return this.setState({bounds:{top:j,right:y,bottom:b,left:m}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(a instanceof HTMLElement))){var N=l.getBoundingClientRect(),S=N.left,k=N.top,C=a.getBoundingClientRect(),_=C.left,M=C.top,I=(S-_)/i,B=k-M;if(this.resizable){this.updateOffsetFromParent();var G=this.offsetFromParent;this.setState({bounds:{top:B-G.top,right:I+(l.offsetWidth-this.resizable.size.width)-G.left/i,bottom:B+(l.offsetHeight-this.resizable.size.height)-G.top,left:I-G.left/i}})}}}},t.prototype.onDrag=function(r,n){if(this.props.onDrag){var o=this.offsetFromParent,a=o.left,i=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(r,_e(_e({},n),{x:n.x+a,y:n.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(r,_e(_e({},n),{x:n.x+a,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(r,_e(_e({},n),{x:this.originalPosition.x+a,y:n.y+i,deltaX:0}))}},t.prototype.onDragStop=function(r,n){if(this.props.onDragStop){var o=this.offsetFromParent,a=o.left,i=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(r,_e(_e({},n),{x:n.x+a,y:n.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(r,_e(_e({},n),{x:n.x+a,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(r,_e(_e({},n),{x:this.originalPosition.x+a,y:n.y+i,deltaX:0}))}},t.prototype.onResizeStart=function(r,n,o){r.stopPropagation(),this.setState({resizing:!0});var a=this.props.scale,i=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+i.left,y:l.y+i.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),d=void 0;this.props.bounds==="parent"?d=c:this.props.bounds==="body"?d=document.body:this.props.bounds==="window"?d=window:typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);var u=this.getSelfElement();if(u instanceof Element&&(d instanceof HTMLElement||d===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),g=f.maxWidth,x=f.maxHeight,y=this.getParentSize();if(g&&typeof g=="string")if(g.endsWith("%")){var b=Number(g.replace("%",""))/100;g=y.width*b}else g.endsWith("px")&&(g=Number(g.replace("px","")));if(x&&typeof x=="string")if(x.endsWith("%")){var b=Number(x.replace("%",""))/100;x=y.height*b}else x.endsWith("px")&&(x=Number(x.replace("px","")));var v=u.getBoundingClientRect(),p=v.left,h=v.top,m=this.props.bounds==="window"?{left:0,top:0}:d.getBoundingClientRect(),j=m.left,N=m.top,S=this.getOffsetWidth(d),k=this.getOffsetHeight(d),C=n.toLowerCase().endsWith("left"),_=n.toLowerCase().endsWith("right"),M=n.startsWith("top"),I=n.startsWith("bottom");if((C||M)&&this.resizable){var B=(p-j)/a+this.resizable.size.width;this.setState({maxWidth:B>Number(g)?g:B})}if(_||this.props.lockAspectRatio&&!C&&!M){var B=S+(j-p)/a;this.setState({maxWidth:B>Number(g)?g:B})}if((M||C)&&this.resizable){var B=(h-N)/a+this.resizable.size.height;this.setState({maxHeight:B>Number(x)?x:B})}if(I||this.props.lockAspectRatio&&!M&&!C){var B=k+(N-h)/a;this.setState({maxHeight:B>Number(x)?x:B})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(r,n,o)},t.prototype.onResize=function(r,n,o,a){var i=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-a.width,d=-a.height,u=["top","left","topLeft","bottomLeft","topRight"];u.includes(n)&&(n==="bottomLeft"?l.x+=c:(n==="topRight"||(l.x+=c),l.y+=d));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&Kt.flushSync(function(){i.draggable.setState(l)}),this.updateOffsetFromParent();var g=this.offsetFromParent,x=this.getDraggablePosition().x+g.left,y=this.getDraggablePosition().y+g.top;this.resizingPosition={x,y},this.props.onResize&&this.props.onResize(r,n,o,a,{x,y})},t.prototype.onResizeStop=function(r,n,o,a){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),l=i.maxWidth,c=i.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(r,n,o,a,this.resizingPosition)},t.prototype.updateSize=function(r){this.resizable&&this.resizable.updateSize({width:r.width,height:r.height})},t.prototype.updatePosition=function(r){this.draggable.setState(r)},t.prototype.updateOffsetFromParent=function(){var r=this.props.scale,n=this.getParent(),o=this.getSelfElement();if(!n||o===null)return{top:0,left:0};var a=n.getBoundingClientRect(),i=a.left,l=a.top,c=o.getBoundingClientRect(),d=this.getDraggablePosition(),u=n.scrollLeft,f=n.scrollTop;this.offsetFromParent={left:c.left-i+u-d.x*r,top:c.top-l+f-d.y*r}},t.prototype.render=function(){var r=this,n=this.props,o=n.disableDragging,a=n.style,i=n.dragHandleClassName,l=n.position,c=n.onMouseDown,d=n.onMouseUp,u=n.dragAxis,f=n.dragGrid,g=n.bounds,x=n.enableUserSelectHack,y=n.cancel,b=n.children;n.onResizeStart,n.onResize,n.onResizeStop,n.onDragStart,n.onDrag,n.onDragStop;var v=n.resizeHandleStyles,p=n.resizeHandleClasses,h=n.resizeHandleComponent,m=n.enableResizing,j=n.resizeGrid,N=n.resizeHandleWrapperClass,S=n.resizeHandleWrapperStyle,k=n.scale,C=n.allowAnyClick,_=n.dragPositionOffset,M=v4(n,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),I=this.props.default?_e({},this.props.default):void 0;delete M.default;var B=o||i?{cursor:"auto"}:{cursor:"move"},G=_e(_e(_e({},b4),B),a),Y=this.offsetFromParent,oe=Y.left,T=Y.top,O;l&&(O={x:l.x-oe,y:l.y-T});var E=this.state.resizing?void 0:O,D=this.state.resizing?"both":u;return w.createElement(l4,{ref:function(R){R&&(r.draggable=R)},handle:i?".".concat(i):void 0,defaultPosition:I,onMouseDown:c,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:D,disabled:o,grid:f,bounds:g?this.state.bounds:void 0,position:E,enableUserSelectHack:x,cancel:y,scale:k,allowAnyClick:C,nodeRef:this.resizableElement,positionOffset:_},w.createElement(x4,_e({},M,{ref:function(R){R&&(r.resizable=R,r.resizableElement.current=R.resizable)},defaultSize:I,size:this.props.size,enable:typeof m=="boolean"?w4(m):m,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:G,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:j,handleWrapperClass:N,handleWrapperStyle:S,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:v,handleClasses:p,handleComponent:h,scale:this.props.scale}),b))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(w.PureComponent);const N4=({element:e,onUpdate:t})=>{const r=e.metadata||{questions:[{id:"1",question:"New Question",options:["Option 1","Option 2"],correct:0}]};console.log(r);const n=(d,u)=>{const f=[...r.questions];f[d]={...f[d],...u},t({questions:f})},o=d=>{const u=[...r.questions];u[d].options.push(`New Option ${u[d].options.length+1}`),t({questions:u})},a=(d,u)=>{const f=[...r.questions];f[d].options=f[d].options.filter((g,x)=>x!==u),f[d].correct>=f[d].options.length&&(f[d].correct=0),t({questions:f})},i=(d,u,f)=>{const g=[...r.questions];g[d].options[u]=f,t({questions:g})},l=()=>{const d=[...r.questions,{id:Date.now().toString(),question:"New Question",options:["Option 1","Option 2"],correct:0}];t({questions:d})},c=d=>{const u=r.questions.filter((f,g)=>g!==d);t({questions:u})};return s.jsxs("div",{className:"w-full bg-white border border-gray-100 rounded-xl p-4 flex flex-col gap-4 select-text",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b pb-2 sticky top-0 bg-white z-10",children:[s.jsx(Qi,{size:18}),s.jsx("span",{children:"Quiz Editor"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-4 max-h-[500px] custom-scrollbar",children:r.questions.map((d,u)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 space-y-4 relative group/q",children:[s.jsx("button",{onClick:()=>c(u),className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 opacity-0 group-hover/q:opacity-100 transition-opacity",children:s.jsx(Jr,{size:14})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Question"}),s.jsx("input",{type:"text",value:d.question,onPointerDown:f=>f.stopPropagation(),onChange:f=>n(u,{question:f.target.value}),className:"w-full bg-white border border-gray-200 rounded-lg p-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Options"}),d.options.map((f,g)=>s.jsxs("div",{className:"flex items-center gap-2 group/opt",children:[s.jsx("button",{onClick:()=>n(u,{correct:g}),className:he("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",d.correct===g?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-primary-light"),children:d.correct===g&&s.jsx(kn,{size:12})}),s.jsx("input",{type:"text",value:f,onPointerDown:x=>x.stopPropagation(),onChange:x=>i(u,g,x.target.value),className:he("flex-1 bg-white border rounded-lg p-2 text-xs outline-none transition-all",d.correct===g?"border-green-200 ring-1 ring-green-100":"border-gray-200 focus:border-primary-light")}),s.jsx("button",{onClick:()=>a(u,g),className:"text-gray-300 hover:text-red-400 opacity-0 group-hover/opt:opacity-100 transition-opacity",children:s.jsx(Jr,{size:14})})]},g))]}),s.jsxs("button",{onClick:()=>o(u),className:"text-[10px] text-primary font-bold hover:underline flex items-center gap-1 mt-1",children:[s.jsx(Cn,{size:10})," Add Option"]})]},d.id))}),s.jsxs("button",{onClick:l,className:"w-full py-3 border-2 border-dashed border-gray-200 rounded-xl text-gray-400 hover:border-primary hover:text-primary transition-all flex items-center justify-center gap-2 text-sm font-bold mt-2",children:[s.jsx(Cn,{size:16})," Add New Question"]})]})},S4=({element:e})=>{const[t,r]=w.useState(!1),n=e.metadata||{front:"Question/Term",back:"Answer/Definition"};return s.jsx("div",{className:"w-full h-full perspective-1000 cursor-pointer",onClick:()=>r(!t),children:s.jsxs("div",{className:he("relative w-full h-full transition-all duration-500 preserve-3d shadow-xl rounded-xl",t?"rotate-y-180":""),children:[s.jsxs("div",{className:"absolute inset-0 backface-hidden bg-gradient-to-br from-primary to-primary-dark text-white rounded-xl flex flex-col items-center justify-center p-6 text-center",children:[s.jsx(Xi,{size:32,className:"mb-4 opacity-50"}),s.jsx("h3",{className:"text-xl font-bold",children:n.front}),s.jsx("p",{className:"text-xs mt-4 opacity-70 uppercase tracking-widest font-bold",children:"Click to Flip"})]}),s.jsxs("div",{className:"absolute inset-0 backface-hidden bg-white border-2 border-primary rounded-xl flex flex-col items-center justify-center p-6 text-center rotate-y-180",children:[s.jsx("p",{className:"text-primary text-lg font-medium",children:n.back}),s.jsx("p",{className:"text-xs mt-4 text-gray-400 uppercase tracking-widest font-bold",children:"Click to Flip"})]})]})})},k4=({element:e})=>{const t=e.metadata||{label:"Download Resource",fileName:"guide.pdf",url:"#",iconType:"pdf"},r=()=>{switch(t.iconType){case"link":return s.jsx(kn,{size:24});case"video":return s.jsx(Ki,{size:24});default:return s.jsx(Io,{size:24})}},n=()=>{switch(t.iconType){case"link":return"bg-primary-surface text-primary hover:bg-primary";case"video":return"bg-purple-50 text-purple-500 hover:bg-purple-500";default:return"bg-red-50 text-red-500 hover:bg-red-500"}};return s.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:s.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),className:"flex items-center gap-4 px-6 py-4 bg-white border border-gray-200 shadow-xl rounded-2xl hover:shadow-2xl hover:-translate-y-1 transition-all group w-full max-w-sm",children:[s.jsx("div",{className:he("w-12 h-12 rounded-xl flex items-center justify-center group-hover:text-white transition-colors",n()),children:r()}),s.jsxs("div",{className:"text-left flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-black text-gray-800 truncate",children:t.label}),s.jsx("p",{className:"text-[10px] text-gray-400 font-mono truncate",children:t.fileName})]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-primary-surface group-hover:text-primary transition-colors",children:s.jsx(kn,{size:16})})]})})},C4=({element:e,onUpdate:t})=>{const r=e.metadata||{title:"Discussion",comments:[]},[n,o]=w.useState(""),a=()=>{if(!n.trim())return;const i={id:Date.now().toString(),user:"You (Preview)",text:n,date:new Date().toLocaleDateString()};t({...r,comments:[...r.comments||[],i]}),o("")};return s.jsxs("div",{className:"w-full h-full bg-amber-50 border-2 border-amber-200 rounded-2xl p-4 flex flex-col gap-4 shadow-inner select-text max-h-[600px]",children:[s.jsxs("div",{className:"flex items-center justify-between text-amber-600 font-black text-xs uppercase tracking-widest border-b border-amber-200/50 pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{size:16}),s.jsx("span",{children:r.title||"Discussion Area"})]}),s.jsxs("span",{className:"bg-amber-100 px-2 py-0.5 rounded-full text-[10px]",children:[(r.comments||[]).length," Comments"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto max-h-[400px] space-y-3 pr-1 scrollbar-hide",children:(r.comments||[]).length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-amber-300 italic text-xs text-center p-8",children:[s.jsx(ur,{size:32,className:"mb-2 opacity-20"}),s.jsx("p",{children:"No comments yet. Start the conversation!"})]}):r.comments.map(i=>s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-3 rounded-xl border border-amber-100 shadow-sm animate-in slide-in-from-bottom-2 duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-bold text-[10px] text-amber-800",children:i.user}),s.jsx("span",{className:"text-[8px] text-amber-400 font-mono",children:i.date})]}),s.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:i.text})]},i.id))}),s.jsxs("div",{className:"flex gap-2 bg-white p-1 rounded-xl shadow-md border border-amber-100",children:[s.jsx("input",{type:"text",value:n,onPointerDown:i=>i.stopPropagation(),onChange:i=>o(i.target.value),placeholder:"Type a comment...",className:"flex-1 bg-transparent text-xs p-2 outline-none",onKeyDown:i=>i.key==="Enter"&&a()}),s.jsx("button",{onClick:a,className:"p-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors shadow-lg shadow-amber-500/20",children:s.jsx(Cn,{size:16})})]})]})},E4=({element:e})=>{const{state:t,dispatch:r}=js(),n=t.selectedElementId===e.id,o=V.useRef(null),a=d=>{d.stopPropagation(),r({type:"SELECT_ELEMENT",payload:e.id})},i=d=>{d.stopPropagation(),r({type:"DELETE_ELEMENT",payload:e.id})},l=d=>{r({type:"UPDATE_ELEMENT",payload:{id:e.id,content:d}})};V.useEffect(()=>{if(!o.current||e.type!=="quiz"&&e.type!=="comment")return;const d=new ResizeObserver(u=>{for(const f of u){const g=`${Math.min(600,Math.ceil(f.contentRect.height)+40)}px`;e.style.height!==g&&r({type:"UPDATE_ELEMENT",payload:{id:e.id,style:{...e.style,height:g}}})}});return d.observe(o.current),()=>d.disconnect()},[e.id,e.type,e.style.height,r]);const c=()=>{const d={...e.style};switch(delete d.width,delete d.height,e.type){case"text":return s.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:u=>l(u.currentTarget.textContent||""),style:d,className:"outline-none focus:ring-1 focus:ring-primary-light rounded px-1 w-full h-full min-h-[1.5em]",children:e.content||"Text Element"});case"hero":{const u=(e.content||"").split(`
`),g=(e.style.backgroundType||"gradient")==="gradient"?`linear-gradient(to bottom right, ${e.style.gradientStart||"#059669"}, ${e.style.gradientEnd||"#047857"})`:e.style.backgroundColor||"#059669";return s.jsxs("div",{style:{...d,background:g},className:"text-center w-full h-full flex flex-col justify-center p-8 text-white rounded-3xl shadow-xl overflow-hidden",children:[s.jsx("h1",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:x=>{const y=[...u];y[0]=x.currentTarget.textContent||"",l(y.join(`
`))},className:"text-3xl md:text-4xl font-extrabold mb-2 outline-none drop-shadow-md",children:u[0]||"Hero Title"}),s.jsx("p",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:x=>{const y=[...u];y[1]=x.currentTarget.textContent||"",l(y.join(`
`))},className:"text-lg opacity-90 font-medium outline-none",children:u[1]||"Subtext goes here"})]})}case"image":return s.jsx("div",{style:d,className:"w-full h-full bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:e.content?s.jsx("img",{src:e.content,alt:"Content",className:"w-full h-full object-cover pointer-events-none"}):s.jsx("span",{className:"text-gray-400 p-2 text-center italic text-xs",children:"Image Placeholder"})});case"video":return s.jsx("div",{style:d,className:"w-full h-full bg-gray-900 rounded-lg flex items-center justify-center text-white overflow-hidden pointer-events-none relative",children:e.content?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("p",{className:"text-[10px] text-gray-400 mb-1 uppercase tracking-widest font-bold",children:"Video Clip"}),s.jsx("p",{className:"font-mono text-xs truncate max-w-full",children:e.content})]}):s.jsx("span",{className:"italic text-gray-500 text-xs",children:"Video Placeholder"})});case"comment":return s.jsx(C4,{element:e,onUpdate:u=>r({type:"UPDATE_ELEMENT",payload:{id:e.id,metadata:u}})});case"list":{const u=(e.content||"").split(",").filter(f=>f.trim());return s.jsx("div",{style:d,className:"w-full h-full p-2",children:s.jsx("ul",{className:"list-disc list-inside space-y-2",children:u.length===0?s.jsx("li",{className:"text-gray-400 italic",children:"No items (use comma to separate)"}):u.map((f,g)=>s.jsx("li",{className:"text-gray-700 text-sm font-medium",children:s.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:x=>{const y=[...u];y[g]=x.currentTarget.textContent||"",l(y.join(","))},className:"outline-none",style:{color:"inherit"},children:f.trim()})},g))})})}case"quiz":return s.jsx(N4,{element:e,onUpdate:u=>r({type:"UPDATE_ELEMENT",payload:{id:e.id,metadata:u}})});case"flashcard":return s.jsx(S4,{element:e,onUpdate:u=>r({type:"UPDATE_ELEMENT",payload:{id:e.id,metadata:u}})});case"resource":return s.jsx(k4,{element:e,onUpdate:u=>r({type:"UPDATE_ELEMENT",payload:{id:e.id,metadata:u}})});default:return s.jsxs("div",{style:d,className:"w-full h-full flex items-center justify-center bg-gray-50 border border-dashed border-gray-300 rounded text-gray-400 text-xs italic",children:[e.type," Component"]})}};return s.jsxs(j4,{size:{width:e.style.width||"auto",height:e.style.height||"auto"},position:{x:e.position.x,y:e.position.y},onDragStop:(d,u)=>{r({type:"MOVE_ELEMENT",payload:{id:e.id,x:u.x,y:u.y}})},onResizeStop:(d,u,f,g,x)=>{r({type:"UPDATE_ELEMENT",payload:{id:e.id,style:{...e.style,width:f.style.width,height:f.style.height},position:x}})},dragHandleClassName:"move-handle",bounds:"#canvas-droppable",grid:[10,10],className:he("group hover:ring-2 hover:ring-primary-light transition-all",n&&"ring-2 ring-primary z-50",!n&&"z-[attr(zIndex)]"),style:{zIndex:e.zIndex},onPointerDown:a,children:[s.jsx("div",{className:he("move-handle absolute -top-3 -left-3 w-7 h-7 bg-white border border-gray-200 shadow-md rounded-lg flex items-center justify-center cursor-move opacity-0 group-hover:opacity-100 transition-opacity z-[60]",n&&"opacity-100"),children:s.jsx(Qg,{size:14,className:"text-gray-500"})}),n&&s.jsx("button",{onClick:i,className:"absolute -top-3 -right-3 w-7 h-7 bg-white border border-red-100 shadow-md rounded-lg flex items-center justify-center text-red-500 hover:bg-red-50 transition-colors z-[60]",children:s.jsx(Jr,{size:14})}),s.jsx("div",{ref:o,className:"w-full h-full p-2",children:c()})]})},R4=()=>{const{state:e,dispatch:t}=js(),{setNodeRef:r,isOver:n}=s0({id:"canvas-droppable"}),o=d=>{d.target===d.currentTarget&&t({type:"SELECT_ELEMENT",payload:null})},a=Math.max(...e.elements.map(d=>d.position.y+(parseInt(d.style.height)||50)+100),0),l=(()=>{switch(e.previewMode){case"mobile":return .45;case"tablet":return .85;default:return 1}})(),c=a*l;return s.jsx("div",{className:"flex-1 h-full bg-gray-50 overflow-y-auto p-4 md:p-8 transition-all duration-300 scrollbar-hide flex justify-center",onPointerDown:o,children:s.jsx("div",{className:"relative transition-all duration-500 flex justify-center w-full",style:{height:`${c}px`,minHeight:"100%"},children:s.jsxs("div",{id:"canvas-droppable",ref:r,style:{minHeight:a>0?`${a}px`:"800px",transform:`scale(${l})`,transformOrigin:"top center",width:"800px"},className:he("bg-white shadow-2xl border border-gray-100 p-8 transition-all duration-300 relative z-0",n&&"bg-primary-surface/50 border-primary/30 ring-4 ring-primary/5"),children:[s.jsx("div",{className:"absolute -top-6 left-0 right-0 flex justify-center",children:s.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest bg-gray-50 px-3 py-1 rounded-full border border-gray-200",children:[e.previewMode," View"]})}),s.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03]",style:{backgroundImage:"radial-gradient(#000 1px, transparent 1px)",backgroundSize:"20px 20px"}}),e.elements.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx("p",{className:"text-lg",children:"Drag components here"}),s.jsx("p",{className:"text-sm opacity-60",children:"Components will be placed where you drop them"})]}):e.elements.map(d=>s.jsx(E4,{element:d},d.id))]})})})},P4=()=>{var c,d,u,f,g;const{state:e,dispatch:t}=js(),[r,n]=w.useState(!1),o=e.elements.find(x=>x.id===e.selectedElementId);if(!o)return s.jsx("div",{className:"w-80 bg-gray-100 p-4 border-l border-gray-200 h-full overflow-y-auto",children:s.jsx("div",{className:"text-center text-gray-500 mt-10",children:s.jsx("p",{children:"Select an element to edit properties"})})});const a=(x,y)=>{t({type:"UPDATE_ELEMENT",payload:{id:o.id,style:{...o.style,[x]:y}}})},i=x=>{t({type:"UPDATE_ELEMENT",payload:{id:o.id,style:o.style,content:x}})},l=()=>{t({type:"DELETE_ELEMENT",payload:o.id})};return s.jsxs("div",{className:"w-80 bg-white p-4 border-l border-gray-200 h-full overflow-y-auto shadow-xl z-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Properties"}),s.jsx("button",{onClick:()=>t({type:"SELECT_ELEMENT",payload:null}),className:"text-gray-400 hover:text-gray-600",children:s.jsx(En,{size:18})})]}),s.jsxs("div",{className:"space-y-6",children:[(o.type==="text"||o.type==="image"||o.type==="video")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Content"}),o.type==="text"?s.jsx("textarea",{className:"w-full text-sm border border-gray-300 rounded p-2 focus:ring-2 focus:ring-primary focus:outline-none",rows:3,value:o.content||"",onChange:x=>i(x.target.value)}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",className:"w-full text-sm border border-gray-300 rounded p-2 focus:ring-2 focus:ring-primary focus:outline-none",value:o.content||"",onChange:x=>i(x.target.value),placeholder:`Enter ${o.type} URL or path`}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"flex-1 cursor-pointer bg-primary-surface hover:bg-primary-surface/80 text-primary text-[10px] font-bold py-2 px-3 rounded text-center transition-colors border border-primary/10",children:["Upload Local File",s.jsx("input",{type:"file",className:"hidden",accept:o.type==="image"?"image/*":"video/*",onChange:x=>{var b;const y=(b=x.target.files)==null?void 0:b[0];y&&(i(`/uploads/${y.name}`),alert(`File "${y.name}" would be uploaded to /public/uploads/ in a production environment.`))}})]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Spacing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 block mb-1",children:"Padding"}),s.jsx("input",{type:"text",className:"w-full text-sm border border-gray-300 rounded p-2",value:o.style.padding||"",onChange:x=>a("padding",x.target.value),placeholder:"0px"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 block mb-1",children:"Margin"}),s.jsx("input",{type:"text",className:"w-full text-sm border border-gray-300 rounded p-2",value:o.style.margin||"",onChange:x=>a("margin",x.target.value),placeholder:"0px"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Typography"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 block mb-1",children:"Font Size"}),s.jsx("input",{type:"text",className:"w-full text-sm border border-gray-300 rounded p-2",value:o.style.fontSize||"",onChange:x=>a("fontSize",x.target.value),placeholder:"16px"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 block mb-1",children:"Color"}),s.jsx("input",{type:"color",className:"w-full h-9 border border-gray-300 rounded p-1 cursor-pointer",value:o.style.color||"#000000",onChange:x=>a("color",x.target.value)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 block mb-1",children:"Align"}),s.jsxs("select",{className:"w-full text-sm border border-gray-300 rounded p-2",value:o.style.textAlign||"left",onChange:x=>a("textAlign",x.target.value),children:[s.jsx("option",{value:"left",children:"Left"}),s.jsx("option",{value:"center",children:"Center"}),s.jsx("option",{value:"right",children:"Right"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 block mb-1",children:"Font Weight"}),s.jsxs("select",{className:"w-full text-sm border border-gray-300 rounded p-2",value:o.style.fontWeight||"normal",onChange:x=>a("fontWeight",x.target.value),children:[s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"bold",children:"Bold"})]})]})]})]}),o.type==="hero"&&s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-600 block border-b pb-2 mb-2",children:"Background Style"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>a("backgroundType","solid"),className:he("flex-1 py-1.5 px-2 rounded-lg text-xs font-bold transition-all",(o.style.backgroundType||"gradient")==="solid"?"bg-primary text-white shadow-md shadow-primary/20":"bg-white border border-gray-200 text-gray-400 hover:border-primary/50"),children:"Solid"}),s.jsx("button",{onClick:()=>a("backgroundType","gradient"),className:he("flex-1 py-1.5 px-2 rounded-lg text-xs font-bold transition-all",(o.style.backgroundType||"gradient")==="gradient"?"bg-primary text-white shadow-md shadow-primary/20":"bg-white border border-gray-200 text-gray-400 hover:border-primary/50"),children:"Gradient"})]}),(o.style.backgroundType||"gradient")==="solid"?s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-bold",children:"Fill Color"}),s.jsx("input",{type:"color",className:"w-full h-10 border border-gray-200 rounded-lg p-1 cursor-pointer",value:o.style.backgroundColor||"#059669",onChange:x=>a("backgroundColor",x.target.value)})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-bold",children:"Start Color"}),s.jsx("input",{type:"color",className:"w-full h-10 border border-gray-200 rounded-lg p-1 cursor-pointer",value:o.style.gradientStart||"#059669",onChange:x=>a("gradientStart",x.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-bold",children:"End Color"}),s.jsx("input",{type:"color",className:"w-full h-10 border border-gray-200 rounded-lg p-1 cursor-pointer",value:o.style.gradientEnd||"#047857",onChange:x=>a("gradientEnd",x.target.value)})]})]})]}),o.type==="quiz"&&s.jsxs("div",{className:"space-y-4 p-4 bg-purple-50 rounded-xl border border-purple-100",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-purple-100 pb-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-bold text-xs uppercase",children:[s.jsx(No,{size:14}),s.jsx("span",{children:"AI Generator"})]}),s.jsx("button",{onClick:()=>{const x=e.elements.filter(b=>b.id!==o.id).map(b=>b.type==="text"?(b.content||"").replace(/<[^>]*>?/gm,""):b.type==="hero"?(b.content||"").replace(`
`,": "):b.type==="list"?"List items: "+b.content:"").filter(b=>b.length>0).join(`

`),y=document.getElementById("ai-prompt");y&&(y.value=x)},className:"text-[10px] font-black text-purple-600 hover:text-purple-800 underline",children:"Scrape from Canvas"})]}),s.jsx("p",{className:"text-[10px] text-purple-600",children:"Paste content below or scrape from canvas to generate quiz questions using AI."}),s.jsx("textarea",{id:"ai-prompt",className:"w-full text-sm border border-purple-200 rounded-lg p-2 h-32 focus:ring-2 focus:ring-purple-500 focus:outline-none bg-white font-medium",placeholder:"Paste a paragraph here..."}),s.jsxs("button",{disabled:r,onClick:async()=>{const x=document.getElementById("ai-prompt").value;if(!x)return alert("Please provide some text first!");n(!0);try{const y=await Cx(x);t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:y}})}catch(y){console.error("AI Generation Error",y),alert("Failed to generate real quiz. Falling back to mock.");const b=await zp(x);t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:b}})}finally{n(!1)}},className:he("w-full py-3 rounded-lg text-xs font-black transition-all flex items-center justify-center gap-2 shadow-lg",r?"bg-purple-400 cursor-not-allowed text-white":"bg-purple-600 text-white hover:bg-purple-700 shadow-purple-600/20"),children:[r?s.jsx(yn,{size:16,className:"animate-spin"}):s.jsx(No,{size:16}),r?"Generating...":"Generate with Real AI"]}),s.jsx("div",{className:"flex flex-col gap-1 opacity-50",children:s.jsx("button",{onClick:async()=>{const x=document.getElementById("ai-prompt").value,y=await zp(x||"Default content");t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:y}})},className:"text-[10px] text-center text-purple-400 hover:underline",children:"Use Mock Generator (Testing)"})})]}),o.type==="resource"&&s.jsxs("div",{className:"bg-white border-2 border-orange-100 rounded-2xl p-4 shadow-sm space-y-4 animate-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"flex items-center gap-2 text-orange-600 font-black text-[10px] uppercase tracking-widest pb-2 border-b border-orange-50",children:[s.jsx(Io,{size:14}),s.jsx("span",{children:"Resource Settings"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Button Label"}),s.jsx("input",{type:"text",value:((c=o.metadata)==null?void 0:c.label)||"",onChange:x=>t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,label:x.target.value}}}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-orange-500/20 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"File/Link URL"}),s.jsx("input",{type:"text",value:((d=o.metadata)==null?void 0:d.url)||"",onChange:x=>t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,url:x.target.value}}}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-orange-500/20 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Display Filename"}),s.jsx("input",{type:"text",value:((u=o.metadata)==null?void 0:u.fileName)||"",onChange:x=>t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,fileName:x.target.value}}}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-orange-500/20 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Icon Type"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["pdf","link","video"].map(x=>{var y;return s.jsx("button",{onClick:()=>t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,iconType:x}}}),className:he("py-2 px-1 rounded-xl border text-[10px] font-bold uppercase transition-all",(((y=o.metadata)==null?void 0:y.iconType)||"pdf")===x?"bg-orange-500 border-orange-500 text-white shadow-lg shadow-orange-500/20":"bg-white border-gray-200 text-gray-400 hover:border-orange-300"),children:x},x)})})]})]})]}),o.type==="comment"&&s.jsxs("div",{className:"space-y-4 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 font-bold text-xs uppercase",children:[s.jsx(ur,{size:14}),s.jsx("span",{children:"Discussion Settings"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-amber-400 font-bold uppercase block mb-1",children:"Section Title"}),s.jsx("input",{type:"text",className:"w-full text-sm border border-amber-200 rounded-lg p-2 bg-white outline-none focus:ring-2 focus:ring-amber-500",value:((f=o.metadata)==null?void 0:f.title)||"Discussion",onChange:x=>t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,title:x.target.value}}})})]})]}),o.type==="list"&&s.jsxs("div",{className:"space-y-4 p-4 bg-primary-surface/30 rounded-xl border border-primary/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xs uppercase",children:[s.jsx(Cn,{size:14}),s.jsx("span",{children:"List Content"})]}),s.jsx("p",{className:"text-[10px] text-primary/60 mb-2",children:"Each item should be separated by a comma."}),s.jsx("textarea",{className:"w-full text-sm border border-gray-200 rounded-lg p-3 bg-white outline-none focus:ring-2 focus:ring-primary h-32",value:o.content||"",onChange:x=>i(x.target.value),placeholder:"Item 1, Item 2, Item 3..."})]}),o.type==="video"&&s.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-xs uppercase",children:[s.jsx(fi,{size:14}),s.jsx("span",{children:"Video Markers"})]}),s.jsx("div",{className:"space-y-2",children:(((g=o.metadata)==null?void 0:g.markers)||[]).map((x,y)=>s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-slate-200 text-xs text-slate-600",children:[s.jsx(fi,{size:12,className:"text-slate-400"}),s.jsxs("span",{className:"font-mono",children:[x.time,"s"]}),s.jsx("span",{className:"flex-1 truncate",children:x.label}),s.jsx("button",{onClick:()=>{const b=o.metadata.markers.filter((v,p)=>p!==y);t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,markers:b}}})},className:"text-red-400 hover:text-red-600",children:s.jsx(Jr,{size:12})})]},y))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{id:"new-marker-time",type:"text",placeholder:"1:20",className:"w-16 text-xs border rounded p-1"}),s.jsx("button",{onClick:()=>{var p;const x=document.getElementById("new-marker-time").value,y=x.match(/(\d+):(\d+)/),b=y?parseInt(y[1])*60+parseInt(y[2]):parseInt(x);if(isNaN(b))return alert("Invalid time format");const v=[...((p=o.metadata)==null?void 0:p.markers)||[],{time:b,label:"Pause + Quiz"}];t({type:"UPDATE_ELEMENT",payload:{id:o.id,metadata:{...o.metadata,markers:v}}})},className:"flex-1 bg-slate-800 text-white text-[10px] font-bold py-1 px-2 rounded hover:bg-slate-900 transition-colors",children:"Add Marker"})]})]}),s.jsx("div",{className:"pt-6 border-t border-gray-200",children:s.jsx("button",{onClick:l,className:"w-full py-2 bg-red-50 text-red-600 rounded hover:bg-red-100 text-sm font-medium transition-colors",children:"Delete Element"})})]})]})},z4=()=>{const{state:e,dispatch:t}=js(),{state:r,dispatch:n}=Uo(),o=Ee(),{topicId:a}=bs(),i=async()=>{if(!a)return;const d=jS(e),u=JSON.stringify({elements:e.elements});n({type:"UPDATE_TOPIC_CONTENT",payload:{id:a,contentHTML:d,layoutJSON:u}});const f=r.backendCourseId||localStorage.getItem("course_id");if(f)try{const g=r.topics.find(b=>b.id===a),x=r.topics.findIndex(b=>b.id===a)+1,y={title:(g==null?void 0:g.title)||"Untitled Topic",content:{elements:e.elements},order:x,courseId:f};await xN(y),console.log("Topic saved to backend successfully.")}catch(g){console.error("Error saving topic to backend:",g),alert("Failed to sync topic to cloud. Please check your connection or ensure the course is saved.")}else console.log("Topic saved locally. No backend course ID found to sync.");o("/facilitator/course-outline")},l=()=>{const d=kS(e.elements,a||"temp","Demo Topic");console.log("Serialized JSON Output:",JSON.stringify(d,null,2)),alert("JSON printed to console! Open DevTools to view.")},c=()=>{confirm("Are you sure you want to clear the canvas?")&&t({type:"CLEAR_CANVAS"})};return s.jsxs("div",{className:"h-16 bg-white border-b border-gray-200 px-4 flex items-center justify-between z-10 relative shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:()=>o("/facilitator/course-outline"),className:"flex items-center gap-2 text-gray-500 hover:text-primary font-bold text-sm transition-all border-none bg-transparent cursor-pointer active:scale-95 px-2 py-1 rounded-lg hover:bg-primary-surface",children:[s.jsx(dr,{size:18}),"Back to Outline"]}),s.jsxs("div",{className:"flex items-center gap-1 border-l border-gray-200 pl-6",children:[s.jsx("button",{onClick:()=>t({type:"UNDO"}),disabled:e.past.length===0,className:"p-2 text-gray-500 hover:bg-gray-100 rounded disabled:opacity-30 disabled:hover:bg-transparent border-none bg-transparent cursor-pointer",title:"Undo",children:s.jsx(Oj,{size:18})}),s.jsx("button",{onClick:()=>t({type:"REDO"}),disabled:e.future.length===0,className:"p-2 text-gray-500 hover:bg-gray-100 rounded disabled:opacity-30 disabled:hover:bg-transparent border-none bg-transparent cursor-pointer",title:"Redo",children:s.jsx(pj,{size:18})}),s.jsx("button",{onClick:c,className:"p-2 text-red-400 hover:bg-red-50 hover:text-red-500 rounded border-none bg-transparent cursor-pointer",title:"Clear Canvas",children:s.jsx(Jr,{size:18})})]}),s.jsxs("div",{className:"flex items-center gap-1 border-l border-gray-200 pl-6 bg-gray-50 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>t({type:"SET_PREVIEW_MODE",payload:"desktop"}),className:he("p-1.5 rounded-md transition-all border-none bg-transparent cursor-pointer",e.previewMode==="desktop"?"bg-white shadow-sm text-primary":"text-gray-400 hover:text-gray-600"),title:"Desktop View",children:s.jsx(oj,{size:18})}),s.jsx("button",{onClick:()=>t({type:"SET_PREVIEW_MODE",payload:"tablet"}),className:he("p-1.5 rounded-md transition-all border-none bg-transparent cursor-pointer",e.previewMode==="tablet"?"bg-white shadow-sm text-primary":"text-gray-400 hover:text-gray-600"),title:"Tablet View",children:s.jsx(Rj,{size:18})}),s.jsx("button",{onClick:()=>t({type:"SET_PREVIEW_MODE",payload:"mobile"}),className:he("p-1.5 rounded-md transition-all border-none bg-transparent cursor-pointer",e.previewMode==="mobile"?"bg-white shadow-sm text-primary":"text-gray-400 hover:text-gray-600"),title:"Mobile View",children:s.jsx(Nj,{size:18})})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>t({type:"SET_VIEW",payload:"templates"}),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all active:scale-95 cursor-pointer shadow-sm",children:[s.jsx(Xg,{size:16}),"Templates"]}),s.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all shadow-sm active:scale-95 cursor-pointer",children:[s.jsx(Jg,{size:16}),"Print JSON"]}),s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-primary border-none rounded-xl hover:bg-primary-dark shadow-lg transition-all active:scale-95 cursor-pointer",children:[s.jsx(mj,{size:16}),"Save Topic Content"]})]})]})},_4={basic:{elements:[{id:Dt(),type:"text",content:"Welcome to the Course",position:{x:150,y:50},zIndex:1,style:{fontSize:"32px",fontWeight:"bold",textAlign:"center",padding:"10px",width:"600px"}},{id:Dt(),type:"image",content:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800&auto=format&fit=crop&q=60",position:{x:100,y:150},zIndex:2,style:{padding:"0px",borderRadius:"8px",width:"700px",height:"400px"}},{id:Dt(),type:"text",content:"This is the introduction to the course content. You can edit this text directly on the canvas.",position:{x:150,y:580},zIndex:3,style:{fontSize:"16px",padding:"10px",textAlign:"center",color:"#666",width:"600px"}}],selectedElementId:null,past:[],future:[],previewMode:"desktop",view:"editor"},portfolio:{elements:[{id:Dt(),type:"hero",content:`Creative Designer & Developer
Helping brands build digital experiences that matter.`,position:{x:150,y:80},zIndex:1,style:{textAlign:"center",width:"600px"}},{id:Dt(),type:"image",content:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=1200&auto=format&fit=crop&q=60",position:{x:50,y:250},zIndex:2,style:{width:"800px",height:"450px",borderRadius:"12px"}},{id:Dt(),type:"text",content:"My Skills & Expertise",position:{x:300,y:720},zIndex:3,style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",width:"300px"}},{id:Dt(),type:"list",content:"Modern UI/UX Design with Tailwind CSS, React & Next.js Development, Brand Identity & Strategy, Responsive Web Applications",position:{x:150,y:780},zIndex:4,style:{padding:"20px",width:"600px",backgroundColor:"#f8fafc",borderRadius:"16px"}}],selectedElementId:null,past:[],future:[],previewMode:"desktop",view:"editor"},business:{elements:[{id:Dt(),type:"hero",content:`Revolutionizing Team Collaboration
The ultimate platform for modern distributed teams.`,position:{x:150,y:50},zIndex:1,style:{textAlign:"center",width:"600px"}},{id:Dt(),type:"video",content:"YouTube: Product Walkthrough 2024",position:{x:150,y:200},zIndex:2,style:{width:"600px",height:"340px"}},{id:Dt(),type:"list",content:"Real-time synchronization across all devices, Enterprise-grade security and encryption, Seamless integration with your favorite tools, Advanced analytics and reporting",position:{x:150,y:580},zIndex:3,style:{padding:"24px",backgroundColor:"#eff6ff",borderRadius:"16px",width:"600px",color:"#1e40af"}}],selectedElementId:null,past:[],future:[],previewMode:"desktop",view:"editor"}},T4=()=>{const{dispatch:e}=js(),t=[{id:"basic",title:"Basic Setup",description:"A clean, simple start with a header, image, and text block.",icon:"",color:"bg-primary"},{id:"portfolio",title:"Personal Portfolio",description:"Showcase your skills and work with a premium dark-themed preset.",icon:"",color:"bg-indigo-600"},{id:"business",title:"Business Pitch",description:"Conversion-focused landing page with video and feature lists.",icon:"",color:"bg-emerald-600"}];return s.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-50 flex flex-col animate-in fade-in duration-300",children:[s.jsxs("div",{className:"h-16 bg-white border-b border-gray-200 px-8 flex items-center justify-between shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-primary p-2 rounded-lg text-white",children:s.jsx(Xg,{size:20})}),s.jsx("h2",{className:"font-bold text-xl text-gray-800",children:"Choose a Template"})]}),s.jsx("button",{onClick:()=>e({type:"SET_VIEW",payload:"editor"}),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all",children:s.jsx(En,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>s.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 overflow-hidden flex flex-col",children:[s.jsx("div",{className:`h-40 ${r.color} flex items-center justify-center text-6xl`,children:r.icon}),s.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[s.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-2",children:r.title}),s.jsx("p",{className:"text-gray-500 text-sm mb-6 flex-1 leading-relaxed",children:r.description}),s.jsxs("button",{onClick:()=>e({type:"LOAD_TEMPLATE",payload:_4[r.id]}),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold flex items-center justify-center gap-2 group-hover:bg-primary transition-colors shadow-lg",children:["Use This Template",s.jsx(kn,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]},r.id))}),s.jsx("div",{className:"mt-16 text-center",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["More templates coming soon! Want to suggest one? ",s.jsx("span",{className:"text-primary cursor-pointer hover:underline font-medium",children:"Contact Support"})]})})]})})]})},D4={sideEffects:o0({styles:{active:{opacity:"0.5"}}})},M4=()=>{const{topicId:e}=bs(),t=Ee(),{state:r}=Uo(),{state:n,dispatch:o}=js();if(w.useEffect(()=>{const y=r.topics.find(b=>b.id===e);if(y)try{const b=JSON.parse(y.layoutJSON||'{"elements":[]}'),v=b.elements||(Array.isArray(b)?b:[]);o({type:"LOAD_STATE",payload:{elements:v}})}catch(b){console.error("Failed to parse topic layout",b),o({type:"LOAD_STATE",payload:{elements:[]}})}},[e,r.topics]),!e||!r.topics.find(y=>y.id===e))return s.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Topic not found"}),s.jsx("button",{onClick:()=>t("/facilitator/course-outline"),className:"px-6 py-2 bg-primary text-white rounded-lg font-bold shadow-lg hover:bg-primary-dark transition-all",children:"Return to Outline"})]})});const[a,i]=w.useState(null),[l,c]=w.useState(null),d=Lx(ad(nl,{activationConstraint:{distance:5}})),u=y=>{var b;if((b=y.active.data.current)!=null&&b.isSidebarItem)i(y.active.data.current.type);else{const v=n.elements.find(p=>p.id===y.active.id);v&&c(v)}},f=()=>{},g=y=>{var h,m;const{active:b,over:v,delta:p}=y;if(i(null),c(null),!!v)if((h=b.data.current)!=null&&h.isSidebarItem){const j=b.data.current.type;if(v.id==="canvas-droppable"||n.elements.some(N=>N.id===v.id)){const N=document.getElementById("canvas-droppable");let S=20,k=20;if(N){const _=N.getBoundingClientRect(),M=y.activatorEvent;M&&(S=M.clientX-_.left+p.x,k=M.clientY-_.top+p.y)}S=Math.round(S/10)*10,k=Math.round(k/10)*10;const C={id:Dt(),type:j,content:j==="text"?"New Text":"",position:{x:S,y:k},zIndex:n.elements.length+1,style:{padding:"10px",backgroundColor:j==="comment"?"#fffbeb":"transparent",width:j==="hero"||j==="video"?"600px":"200px",height:j==="video"?"340px":"auto"}};j==="hero"?C.content=`Big Awesome Title
Small interesting subtitle goes here`:j==="list"&&(C.content="Item 1,Item 2,Item 3"),o({type:"ADD_ELEMENT",payload:C}),o({type:"SELECT_ELEMENT",payload:C.id})}}else b.id&&!((m=b.data.current)!=null&&m.isSidebarItem)&&o({type:"SELECT_ELEMENT",payload:b.id})},x=y=>{switch(y){case"text":return s.jsx(sx,{size:18});case"image":return s.jsx(gu,{size:18});case"video":return s.jsx(Ki,{size:18});case"container":return s.jsx(ex,{size:18});case"hero":return s.jsx(nx,{size:18});case"list":return s.jsx(xu,{size:18});case"quiz":return s.jsx(Qi,{size:18});case"flashcard":return s.jsx(Xi,{size:18});case"resource":return s.jsx(Io,{size:18});case"comment":return s.jsx(ur,{size:18});default:return null}};return s.jsxs(t0,{sensors:d,onDragStart:u,onDragOver:f,onDragEnd:g,children:[n.view==="templates"&&s.jsx(T4,{}),s.jsxs("div",{className:he("flex flex-col h-screen overflow-hidden transition-all duration-500",n.view==="templates"?"opacity-0 pointer-events-none scale-95 blur-sm":"opacity-100 scale-100 blur-0"),children:[s.jsx(z4,{}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(yC,{}),s.jsx(R4,{}),s.jsx(P4,{})]})]}),s.jsxs(Kk,{dropAnimation:D4,children:[a?s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white border-2 border-primary rounded-xl shadow-2xl scale-110 rotate-2 transition-transform cursor-grabbing z-50",children:[x(a),s.jsx("span",{className:"font-bold text-primary truncate max-w-[150px]",children:a==="text"?"New Text Block":`New ${a.charAt(0).toUpperCase()+a.slice(1)}`})]}):null,l?s.jsx("div",{className:"opacity-90 scale-[1.02] shadow-2xl rounded-lg overflow-hidden border-2 border-primary/50 bg-white cursor-grabbing z-50 pointer-events-none p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[x(l.type),s.jsxs("span",{className:"font-bold text-primary",children:["Moving ",l.type]})]})}):null]})]})},Kp=()=>{const{topicId:e}=bs(),{state:t}=Uo(),r=t.topics.find(n=>n.id===e);if(!r||!r.layoutJSON)return s.jsx("div",{className:"p-10 text-center",children:"Topic data not found. Save it in the editor first."});try{const n=JSON.parse(r.layoutJSON);return s.jsx(Ex,{data:n,topicId:e||""})}catch{return s.jsx("div",{className:"p-10 text-center text-red-500",children:"Failed to parse course data."})}};function O4({children:e}){const{user:t}=Qe();return t?e:s.jsx(dn,{to:"/signin",replace:!0})}function ze({children:e,allowedRoles:t}){const{user:r}=Qe();return r?t&&!t.includes(r.role)?r.role==="Admin"?s.jsx(dn,{to:"/admin/dashboard",replace:!0}):r.role==="Facilitator"?s.jsx(dn,{to:"/facilitator/dashboard",replace:!0}):s.jsx(dn,{to:"/dashboard",replace:!0}):e:s.jsx(dn,{to:"/signin",replace:!0})}function L4(){return s.jsx(Hw,{children:s.jsx(yS,{children:s.jsx(bS,{children:s.jsxs(Xb,{children:[s.jsx(le,{path:"/signin",element:s.jsx(Wj,{})}),s.jsx(le,{path:"/forgot-password",element:s.jsx(qj,{})}),s.jsx(le,{path:"/signup",element:s.jsx(Vj,{})}),s.jsx(le,{path:"/dashboard",element:s.jsx(ze,{allowedRoles:["Student"],children:s.jsx(tN,{})})}),s.jsx(le,{path:"/library",element:s.jsx(ze,{allowedRoles:["Student"],children:s.jsx(pN,{})})}),s.jsx(le,{path:"/study/:courseId",element:s.jsx(ze,{allowedRoles:["Student"],children:s.jsx(cS,{})})}),s.jsx(le,{path:"/student/study_topic/:topicId",element:s.jsx(ze,{allowedRoles:["Student"],children:s.jsx(mS,{})})}),s.jsx(le,{path:"/programs",element:s.jsx(ze,{allowedRoles:["Student"],children:s.jsx(hN,{})})}),s.jsx(le,{path:"/messages",element:s.jsx(ze,{allowedRoles:["Student"],children:s.jsx(mN,{})})}),s.jsx(le,{path:"/facilitator/dashboard",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(Np,{})})}),s.jsx(le,{path:"/facilitator/courses",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(Np,{})})}),s.jsx(le,{path:"/facilitator/students",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(sN,{})})}),s.jsx(le,{path:"/facilitator/progress",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(oN,{})})}),s.jsx(le,{path:"/facilitator/create-course",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(wS,{})})}),s.jsx(le,{path:"/facilitator/course-outline/:courseId?",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(xC,{})})}),s.jsx(le,{path:"/facilitator/editor/:topicId",element:s.jsx(ze,{allowedRoles:["Facilitator"],children:s.jsx(M4,{})})}),s.jsx(le,{path:"/facilitator/preview/:topicId",element:s.jsx(ze,{allowedRoles:["Facilitator","Student","Admin"],children:s.jsx(Kp,{})})}),s.jsx(le,{path:"/facilitator/preview",element:s.jsx(ze,{allowedRoles:["Facilitator","Student","Admin"],children:s.jsx(Kp,{})})}),s.jsx(le,{path:"/admin/enrollment",element:s.jsx(ze,{allowedRoles:["Admin"],children:s.jsx(nN,{})})}),s.jsx(le,{path:"/admin/dashboard",element:s.jsx(ze,{allowedRoles:["Admin"],children:s.jsx(Gl,{})})}),s.jsx(le,{path:"/admin/add-facilitator",element:s.jsx(ze,{allowedRoles:["Admin"],children:s.jsx(Gl,{})})}),s.jsx(le,{path:"/admin/add-admin",element:s.jsx(ze,{allowedRoles:["Admin"],children:s.jsx(Gl,{})})}),s.jsx(le,{path:"/settings",element:s.jsx(O4,{children:s.jsx(gN,{})})}),s.jsx(le,{path:"/",element:s.jsx(dn,{to:"/dashboard",replace:!0})}),s.jsx(le,{path:"*",element:s.jsx(dn,{to:"/dashboard",replace:!0})})]})})})})}const k0=document.getElementById("root");if(!k0)throw new Error("Root element not found. Check index.html");fg(k0).render(s.jsx(V.StrictMode,{children:s.jsx(o1,{children:s.jsx(L4,{})})}));
